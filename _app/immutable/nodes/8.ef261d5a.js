import{S as ie,i as ne,s as se,k as y,q,a as W,l as w,m as R,r as Z,h as g,c as j,n as E,p as N,b as T,C,D as Ie,w as x,Q as ee,y as U,z as Y,H as ue,A as Q,R as te,g as P,d as A,B as X,P as tt,T as Le,U as ae,v as he,f as _e,V as de,Y as lt,X as at,W as Ee,u as Ce,e as Se}from"../chunks/index.a0fda582.js";import{b as ye}from"../chunks/paths.45e32143.js";import{T as it,H as nt,S as st}from"../chunks/Subhead.660a0e61.js";import{S as ot,P as rt}from"../chunks/Placeholder.6a1bab43.js";import{a as we,r as Oe,f as ct,t as Re}from"../chunks/utils.4968a9d3.js";import{S as ut}from"../chunks/Select.512d338c.js";function ft(t){let e,l;return{c(){e=y("p"),l=q(t[7]),this.h()},l(o){e=w(o,"P",{class:!0,style:!0});var n=R(e);l=Z(n,t[7]),n.forEach(g),this.h()},h(){E(e,"class","secondaryText svelte-uxdwpk"),N(e,"font-size",t[6].length<=5?"12px":"10px"),N(e,"line-height",t[6].length<=5?"13px":"11px")},m(o,n){T(o,e,n),C(e,l)},p:Ie,d(o){o&&g(e)}}}function dt(t){let e,l,o,n,r=t[1]!=null&t[0]!=null&&ft(t);return{c(){e=y("div"),l=y("p"),o=q(t[5]),n=W(),r&&r.c(),this.h()},l(s){e=w(s,"DIV",{class:!0,style:!0});var a=R(e);l=w(a,"P",{class:!0,style:!0});var i=R(l);o=Z(i,t[5]),i.forEach(g),n=j(a),r&&r.l(a),a.forEach(g),this.h()},h(){E(l,"class","mainText svelte-uxdwpk"),N(l,"font-size",t[5].length<=5?"18px":t[5].length<=6?"16px":t[5].length<=7?"14px":"12px"),E(e,"class","cell-container "+(t[0]==null?"no-data":"")+" svelte-uxdwpk"),N(e,"background-color",t[4]),N(e,"color",t[2]==="improving"&t[3]==="below average"?"black":"white")},m(s,a){T(s,e,a),C(e,l),C(l,o),C(e,n),r&&r.m(e,null)},p(s,[a]){s[1]!=null&s[0]!=null&&r.p(s,a)},i:Ie,o:Ie,d(s){s&&g(e),r&&r.d()}}}function ht(t,e,l){let{latestData:o,medianValue:n,initialData:r,indicatorMetadata:s,periodsLookup:a,bivariateColourObj:i}=e,c=o.length>0?o[0].value:null,d=r.length>0?r[0].value:null,u=c!=null&d!=null?100*(c-d)/d:null,S=c!=null?100*(c-n)/n:null,L=u!=null?Math.abs(u)<s.similarThreshold?"similar":u>0?s.polarity==1?"improving":"worsening":s.polarity==1?"worsening":"improving":null,F=S!=null?Math.abs(S)<s.similarThreshold?"similar":S>0?s.polarity==1?"above average":"below average":s.polarity==1?"below average":"above average":null,K=L==null&L==null?"grey":i[L??"similar"][F??"similar"],O=s.prefix===null?"":s.prefix,_=s.suffix===null?"":s.suffix,f=c!=null?a.find(p=>p.xDomainNumb===o[0].xDomainNumb):null;f=f!=null?f.label!=null?f.label:f.labelShort:null;let v=d!=null?a.find(p=>p.xDomainNumb===r[0].xDomainNumb):null;v=v!=null?v.label!=null?v.label:v.labelShort:null;let D=c!=null?O+we(Oe(c,s.decimalPlaces))+_:"No data",H=d!=null?O+we(Oe(d,s.decimalPlaces))+_:"No data",b=d!=null?"("+H+" in "+v+")":"No data";return t.$$set=p=>{"latestData"in p&&l(8,o=p.latestData),"medianValue"in p&&l(9,n=p.medianValue),"initialData"in p&&l(10,r=p.initialData),"indicatorMetadata"in p&&l(11,s=p.indicatorMetadata),"periodsLookup"in p&&l(12,a=p.periodsLookup),"bivariateColourObj"in p&&l(13,i=p.bivariateColourObj)},[c,d,L,F,K,D,H,b,o,n,r,s,a,i]}class He extends ie{constructor(e){super(),ne(this,e,ht,dt,se,{latestData:8,medianValue:9,initialData:10,indicatorMetadata:11,periodsLookup:12,bivariateColourObj:13})}}function _t(t){let e,l,o,n,r,s,a,i,c;function d(_){t[39](_)}function u(_){t[40](_)}function S(_){t[41](_)}function L(_){t[42](_)}function F(_){t[43](_)}function K(_){t[44](_)}let O={id:t[2],container:t[3],items:t[4],placeholder:t[5],isMulti:t[10],isSearchable:t[6],groupBy:t[22],loadOptions:t[9],getSelectionLabel:t[12],getOptionLabel:t[21],itemFilter:t[19],ariaValues:t[25],ariaListOpen:t[26],ariaFocused:t[27],noOptionsMessage:t[20],indicatorSvg:t[23],containerStyles:t[24],optionIdentifier:t[8],showIndicator:!0,isClearable:t[7]?!t[10]:!1};return t[15]!==void 0&&(O.isFocused=t[15]),t[0]!==void 0&&(O.value=t[0]),t[16]!==void 0&&(O.listOpen=t[16]),t[1]!==void 0&&(O.filterText=t[1]),t[13]!==void 0&&(O.isWaiting=t[13]),t[17]!==void 0&&(O.handleClear=t[17]),l=new ut({props:O}),x.push(()=>ee(l,"isFocused",d)),x.push(()=>ee(l,"value",u)),x.push(()=>ee(l,"listOpen",S)),x.push(()=>ee(l,"filterText",L)),x.push(()=>ee(l,"isWaiting",F)),x.push(()=>ee(l,"handleClear",K)),l.$on("select",t[28]),l.$on("clear",t[45]),l.$on("loaded",t[46]),l.$on("error",t[47]),{c(){e=y("div"),U(l.$$.fragment),this.h()},l(_){e=w(_,"DIV",{class:!0});var f=R(e);Y(l.$$.fragment,f),f.forEach(g),this.h()},h(){E(e,"class","selectbox svelte-gskmgd"),ue(e,"multi-selected",t[0]&&t[10]),ue(e,"focused",t[15]),ue(e,"selected",t[0]&&!t[16]&&!t[10]),N(e,"--borderColor",t[11]),N(e,"--firstItem",t[18](0)),N(e,"--secondItem",t[18](1)),N(e,"--thirdItem",t[18](2)),N(e,"--fourthItem",t[18](3)),N(e,"--fifthItem",t[18](4)),N(e,"--sixthItem",t[18](5)),N(e,"--seventhItem",t[18](6)),N(e,"--eighthItem",t[18](7)),N(e,"--ninethItem",t[18](8)),N(e,"--tenthItem",t[18](9))},m(_,f){T(_,e,f),Q(l,e,null),t[48](e),c=!0},p(_,f){const v={};f[0]&4&&(v.id=_[2]),f[0]&8&&(v.container=_[3]),f[0]&16&&(v.items=_[4]),f[0]&32&&(v.placeholder=_[5]),f[0]&1024&&(v.isMulti=_[10]),f[0]&64&&(v.isSearchable=_[6]),f[0]&512&&(v.loadOptions=_[9]),f[0]&4096&&(v.getSelectionLabel=_[12]),f[0]&524288&&(v.itemFilter=_[19]),f[0]&1048576&&(v.noOptionsMessage=_[20]),f[0]&256&&(v.optionIdentifier=_[8]),f[0]&1152&&(v.isClearable=_[7]?!_[10]:!1),!o&&f[0]&32768&&(o=!0,v.isFocused=_[15],te(()=>o=!1)),!n&&f[0]&1&&(n=!0,v.value=_[0],te(()=>n=!1)),!r&&f[0]&65536&&(r=!0,v.listOpen=_[16],te(()=>r=!1)),!s&&f[0]&2&&(s=!0,v.filterText=_[1],te(()=>s=!1)),!a&&f[0]&8192&&(a=!0,v.isWaiting=_[13],te(()=>a=!1)),!i&&f[0]&131072&&(i=!0,v.handleClear=_[17],te(()=>i=!1)),l.$set(v),(!c||f[0]&1025)&&ue(e,"multi-selected",_[0]&&_[10]),(!c||f[0]&32768)&&ue(e,"focused",_[15]),(!c||f[0]&66561)&&ue(e,"selected",_[0]&&!_[16]&&!_[10]),f[0]&2048&&N(e,"--borderColor",_[11]),f[0]&262144&&N(e,"--firstItem",_[18](0)),f[0]&262144&&N(e,"--secondItem",_[18](1)),f[0]&262144&&N(e,"--thirdItem",_[18](2)),f[0]&262144&&N(e,"--fourthItem",_[18](3)),f[0]&262144&&N(e,"--fifthItem",_[18](4)),f[0]&262144&&N(e,"--sixthItem",_[18](5)),f[0]&262144&&N(e,"--seventhItem",_[18](6)),f[0]&262144&&N(e,"--eighthItem",_[18](7)),f[0]&262144&&N(e,"--ninethItem",_[18](8)),f[0]&262144&&N(e,"--tenthItem",_[18](9))},i(_){c||(P(l.$$.fragment,_),c=!0)},o(_){A(l.$$.fragment,_),c=!1},d(_){_&&g(e),X(l),t[48](null)}}}function mt(t,e,l){let o,n,r;const s='<svg viewBox="0 0 20 20" fill-rule="evenodd"><path d="M0,8a8,8,0,1,0,16,0a8,8,0,1,0,-16,0ZM3,8a5,5,0,1,0,10,0a5,5,0,1,0,-10,0Z"/><path d="M18,20L20,18L14,12L12,14Z"/></svg>',a='<svg viewBox="0 0 20 20"><path d="M1,6L19,6L10,15Z"/></svg>',i=tt();let{id:c=""}=e,{container:d=void 0}=e,{mode:u="default"}=e,{items:S}=e,{placeholder:L="Select one..."}=e,{value:F=null}=e,{filterText:K=""}=e,{isSearchable:O=!0}=e,{isClearable:_=!0}=e,{autoClear:f=!1}=e,{idKey:v="value"}=e,{labelKey:D="label"}=e,{groupKey:H=null}=e,{groupItems:b=!1}=e,{loadOptions:p=void 0}=e,{fontSize:V="1em"}=e,{height:I=42}=e,{isMulti:z=!1}=e,{maxSelected:G=4}=e,{colors:$=["#206095","#a8bd3a","#871a5b","#27a0cc"]}=e,{darkMode:k=!1}=e,{borderColor:m=k?"white":"#206095"}=e;const M=H&&!b?h=>`${h[D]} <span class="group">${h[H]}</span>`:h=>h[D];let{getSelectionLabel:B=h=>h?M(h):null}=e;const oe=b&&H?h=>h[H]:void 0,me=u=="search"?s:a,ge=`--inputFontSize: ${V}; --groupTitleFontSize: ${V}; --height: ${I}px; font-size: ${V};`,be=h=>`${h}, selected.`,ve=(h,J)=>`You are currently focused on ${h}. There are ${J} results available.`,pe=()=>"Select is focused, type to refine list, press down to open the menu.";let le,re,ce,ke,fe;const ze=h=>new Promise(J=>setTimeout(J,h));async function Ge(h){if(i("select",h.detail),f)fe();else if(_){await ze(10);let J=le.getElementsByClassName("clearSelect")[0];J&&(J.tabIndex=0,J.onkeypress=De=>{De.key=="Enter"&&fe()},J.removeAttribute("aria-hidden"),J.setAttribute("aria-label","Clear selection"))}}function qe(h){re=h,l(15,re)}function Ze(h){F=h,l(0,F)}function Ue(h){ce=h,l(16,ce)}function Ye(h){K=h,l(1,K)}function Qe(h){ke=h,l(13,ke)}function Xe(h){fe=h,l(17,fe)}function Je(h){Le.call(this,t,h)}function xe(h){Le.call(this,t,h)}function $e(h){Le.call(this,t,h)}function et(h){x[h?"unshift":"push"](()=>{le=h,l(14,le)})}return t.$$set=h=>{"id"in h&&l(2,c=h.id),"container"in h&&l(3,d=h.container),"mode"in h&&l(29,u=h.mode),"items"in h&&l(4,S=h.items),"placeholder"in h&&l(5,L=h.placeholder),"value"in h&&l(0,F=h.value),"filterText"in h&&l(1,K=h.filterText),"isSearchable"in h&&l(6,O=h.isSearchable),"isClearable"in h&&l(7,_=h.isClearable),"autoClear"in h&&l(30,f=h.autoClear),"idKey"in h&&l(8,v=h.idKey),"labelKey"in h&&l(31,D=h.labelKey),"groupKey"in h&&l(32,H=h.groupKey),"groupItems"in h&&l(33,b=h.groupItems),"loadOptions"in h&&l(9,p=h.loadOptions),"fontSize"in h&&l(34,V=h.fontSize),"height"in h&&l(35,I=h.height),"isMulti"in h&&l(10,z=h.isMulti),"maxSelected"in h&&l(36,G=h.maxSelected),"colors"in h&&l(37,$=h.colors),"darkMode"in h&&l(38,k=h.darkMode),"borderColor"in h&&l(11,m=h.borderColor),"getSelectionLabel"in h&&l(12,B=h.getSelectionLabel)},t.$$.update=()=>{t.$$.dirty[0]&536879106&&l(20,o=ke?"Loading...":u=="search"&&K.length<3?"Enter 3 or more characters for suggestions":`No results match ${K}`),t.$$.dirty[0]&536870915|t.$$.dirty[1]&33&&l(19,n=Array.isArray(F)&&F.length>=G||u=="search"&&K.length<3?(h,J,De)=>!1:(h,J,De)=>`${De[D]}`.match(new RegExp(`\\b${J}`,"i"))),t.$$.dirty[1]&64&&l(18,r=h=>$[h%$.length])},[F,K,c,d,S,L,O,_,v,p,z,m,B,ke,le,re,ce,fe,r,n,o,M,oe,me,ge,be,ve,pe,Ge,u,f,D,H,b,V,I,G,$,k,qe,Ze,Ue,Ye,Qe,Xe,Je,xe,$e,et]}class gt extends ie{constructor(e){super(),ne(this,e,mt,_t,se,{id:2,container:3,mode:29,items:4,placeholder:5,value:0,filterText:1,isSearchable:6,isClearable:7,autoClear:30,idKey:8,labelKey:31,groupKey:32,groupItems:33,loadOptions:9,fontSize:34,height:35,isMulti:10,maxSelected:36,colors:37,darkMode:38,borderColor:11,getSelectionLabel:12},null,[-1,-1])}}function bt(t){let e,l,o,n;function r(a){t[5](a)}let s={id:"multi",idKey:"areacd",labelKey:"areanm",groupKey:"parentnm",items:t[2],isMulti:!0,maxSelected:t[1].length,placeholder:"Select areas",colors:t[1]};return t[0].custom!==void 0&&(s.value=t[0].custom),l=new gt({props:s}),x.push(()=>ee(l,"value",r)),l.$on("select",t[3]),{c(){e=y("form"),U(l.$$.fragment),this.h()},l(a){e=w(a,"FORM",{class:!0});var i=R(e);Y(l.$$.fragment,i),i.forEach(g),this.h()},h(){E(e,"class","svelte-gcqbil")},m(a,i){T(a,e,i),Q(l,e,null),n=!0},p(a,[i]){const c={};i&2&&(c.maxSelected=a[1].length),i&2&&(c.colors=a[1]),!o&&i&1&&(o=!0,c.value=a[0].custom,te(()=>o=!1)),l.$set(c)},i(a){n||(P(l.$$.fragment,a),n=!0)},o(a){A(l.$$.fragment,a),n=!1},d(a){a&&g(e),X(l)}}}function vt(t,e,l){let{areasWithData:o,checkboxedRoles:n,colors:r=4}=e,s=ae("areasParentsLookup"),a=ae("areas"),i=s.filter(u=>o.includes(u.areacd));i.forEach(u=>{u.areanm=a.find(S=>S.areacd===u.areacd).areanm,u.parentnm=a.find(S=>u.parentcd===S.areacd)===void 0?"":a.find(S=>u.parentcd===S.areacd).areanm});function c(u){u.detail&&u.detail}function d(u){t.$$.not_equal(n.custom,u)&&(n.custom=u,l(0,n))}return t.$$set=u=>{"areasWithData"in u&&l(4,o=u.areasWithData),"checkboxedRoles"in u&&l(0,n=u.checkboxedRoles),"colors"in u&&l(1,r=u.colors)},[n,r,i,c,o,d]}class pt extends ie{constructor(e){super(),ne(this,e,vt,bt,se,{areasWithData:4,checkboxedRoles:0,colors:1})}}function Te(t,e,l){const o=t.slice();return o[8]=e[l],o[10]=l,o}function Ve(t){let e,l,o,n,r=t[8]+"",s,a,i,c,d;return i=lt(t[6][0]),{c(){e=y("label"),l=y("input"),o=W(),n=y("p"),s=q(r),a=W(),this.h()},l(u){e=w(u,"LABEL",{class:!0});var S=R(e);l=w(S,"INPUT",{type:!0,name:!0}),o=j(S),n=w(S,"P",{class:!0});var L=R(n);s=Z(L,r),L.forEach(g),a=j(S),S.forEach(g),this.h()},h(){E(l,"type","radio"),l.__value=t[10],l.value=l.__value,E(l,"name","chosenChart"),E(n,"class","svelte-162yr8c"),E(e,"class","svelte-162yr8c"),i.p(l)},m(u,S){T(u,e,S),C(e,l),l.checked=l.__value===t[0],C(e,o),C(e,n),C(n,s),C(e,a),c||(d=at(l,"change",t[5]),c=!0)},p(u,S){S&1&&(l.checked=l.__value===u[0])},d(u){u&&g(e),i.r(),c=!1,d()}}}function Me(t){let e,l,o,n;function r(a){t[7](a)}let s={areasWithData:t[3],colors:Array.from({length:8},Dt)};return t[1]!==void 0&&(s.checkboxedRoles=t[1]),l=new pt({props:s}),x.push(()=>ee(l,"checkboxedRoles",r)),{c(){e=y("div"),U(l.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var i=R(e);Y(l.$$.fragment,i),i.forEach(g),this.h()},h(){E(e,"class","select-areas-container")},m(a,i){T(a,e,i),Q(l,e,null),n=!0},p(a,i){const c={};!o&&i&2&&(o=!0,c.checkboxedRoles=a[1],te(()=>o=!1)),l.$set(c)},i(a){n||(P(l.$$.fragment,a),n=!0)},o(a){A(l.$$.fragment,a),n=!1},d(a){a&&g(e),X(l)}}}function kt(t){let e,l,o,n,r=t[2],s=[];for(let i=0;i<r.length;i+=1)s[i]=Ve(Te(t,r,i));let a=t[0]===1&&Me(t);return{c(){e=y("div"),l=y("div");for(let i=0;i<s.length;i+=1)s[i].c();o=W(),a&&a.c(),this.h()},l(i){e=w(i,"DIV",{class:!0});var c=R(e);l=w(c,"DIV",{class:!0});var d=R(l);for(let u=0;u<s.length;u+=1)s[u].l(d);d.forEach(g),o=j(c),a&&a.l(c),c.forEach(g),this.h()},h(){E(l,"class","radio-container svelte-162yr8c"),E(e,"class","selection-box-container svelte-162yr8c")},m(i,c){T(i,e,c),C(e,l);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,null);C(e,o),a&&a.m(e,null),n=!0},p(i,[c]){if(c&5){r=i[2];let d;for(d=0;d<r.length;d+=1){const u=Te(i,r,d);s[d]?s[d].p(u,c):(s[d]=Ve(u),s[d].c(),s[d].m(l,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=r.length}i[0]===1?a?(a.p(i,c),c&1&&P(a,1)):(a=Me(i),a.c(),P(a,1),a.m(e,null)):a&&(he(),A(a,1,1,()=>{a=null}),_e())},i(i){n||(P(a),n=!0)},o(i){A(a),n=!1},d(i){i&&g(e),de(s,i),a&&a.d()}}}const Dt=()=>"#003C57";function It(t,e,l){let{latestData:o,checkboxedRoles:n,chosenId:r}=e,s=["Compare countries and regions of the UK","Select local areas of interest"],a=[...new Set(o.map(u=>u.areacd))];const i=[[]];function c(){r=this.__value,l(0,r)}function d(u){n=u,l(1,n)}return t.$$set=u=>{"latestData"in u&&l(4,o=u.latestData),"checkboxedRoles"in u&&l(1,n=u.checkboxedRoles),"chosenId"in u&&l(0,r=u.chosenId)},t.$$.update=()=>{t.$$.dirty&1&&console.log(r)},[r,n,s,a,o,c,i,d]}class Ct extends ie{constructor(e){super(),ne(this,e,It,kt,se,{latestData:4,checkboxedRoles:1,chosenId:0})}}function St(t,e,l){let{bivariateColourObj:o}=e;return t.$$set=n=>{"bivariateColourObj"in n&&l(0,o=n.bivariateColourObj)},[o]}class Et extends ie{constructor(e){super(),ne(this,e,St,null,se,{bivariateColourObj:0})}}function Ke(t,e,l){const o=t.slice();return o[27]=e[l],o[29]=l,o}function Pe(t,e,l){const o=t.slice();return o[30]=e[l],o[32]=l,o}function Ne(t,e,l){const o=t.slice();return o[30]=e[l],o[32]=l,o}function Fe(t,e,l){const o=t.slice();return o[30]=e[l],o[32]=l,o}function Ae(t){let e,l,o=t[7].find(s).label+"",n,r;function s(...a){return t[13](t[30],...a)}return{c(){e=y("div"),l=y("p"),n=q(o),r=W(),this.h()},l(a){e=w(a,"DIV",{class:!0});var i=R(e);l=w(i,"P",{class:!0});var c=R(l);n=Z(c,o),c.forEach(g),r=j(i),i.forEach(g),this.h()},h(){E(l,"class","svelte-1y154os"),E(e,"class",Ee("header column"+t[32])+" svelte-1y154os")},m(a,i){T(a,e,i),C(e,l),C(l,n),C(e,r)},p(a,i){t=a,i[0]&2&&o!==(o=t[7].find(s).label+"")&&Ce(n,o)},d(a){a&&g(e)}}}function Lt(t){let e,l,o=t[1],n=[];for(let s=0;s<o.length;s+=1)n[s]=We(Pe(t,o,s));const r=s=>A(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Se()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=Se()},m(s,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,a);T(s,e,a),l=!0},p(s,a){if(a[0]&942){o=s[1];let i;for(i=0;i<o.length;i+=1){const c=Pe(s,o,i);n[i]?(n[i].p(c,a),P(n[i],1)):(n[i]=We(c),n[i].c(),P(n[i],1),n[i].m(e.parentNode,e))}for(he(),i=o.length;i<n.length;i+=1)r(i);_e()}},i(s){if(!l){for(let a=0;a<o.length;a+=1)P(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)A(n[a]);l=!1},d(s){de(n,s),s&&g(e)}}}function yt(t){let e,l,o=t[1],n=[];for(let s=0;s<o.length;s+=1)n[s]=je(Ne(t,o,s));const r=s=>A(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Se()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=Se()},m(s,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,a);T(s,e,a),l=!0},p(s,a){if(a[0]&1966){o=s[1];let i;for(i=0;i<o.length;i+=1){const c=Ne(s,o,i);n[i]?(n[i].p(c,a),P(n[i],1)):(n[i]=je(c),n[i].c(),P(n[i],1),n[i].m(e.parentNode,e))}for(he(),i=o.length;i<n.length;i+=1)r(i);_e()}},i(s){if(!l){for(let a=0;a<o.length;a+=1)P(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)A(n[a]);l=!1},d(s){de(n,s),s&&g(e)}}}function We(t){let e,l,o,n;function r(...c){return t[19](t[30],...c)}function s(...c){return t[20](t[30],t[27],...c)}function a(...c){return t[21](t[30],...c)}function i(...c){return t[22](t[27],...c)}return l=new He({props:{periodsLookup:t[9],indicatorMetadata:t[7].find(r),latestData:t[2].filter(s),medianValue:t[8].find(a).medianValue,initialData:t[3][t[32]].filter(i)}}),{c(){e=y("div"),U(l.$$.fragment),o=W(),this.h()},l(c){e=w(c,"DIV",{class:!0});var d=R(e);Y(l.$$.fragment,d),o=j(d),d.forEach(g),this.h()},h(){E(e,"class",Ee("cell column"+t[32])+" svelte-1y154os")},m(c,d){T(c,e,d),Q(l,e,null),C(e,o),n=!0},p(c,d){t=c;const u={};d[0]&2&&(u.indicatorMetadata=t[7].find(r)),d[0]&38&&(u.latestData=t[2].filter(s)),d[0]&2&&(u.medianValue=t[8].find(a).medianValue),d[0]&40&&(u.initialData=t[3][t[32]].filter(i)),l.$set(u)},i(c){n||(P(l.$$.fragment,c),n=!0)},o(c){A(l.$$.fragment,c),n=!1},d(c){c&&g(e),X(l)}}}function je(t){let e,l,o,n;function r(...c){return t[15](t[30],...c)}function s(...c){return t[16](t[30],t[27],...c)}function a(...c){return t[17](t[30],...c)}function i(...c){return t[18](t[27],...c)}return l=new He({props:{bivariateColourObj:t[10],periodsLookup:t[9],indicatorMetadata:t[7].find(r),latestData:t[2].filter(s),medianValue:t[8].find(a).medianValue,initialData:t[3][t[32]].filter(i)}}),{c(){e=y("div"),U(l.$$.fragment),o=W(),this.h()},l(c){e=w(c,"DIV",{class:!0});var d=R(e);Y(l.$$.fragment,d),o=j(d),d.forEach(g),this.h()},h(){E(e,"class",Ee("cell column"+t[32])+" svelte-1y154os")},m(c,d){T(c,e,d),Q(l,e,null),C(e,o),n=!0},p(c,d){t=c;const u={};d[0]&2&&(u.indicatorMetadata=t[7].find(r)),d[0]&38&&(u.latestData=t[2].filter(s)),d[0]&2&&(u.medianValue=t[8].find(a).medianValue),d[0]&40&&(u.initialData=t[3][t[32]].filter(i)),l.$set(u)},i(c){n||(P(l.$$.fragment,c),n=!0)},o(c){A(l.$$.fragment,c),n=!1},d(c){c&&g(e),X(l)}}}function Be(t){let e=(console.log(t[27]),""),l,o,n,r,s,a=t[6].find(F).areanm+"",i,c,d,u,S,L;function F(...f){return t[14](t[27],...f)}const K=[yt,Lt],O=[];function _(f,v){return f[4]===0?0:1}return d=_(t),u=O[d]=K[d](t),{c(){l=q(e),o=W(),n=y("div"),r=y("div"),s=y("p"),i=q(a),c=W(),u.c(),S=W(),this.h()},l(f){l=Z(f,e),o=j(f),n=w(f,"DIV",{class:!0});var v=R(n);r=w(v,"DIV",{class:!0,style:!0});var D=R(r);s=w(D,"P",{class:!0});var H=R(s);i=Z(H,a),H.forEach(g),D.forEach(g),c=j(v),u.l(v),S=j(v),v.forEach(g),this.h()},h(){E(s,"class","svelte-1y154os"),E(r,"class","areasColumn svelte-1y154os"),E(r,"style","width: 200px"),E(n,"class",Ee("row cellRow"+t[29])+" svelte-1y154os")},m(f,v){T(f,l,v),T(f,o,v),T(f,n,v),C(n,r),C(r,s),C(s,i),C(n,c),O[d].m(n,null),C(n,S),L=!0},p(f,v){t=f,(!L||v[0]&32)&&e!==(e=(console.log(t[27]),""))&&Ce(l,e),(!L||v[0]&32)&&a!==(a=t[6].find(F).areanm+"")&&Ce(i,a);let D=d;d=_(t),d===D?O[d].p(t,v):(he(),A(O[D],1,1,()=>{O[D]=null}),_e(),u=O[d],u?u.p(t,v):(u=O[d]=K[d](t),u.c()),P(u,1),u.m(n,S))},i(f){L||(P(u),L=!0)},o(f){A(u),L=!1},d(f){f&&g(l),f&&g(o),f&&g(n),O[d].d()}}}function wt(t){let e,l,o,n,r,s,a,i,c,d,u,S,L;function F(b){t[11](b)}function K(b){t[12](b)}let O={latestData:t[2]};t[0]!==void 0&&(O.checkboxedRoles=t[0]),t[4]!==void 0&&(O.chosenId=t[4]),l=new Ct({props:O}),x.push(()=>ee(l,"checkboxedRoles",F)),x.push(()=>ee(l,"chosenId",K)),s=new Et({props:{bivariateColourObj:t[10]}});let _=t[1],f=[];for(let b=0;b<_.length;b+=1)f[b]=Ae(Fe(t,_,b));let v=t[5],D=[];for(let b=0;b<v.length;b+=1)D[b]=Be(Ke(t,v,b));const H=b=>A(D[b],1,1,()=>{D[b]=null});return{c(){e=y("div"),U(l.$$.fragment),r=W(),U(s.$$.fragment),a=W(),i=y("div"),c=y("div"),d=y("div"),u=W();for(let b=0;b<f.length;b+=1)f[b].c();S=W();for(let b=0;b<D.length;b+=1)D[b].c();this.h()},l(b){e=w(b,"DIV",{class:!0});var p=R(e);Y(l.$$.fragment,p),r=j(p),Y(s.$$.fragment,p),a=j(p),i=w(p,"DIV",{class:!0});var V=R(i);c=w(V,"DIV",{class:!0});var I=R(c);d=w(I,"DIV",{class:!0,style:!0});var z=R(d);z.forEach(g),u=j(I);for(let G=0;G<f.length;G+=1)f[G].l(I);I.forEach(g),S=j(V);for(let G=0;G<D.length;G+=1)D[G].l(V);V.forEach(g),p.forEach(g),this.h()},h(){E(d,"class","areasColumn svelte-1y154os"),E(d,"style","width: 200px"),E(c,"class","row headerRow svelte-1y154os"),E(i,"class","grid-container svelte-1y154os"),E(e,"class","key-indicators-coloured-boxes-option-1-container")},m(b,p){T(b,e,p),Q(l,e,null),C(e,r),Q(s,e,null),C(e,a),C(e,i),C(i,c),C(c,d),C(c,u);for(let V=0;V<f.length;V+=1)f[V]&&f[V].m(c,null);C(i,S);for(let V=0;V<D.length;V+=1)D[V]&&D[V].m(i,null);L=!0},p(b,p){const V={};if(p[0]&4&&(V.latestData=b[2]),!o&&p[0]&1&&(o=!0,V.checkboxedRoles=b[0],te(()=>o=!1)),!n&&p[0]&16&&(n=!0,V.chosenId=b[4],te(()=>n=!1)),l.$set(V),p[0]&386){_=b[1];let I;for(I=0;I<_.length;I+=1){const z=Fe(b,_,I);f[I]?f[I].p(z,p):(f[I]=Ae(z),f[I].c(),f[I].m(c,null))}for(;I<f.length;I+=1)f[I].d(1);f.length=_.length}if(p[0]&2046){v=b[5];let I;for(I=0;I<v.length;I+=1){const z=Ke(b,v,I);D[I]?(D[I].p(z,p),P(D[I],1)):(D[I]=Be(z),D[I].c(),P(D[I],1),D[I].m(i,null))}for(he(),I=v.length;I<D.length;I+=1)H(I);_e()}},i(b){if(!L){P(l.$$.fragment,b),P(s.$$.fragment,b);for(let p=0;p<v.length;p+=1)P(D[p]);L=!0}},o(b){A(l.$$.fragment,b),A(s.$$.fragment,b),D=D.filter(Boolean);for(let p=0;p<D.length;p+=1)A(D[p]);L=!1},d(b){b&&g(e),X(l),X(s),de(f,b),de(D,b)}}}function Ot(t,e,l){let o,{indicatorsList:n,latestData:r,initialData:s,checkboxedRoles:a}=e,i=ae("areas"),c=ae("areasParentsLookup"),u=ae("areasGeogLevel").filter(m=>["both","lower"].includes(m.level)).map(m=>m.areacd),S=ae("indicatorsMetadata"),L=ae("indicators").filter(m=>n.includes(m.id));L.forEach(m=>{let M=r.filter(oe=>oe.id===m.id&u.includes(oe.areacd)),B=ct(M,"value").value;m.medianValue=B});let F=ae("periodsLookup"),K=0,O=c.filter(m=>["K02000001","E92000001"].includes(m.parentcd)&m.areacd!="E92000001"),_={improving:{"above average":"#016eae",similar:"#7bb3d1","below average":"#dddddd"},similar:{"above average":"#4a4779",similar:"#8d6c8f","below average":"#dd7c8a"},worsening:{"above average":"#4b264d",similar:"#8a274a","below average":"#cc0024"}};function f(m){a=m,l(0,a)}function v(m){K=m,l(4,K)}const D=(m,M)=>M.code===L.find(B=>B.id===m).code,H=(m,M)=>M.areacd===m.areacd,b=(m,M)=>M.code===L.find(B=>B.id===m).code,p=(m,M,B)=>m===B.id&M.areacd===B.areacd,V=(m,M)=>m===M.id,I=(m,M)=>m.areacd===M.areacd,z=(m,M)=>M.code===L.find(B=>B.id===m).code,G=(m,M,B)=>m===B.id&M.areacd===B.areacd,$=(m,M)=>m===M.id,k=(m,M)=>m.areacd===M.areacd;return t.$$set=m=>{"indicatorsList"in m&&l(1,n=m.indicatorsList),"latestData"in m&&l(2,r=m.latestData),"initialData"in m&&l(3,s=m.initialData),"checkboxedRoles"in m&&l(0,a=m.checkboxedRoles)},t.$$.update=()=>{t.$$.dirty[0]&17&&l(5,o=K===0?O:a.custom==null||a.custom==null?[]:a.custom)},[a,n,r,s,K,o,i,S,L,F,_,f,v,D,H,b,p,V,I,z,G,$,k]}class Rt extends ie{constructor(e){super(),ne(this,e,Ot,wt,se,{indicatorsList:1,latestData:2,initialData:3,checkboxedRoles:0},null,[-1,-1])}}function Tt(t){let e,l,o,n;function r(a){t[4](a)}let s={indicatorsList:t[0],latestData:t[1],initialData:t[2]};return t[3]!==void 0&&(s.checkboxedRoles=t[3]),l=new Rt({props:s}),x.push(()=>ee(l,"checkboxedRoles",r)),{c(){e=y("div"),U(l.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var i=R(e);Y(l.$$.fragment,i),i.forEach(g),this.h()},h(){E(e,"class","key-indicators-container svelte-jid1kh")},m(a,i){T(a,e,i),Q(l,e,null),n=!0},p(a,[i]){const c={};i&1&&(c.indicatorsList=a[0]),i&2&&(c.latestData=a[1]),i&4&&(c.initialData=a[2]),!o&&i&8&&(o=!0,c.checkboxedRoles=a[3],te(()=>o=!1)),l.$set(c)},i(a){n||(P(l.$$.fragment,a),n=!0)},o(a){A(l.$$.fragment,a),n=!1},d(a){a&&g(e),X(l)}}}function Vt(t,e,l){let o,{indicatorsList:n,latestData:r,initialData:s}=e;function a(i){o=i,l(3,o)}return t.$$set=i=>{"indicatorsList"in i&&l(0,n=i.indicatorsList),"latestData"in i&&l(1,r=i.latestData),"initialData"in i&&l(2,s=i.initialData)},t.$$.update=()=>{t.$$.dirty&4&&console.log(s)},l(3,o={custom:null}),[n,r,s,o,a]}class Mt extends ie{constructor(e){super(),ne(this,e,Vt,Tt,se,{indicatorsList:0,latestData:1,initialData:2})}}function Kt(t){let e=Re(t[0].topic)+"",l;return{c(){l=q(e)},l(o){l=Z(o,e)},m(o,n){T(o,l,n)},p(o,n){n&1&&e!==(e=Re(o[0].topic)+"")&&Ce(l,e)},d(o){o&&g(l)}}}function Pt(t){let e="Topic information",l;return{c(){l=q(e)},l(o){l=Z(o,e)},m(o,n){T(o,l,n)},p:Ie,d(o){o&&g(l)}}}function Nt(t){let e,l,o,n;return e=new nt({props:{$$slots:{default:[Kt]},$$scope:{ctx:t}}}),o=new st({props:{$$slots:{default:[Pt]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),l=W(),U(o.$$.fragment)},l(r){Y(e.$$.fragment,r),l=j(r),Y(o.$$.fragment,r)},m(r,s){Q(e,r,s),T(r,l,s),Q(o,r,s),n=!0},p(r,s){const a={};s&33&&(a.$$scope={dirty:s,ctx:r}),e.$set(a);const i={};s&32&&(i.$$scope={dirty:s,ctx:r}),o.$set(i)},i(r){n||(P(e.$$.fragment,r),P(o.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),n=!1},d(r){X(e,r),r&&g(l),X(o,r)}}}function Ft(t){let e;return{c(){e=q("Find related publications")},l(l){e=Z(l,"Find related publications")},m(l,o){T(l,e,o)},d(l){l&&g(e)}}}function At(t){let e,l,o,n,r,s,a,i,c,d,u,S,L,F,K,O,_,f,v,D,H,b,p,V,I,z,G,$;return r=new Mt({props:{indicatorsList:t[0].indicatorsList.slice(0,t[1]),latestData:t[2].filter(t[4]),initialData:t[3]}}),D=new rt({props:{$$slots:{default:[Ft]},$$scope:{ctx:t}}}),{c(){e=y("section"),l=y("h1"),o=q("Key indicators"),n=W(),U(r.$$.fragment),s=W(),a=y("section"),i=y("h1"),c=q("Explore geographically"),d=W(),u=y("section"),S=y("h1"),L=q("Top and bottom ranked areas"),F=W(),K=y("section"),O=y("h1"),_=q("Compare areas by group"),f=W(),v=y("section"),U(D.$$.fragment),H=W(),b=y("section"),p=y("h2"),V=q("Get the data"),I=W(),z=y("p"),G=q("Here, you can find information and links to the data."),this.h()},l(k){e=w(k,"SECTION",{title:!0,class:!0});var m=R(e);l=w(m,"H1",{});var M=R(l);o=Z(M,"Key indicators"),M.forEach(g),n=j(m),Y(r.$$.fragment,m),m.forEach(g),s=j(k),a=w(k,"SECTION",{title:!0,class:!0});var B=R(a);i=w(B,"H1",{});var oe=R(i);c=Z(oe,"Explore geographically"),oe.forEach(g),B.forEach(g),d=j(k),u=w(k,"SECTION",{title:!0,class:!0});var me=R(u);S=w(me,"H1",{});var ge=R(S);L=Z(ge,"Top and bottom ranked areas"),ge.forEach(g),me.forEach(g),F=j(k),K=w(k,"SECTION",{title:!0,class:!0});var be=R(K);O=w(be,"H1",{});var ve=R(O);_=Z(ve,"Compare areas by group"),ve.forEach(g),be.forEach(g),f=j(k),v=w(k,"SECTION",{title:!0,class:!0});var pe=R(v);Y(D.$$.fragment,pe),pe.forEach(g),H=j(k),b=w(k,"SECTION",{title:!0,class:!0});var le=R(b);p=w(le,"H2",{class:!0});var re=R(p);V=Z(re,"Get the data"),re.forEach(g),I=j(le),z=w(le,"P",{});var ce=R(z);G=Z(ce,"Here, you can find information and links to the data."),ce.forEach(g),le.forEach(g),this.h()},h(){E(e,"title","Key indicators"),E(e,"class","svelte-1go1lax"),E(a,"title","Explore geographically"),E(a,"class","svelte-1go1lax"),E(u,"title","Top and bottom ranked areas"),E(u,"class","svelte-1go1lax"),E(K,"title","Compare areas by group"),E(K,"class","svelte-1go1lax"),E(v,"title","Related publications"),E(v,"class","svelte-1go1lax"),E(p,"class","ons-u-mt-xl"),E(b,"title","Get the data"),E(b,"class","svelte-1go1lax")},m(k,m){T(k,e,m),C(e,l),C(l,o),C(e,n),Q(r,e,null),T(k,s,m),T(k,a,m),C(a,i),C(i,c),T(k,d,m),T(k,u,m),C(u,S),C(S,L),T(k,F,m),T(k,K,m),C(K,O),C(O,_),T(k,f,m),T(k,v,m),Q(D,v,null),T(k,H,m),T(k,b,m),C(b,p),C(p,V),C(b,I),C(b,z),C(z,G),$=!0},p(k,m){const M={};m&1&&(M.indicatorsList=k[0].indicatorsList.slice(0,k[1])),m&1&&(M.latestData=k[2].filter(k[4])),r.$set(M);const B={};m&32&&(B.$$scope={dirty:m,ctx:k}),D.$set(B)},i(k){$||(P(r.$$.fragment,k),P(D.$$.fragment,k),$=!0)},o(k){A(r.$$.fragment,k),A(D.$$.fragment,k),$=!1},d(k){k&&g(e),X(r),k&&g(s),k&&g(a),k&&g(d),k&&g(u),k&&g(F),k&&g(K),k&&g(f),k&&g(v),X(D),k&&g(H),k&&g(b)}}}function Wt(t){let e,l,o,n;return e=new it({props:{breadcrumb:[{label:"Home",url:"/"},{label:"Explore subnational statistics",url:`${ye}/`},{label:"Expore indicators",url:`${ye}/indicators`},{label:"topic"}],$$slots:{default:[Nt]},$$scope:{ctx:t}}}),o=new ot({props:{contentsLabel:"Explore this indicator",$$slots:{default:[At]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment),l=W(),U(o.$$.fragment)},l(r){Y(e.$$.fragment,r),l=j(r),Y(o.$$.fragment,r)},m(r,s){Q(e,r,s),T(r,l,s),Q(o,r,s),n=!0},p(r,[s]){const a={};s&33&&(a.$$scope={dirty:s,ctx:r}),e.$set(a);const i={};s&33&&(i.$$scope={dirty:s,ctx:r}),o.$set(i)},i(r){n||(P(e.$$.fragment,r),P(o.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),A(o.$$.fragment,r),n=!1},d(r){X(e,r),r&&g(l),X(o,r)}}}function jt(t,e,l){let{data:o}=e,n=Math.min(5,o.indicatorsList.length),r=o.latestData.filter(i=>o.indicatorsList.includes(i.id)),s=o.indicatorsList.slice(0,n).map(i=>"indicator-"+i in o.preloadedData.initialData?o.preloadedData.initialData["indicator-"+i]:[]);console.log(o);const a=i=>o.indicatorsList.slice(0,n).includes(i.id);return t.$$set=i=>{"data"in i&&l(0,o=i.data)},[o,n,r,s,a]}class Ut extends ie{constructor(e){super(),ne(this,e,jt,Wt,se,{data:0})}}export{Ut as component};
