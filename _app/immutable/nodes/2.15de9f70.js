import{P as g,g as o}from"../chunks/utils.fdbcbf4d.js";import{b as r}from"../chunks/paths.5cfec888.js";import{P as s}from"../chunks/index.9d99f0a2.js";import{k as w,i as f,a as j,b as _,r as P}from"../chunks/config.1134aefb.js";import{s as n}from"../chunks/selectedAreasStore.03a67c08.js";import{L as E}from"../chunks/layout.2cdec8cb.js";const b=g,B="always";async function D({fetch:e,params:u}){const k=await o(`${r}/data/csv/countOfAreasByGeoLevel.csv`,e),$=await o(`${r}/data/csv/countOfNullDataByGeoLevel.csv`,e),m=await o(`${r}/data/csv/areasLookup.csv`,e);w.forEach(a=>{a.indicator=f.find(t=>t.code==a.code)}),n.set(m.find(a=>a.areacd===u.code));let c=u.code in j?j.params.code:_,i=[...new Map(c.filter(a=>a.type!=="multi-scatter").sort((a,t)=>a.type>t.type?-1:t.type>a.type?1:0).map(({type:a,code:t})=>({type:P[a],code:t})).map(a=>[a.code,a])).values()],y={};for(var d=0;d<i.length;d++){let a=f.find(t=>t.code==i[d].code);c.forEach(t=>{t.code===a.code&&(t.indicator=a)}),y[i[d].type+"-"+i[d].code]=await o(`${r}/data/csv/indicator-raw/`+i[d].type+"/"+a.code+".csv",e)}let v=[];if(c.map(a=>a.type).includes("multi-scatter")){let a=c.find(t=>t.type==="multi-scatter");for(var l=0;l<a.code.length;l++)v[a.code[l]]=await o(`${r}/data/csv/indicator-distribution/latest-year/`+a.code[l]+".csv",e)}let p={main:{value:await o(`${r}/data/json/area-raw/`+s(n).areacd+".json",e),rank:await o(`${r}/data/json/area-rank/`+s(n).areacd+".json",e)},uk:{value:await o(`${r}/data/json/area-raw/K02000001.json`,e)}};return s(n).parentcd!=""&&(p.parent={value:await o(`${r}/data/json/area-raw/`+s(n).parentcd+".json",e),rank:await o(`${r}/data/json/area-rank/`+s(n).parentcd+".json",e)}),s(n).parentcd!==s(n).countrycd&&(p.country={value:await o(`${r}/data/json/area-raw/`+s(n).countrycd+".json",e),rank:await o(`${r}/data/json/area-rank/`+s(n).countrycd+".json",e)}),{areas:m,countByGeoLevel:k,countOfNulls:$,componentsArray:c,indicatorBasedData:y,areaBasedData:p,keyIndicatorBlocks:w,distributionData:v}}const G=Object.freeze(Object.defineProperty({__proto__:null,load:D,prerender:b,trailingSlash:B},Symbol.toStringTag,{value:"Module"}));export{E as component,G as universal};
