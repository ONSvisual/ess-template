//js
import{S as ce,i as de,s as me,k as O,q,a as $,l as X,m as E,r as F,h as b,c as ee,b as T,C as k,u as _e,D as ae,U as se,w as fe,Q as ue,y as K,z as Z,p as De,n as r,X as Ge,A as J,Y as ct,R as he,g as M,d as j,B as x,F as L,G as R,V as pe,e as ve,Z as dt,_ as Re,W as Pe,v as Ae,f as Ce,E as yt,$ as Se,O as ze}from"../chunks/index.2e3955ad.js";import{b as Le}from"../chunks/paths.7da77d50.js";import{T as It,H as Dt,S as At}from"../chunks/Subhead.377a0321.js";import{D as Ct,B as Et,P as Wt,H as Pt,A as Oe,I as St,l as mt,R as Vt,S as Bt,a as Gt}from"../chunks/linear.5ef635ba.js";import{a as Ee,r as We,s as Tt,c as Xe,m as Ne}from"../chunks/utils.52562843.js";import{m as N,b as _t}from"../chunks/config.ec2e1162.js";import"../chunks/index.34b8e95a.js";/* empty css                                                     */function Ht(e){let t,i,a,l,n=e[1].areanm+"",s,u,c=e[0].name+"",o,f,_,d,h=e[1].areanm+"",v,m;return{c(){t=O("p"),i=q("[This is dummy text]"),a=$(),l=O("p"),s=q(n),u=q(" scores below average on more than half of "),o=q(c),f=q(" indicators, as do neighbouring areas XXX and YYY."),_=$(),d=O("p"),v=q(h),m=q("'s gross domestic household income per person is £400 below the national average, and is the lowest among all local authorities in the North East.")},l(p){t=X(p,"P",{});var y=E(t);i=F(y,"[This is dummy text]"),y.forEach(b),a=ee(p),l=X(p,"P",{});var g=E(l);s=F(g,n),u=F(g," scores below average on more than half of "),o=F(g,c),f=F(g," indicators, as do neighbouring areas XXX and YYY."),g.forEach(b),_=ee(p),d=X(p,"P",{});var P=E(d);v=F(P,h),m=F(P,"'s gross domestic household income per person is £400 below the national average, and is the lowest among all local authorities in the North East."),P.forEach(b)},m(p,y){T(p,t,y),k(t,i),T(p,a,y),T(p,l,y),k(l,s),k(l,u),k(l,o),k(l,f),T(p,_,y),T(p,d,y),k(d,v),k(d,m)},p(p,[y]){y&1&&c!==(c=p[0].name+"")&&_e(o,c)},i:ae,o:ae,d(p){p&&b(t),p&&b(a),p&&b(l),p&&b(_),p&&b(d)}}}function zt(e,t,i){let{topic:a}=t,l=se("selectedArea");return e.$$set=n=>{"topic"in n&&i(0,a=n.topic)},[a,l]}class Lt extends ce{constructor(t){super(),de(this,t,zt,Ht,me,{topic:0})}}function Rt(e){const t=e-1;return t*t*t+1}function Ve(e){return--e*e*e*e*e+1}function Be(e,{delay:t=0,duration:i=400,easing:a=Rt,axis:l="y"}={}){const n=getComputedStyle(e),s=+n.opacity,u=l==="y"?"height":"width",c=parseFloat(n[u]),o=l==="y"?["top","bottom"]:["left","right"],f=o.map(y=>`${y[0].toUpperCase()}${y.slice(1)}`),_=parseFloat(n[`padding${f[0]}`]),d=parseFloat(n[`padding${f[1]}`]),h=parseFloat(n[`margin${f[0]}`]),v=parseFloat(n[`margin${f[1]}`]),m=parseFloat(n[`border${f[0]}Width`]),p=parseFloat(n[`border${f[1]}Width`]);return{delay:t,duration:i,easing:a,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*s};${u}: ${y*c}px;padding-${o[0]}: ${y*_}px;padding-${o[1]}: ${y*d}px;margin-${o[0]}: ${y*h}px;margin-${o[1]}: ${y*v}px;border-${o[0]}-width: ${y*m}px;border-${o[1]}-width: ${y*p}px;`}}function Ot(e){let t,i,a,l,n,s,u,c,o;function f(d){e[6](d)}let _={name:e[2],optionsArray:e[1],width:e[4]+"px",lowHeight:!0};return e[0]!==void 0&&(_.chosenId=e[0]),s=new Ct({props:_}),fe.push(()=>ue(s,"chosenId",f)),{c(){t=O("div"),i=O("p"),a=q(e[3]),l=$(),n=O("div"),K(s.$$.fragment),this.h()},l(d){t=X(d,"DIV",{class:!0});var h=E(t);i=X(h,"P",{style:!0,class:!0});var v=E(i);a=F(v,e[3]),v.forEach(b),l=ee(h),n=X(h,"DIV",{class:!0});var m=E(n);Z(s.$$.fragment,m),m.forEach(b),h.forEach(b),this.h()},h(){De(i,"max-width",e[5]-e[4]-20+"px"),r(i,"class","svelte-1kr68n4"),r(n,"class","dropdown-container svelte-1kr68n4"),r(t,"class","paragraph-container svelte-1kr68n4"),Ge(()=>e[7].call(t))},m(d,h){T(d,t,h),k(t,i),k(i,a),k(t,l),k(t,n),J(s,n,null),c=ct(t,e[7].bind(t)),o=!0},p(d,[h]){(!o||h&8)&&_e(a,d[3]),(!o||h&48)&&De(i,"max-width",d[5]-d[4]-20+"px");const v={};h&4&&(v.name=d[2]),h&2&&(v.optionsArray=d[1]),h&16&&(v.width=d[4]+"px"),!u&&h&1&&(u=!0,v.chosenId=d[0],he(()=>u=!1)),s.$set(v)},i(d){o||(M(s.$$.fragment,d),o=!0)},o(d){j(s.$$.fragment,d),o=!1},d(d){d&&b(t),x(s),c()}}}function Xt(e,t,i){se("selectedArea");let{chosenId:a,optionsArray:l,name:n,text:s,dropdownWidth:u}=t,c=500;function o(_){a=_,i(0,a)}function f(){c=this.clientWidth,i(5,c)}return e.$$set=_=>{"chosenId"in _&&i(0,a=_.chosenId),"optionsArray"in _&&i(1,l=_.optionsArray),"name"in _&&i(2,n=_.name),"text"in _&&i(3,s=_.text),"dropdownWidth"in _&&i(4,u=_.dropdownWidth)},[a,l,n,s,u,c,o,f]}class qe extends ce{constructor(t){super(),de(this,t,Xt,Ot,me,{chosenId:0,optionsArray:1,name:2,text:3,dropdownWidth:4})}}function Nt(e){let t,i,a,l,n,s,u,c,o;return{c(){t=O("div"),i=O("p"),a=q(e[3]),n=$(),s=O("div"),u=O("p"),c=q(e[0]),this.h()},l(f){t=X(f,"DIV",{class:!0});var _=E(t);i=X(_,"P",{style:!0,class:!0});var d=E(i);a=F(d,e[3]),d.forEach(b),_.forEach(b),n=ee(f),s=X(f,"DIV",{class:!0});var h=E(s);u=X(h,"P",{style:!0,class:!0});var v=E(u);c=F(v,e[0]),v.forEach(b),h.forEach(b),this.h()},h(){r(i,"style",l=e[2]==null?null:"background-color: "+e[2]+";box-shadow: 0 0 4px 3px "+e[2]+";"),r(i,"class","svelte-4zqz0x"),r(t,"class","col4a svelte-4zqz0x"),r(u,"style",o=e[1]==null?null:"background-color: "+e[1]+";box-shadow: 0 0 4px 3px "+e[1]+";"),r(u,"class","svelte-4zqz0x"),r(s,"class","col4b svelte-4zqz0x")},m(f,_){T(f,t,_),k(t,i),k(i,a),T(f,n,_),T(f,s,_),k(s,u),k(u,c)},p(f,[_]){_&8&&_e(a,f[3]),_&4&&l!==(l=f[2]==null?null:"background-color: "+f[2]+";box-shadow: 0 0 4px 3px "+f[2]+";")&&r(i,"style",l),_&1&&_e(c,f[0]),_&2&&o!==(o=f[1]==null?null:"background-color: "+f[1]+";box-shadow: 0 0 4px 3px "+f[1]+";")&&r(u,"style",o)},i:ae,o:ae,d(f){f&&b(t),f&&b(n),f&&b(s)}}}function qt(e,t,i){let a,l,n,s,u,c,o,{earliestPeriod:f,baselineComparisonArea:_,mainLatestValue:d,mainPreviousValue:h,comparisonLatestValue:v,medianAbsoluteDeviation:m,previousPeriod:p,metadata:y}=t;return se("selectedArea"),e.$$set=g=>{"earliestPeriod"in g&&i(4,f=g.earliestPeriod),"baselineComparisonArea"in g&&i(5,_=g.baselineComparisonArea),"mainLatestValue"in g&&i(6,d=g.mainLatestValue),"mainPreviousValue"in g&&i(7,h=g.mainPreviousValue),"comparisonLatestValue"in g&&i(8,v=g.comparisonLatestValue),"medianAbsoluteDeviation"in g&&i(9,m=g.medianAbsoluteDeviation),"previousPeriod"in g&&i(10,p=g.previousPeriod),"metadata"in g&&i(11,y=g.metadata)},e.$$.update=()=>{e.$$.dirty&2880&&i(13,a=d==null|v==null?null:y.polarity*(d-v)/m),e.$$.dirty&2752&&i(12,l=d==null|h==null?null:y.polarity*(d-h)/m),e.$$.dirty&2240&&(d==null|h==null||(d-h)/(y.howToMeasureChange=="percent"?h:1)),e.$$.dirty&32&&i(14,n=_==="median"?"median":_.areanm==="United Kingdom"?"UK":_.areanm),e.$$.dirty&26944&&i(3,s=d==null?"No data":v==null?"No data for "+n:(a<-1?"Worse than "+n:a<1?"Similar to "+n:"Better than "+n)+" ("+y.prefix+Ee(We(v,y.decimalPlaces))+y.suffix+")"),e.$$.dirty&8192&&i(2,u=a==null?null:a<-5?"RGBA(197,27,125,0.5)":a<-3?"RGBA(233,163,201,0.5)":a<-1?"RGBA(253,224,239,0.5)":a<1?"#F7F7F7":a<3?"RGBA(230,245,208,1)":a<5?"RGBA(161,215,106,0.5)":"RGBA(77,146,33,0.5)"),e.$$.dirty&4096&&i(1,c=l==null?null:l<-5?"RGBA(197,27,125,0.5)":l<-3?"RGBA(233,163,201,0.5)":l<-1?"RGBA(253,224,239,0.5)":l<1?"#F7F7F7":l<3?"RGBA(230,245,208,1)":l<5?"RGBA(161,215,106,0.5)":"RGBA(77,146,33,0.5)"),e.$$.dirty&5328&&i(0,o=d==null|p==null?"No data":h==null?p.xDomainNumb<f.xDomainNumb?"No data before "+f.label:"No data":(l<-1?"Worsened":l<1?"Little change":"Improved")+" since "+p.label)},[o,c,u,s,f,_,d,h,v,m,p,y,l,a,n]}class Ft extends ce{constructor(t){super(),de(this,t,qt,Nt,me,{earliestPeriod:4,baselineComparisonArea:5,mainLatestValue:6,mainPreviousValue:7,comparisonLatestValue:8,medianAbsoluteDeviation:9,previousPeriod:10,metadata:11})}}function Fe(e,t,i){const a=e.slice();return a[3]=t[i],a[5]=i,a}function Me(e){let t,i,a;return{c(){t=L("g"),i=L("line"),this.h()},l(l){t=R(l,"g",{class:!0,transform:!0});var n=E(t);i=R(n,"line",{y1:!0,y2:!0,stroke:!0,opacity:!0,"stroke-width":!0}),E(i).forEach(b),n.forEach(b),this.h()},h(){r(i,"y1",0),r(i,"y2",e[0]),r(i,"stroke","white"),r(i,"opacity","1"),r(i,"stroke-width",(Math.abs(e[3])%2===1,"1px")),r(t,"class","tick"),r(t,"transform",a="translate("+e[1]*(e[3]+N)/(N*2)+",0)")},m(l,n){T(l,t,n),k(t,i)},p(l,n){n&1&&r(i,"y2",l[0]),n&2&&a!==(a="translate("+l[1]*(l[3]+N)/(N*2)+",0)")&&r(t,"transform",a)},d(l){l&&b(t)}}}function Mt(e){let t,i,a,l,n=e[2],s=[];for(let u=0;u<n.length;u+=1)s[u]=Me(Fe(e,n,u));return{c(){t=L("g"),i=L("rect");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){t=R(u,"g",{class:!0});var c=E(t);i=R(c,"rect",{transform:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,opacity:!0}),E(i).forEach(b);for(let o=0;o<s.length;o+=1)s[o].l(c);c.forEach(b),this.h()},h(){r(i,"transform",a="translate("+e[1]*(-1+N)/(N*2)+",0)"),r(i,"x","1.5"),r(i,"width",l=e[1]*(-3+N)/(N*2)-3),r(i,"y",0),r(i,"height",e[0]),r(i,"fill","url(#diagonalHatch)"),r(i,"opacity","0.25"),r(t,"class","x-gridlines-group")},m(u,c){T(u,t,c),k(t,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(u,[c]){if(c&2&&a!==(a="translate("+u[1]*(-1+N)/(N*2)+",0)")&&r(i,"transform",a),c&2&&l!==(l=u[1]*(-3+N)/(N*2)-3)&&r(i,"width",l),c&1&&r(i,"height",u[0]),c&7){n=u[2];let o;for(o=0;o<n.length;o+=1){const f=Fe(u,n,o);s[o]?s[o].p(f,c):(s[o]=Me(f),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},i:ae,o:ae,d(u){u&&b(t),pe(s,u)}}}let Ut=1;function jt(e,t,i){let{scaleHeight:a,scaleWidth:l}=t,n=[];for(let s=-N;s<=N;s++)s%Ut==0&&n.push(s);return e.$$set=s=>{"scaleHeight"in s&&i(0,a=s.scaleHeight),"scaleWidth"in s&&i(1,l=s.scaleWidth)},[a,l,n]}class Qt extends ce{constructor(t){super(),de(this,t,jt,Mt,me,{scaleHeight:0,scaleWidth:1})}}function Ue(e,t,i){const a=e.slice();return a[12]=t[i],a[14]=i,a}function je(e){let t,i=e[1].prefix+Ee(We(e[0],e[1].decimalPlaces))+e[1].suffix+"",a,l,n,s,u=e[7]!=null&&Qe(e),c=e[5]&&Ye(e);return{c(){u&&u.c(),t=L("text"),a=q(i),c&&c.c(),s=ve(),this.h()},l(o){u&&u.l(o),t=R(o,"text",{opacity:!0,y:!0,class:!0,fill:!0,"stroke-width":!0,"pointer-events":!0,"text-anchor":!0,"font-size":!0});var f=E(t);a=F(f,i),f.forEach(b),c&&c.l(o),s=ve(),this.h()},h(){r(t,"opacity",l=e[4]==null?1:0),r(t,"y","-13"),r(t,"class","medianLine"),r(t,"fill","#F66068"),r(t,"stroke-width","0px"),r(t,"pointer-events","none"),r(t,"text-anchor","middle"),r(t,"font-size","16px")},m(o,f){u&&u.m(o,f),T(o,t,f),k(t,a),n=dt.observe(t,e[10].bind(t)),c&&c.m(o,f),T(o,s,f)},p(o,f){o[7]!=null?u?u.p(o,f):(u=Qe(o),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),f&3&&i!==(i=o[1].prefix+Ee(We(o[0],o[1].decimalPlaces))+o[1].suffix+"")&&_e(a,i),f&16&&l!==(l=o[4]==null?1:0)&&r(t,"opacity",l),o[5]?c?c.p(o,f):(c=Ye(o),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(o){u&&u.d(o),o&&b(t),n(),c&&c.d(o),o&&b(s)}}}function Qe(e){let t,i,a,l;return{c(){t=L("rect"),this.h()},l(n){t=R(n,"rect",{opacity:!0,x:!0,width:!0,y:!0,height:!0,class:!0,stroke:!0,"stroke-width":!0,fill:!0,rx:!0}),E(t).forEach(b),this.h()},h(){r(t,"opacity",i=e[4]==null?1:0),r(t,"x",a=-e[7].width/2-3),r(t,"width",l=e[7].width+6),r(t,"y","-28.5"),r(t,"height","20"),r(t,"class","medianLine"),r(t,"stroke","#F66068"),r(t,"stroke-width","1.5px"),r(t,"fill","white"),r(t,"rx","5px")},m(n,s){T(n,t,s)},p(n,s){s&16&&i!==(i=n[4]==null?1:0)&&r(t,"opacity",i),s&128&&a!==(a=-n[7].width/2-3)&&r(t,"x",a),s&128&&l!==(l=n[7].width+6)&&r(t,"width",l)},d(n){n&&b(t)}}}function Ye(e){let t,i,a,l=e[8]!=null&&Ke(e),n=e[9],s=[];for(let u=0;u<n.length;u+=1)s[u]=Ze(Ue(e,n,u));return{c(){t=L("g"),l&&l.c(),i=L("g");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){t=R(u,"g",{transform:!0});var c=E(t);l&&l.l(c),i=R(c,"g",{});var o=E(i);for(let f=0;f<s.length;f+=1)s[f].l(o);o.forEach(b),c.forEach(b),this.h()},h(){r(t,"transform","translate(0,-65)")},m(u,c){T(u,t,c),l&&l.m(t,null),k(t,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(i,null);a=dt.observe(i,e[11].bind(i))},p(u,c){if(u[8]!=null?l?l.p(u,c):(l=Ke(u),l.c(),l.m(t,i)):l&&(l.d(1),l=null),c&528){n=u[9];let o;for(o=0;o<n.length;o+=1){const f=Ue(u,n,o);s[o]?s[o].p(f,c):(s[o]=Ze(f),s[o].c(),s[o].m(i,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(u){u&&b(t),l&&l.d(),pe(s,u),a()}}}function Ke(e){let t,i,a,l;return{c(){t=L("rect"),this.h()},l(n){t=R(n,"rect",{opacity:!0,x:!0,width:!0,y:!0,height:!0,class:!0,stroke:!0,"stroke-width":!0,fill:!0,rx:!0}),E(t).forEach(b),this.h()},h(){r(t,"opacity",i=e[4]==null?1:0),r(t,"x",a=-e[8].width/2-3),r(t,"width",l=e[8].width+6),r(t,"y","-17"),r(t,"height","40"),r(t,"class","medianLine"),r(t,"stroke","#F66068"),r(t,"stroke-width","1.5px"),r(t,"fill","white"),r(t,"rx","5px")},m(n,s){T(n,t,s)},p(n,s){s&16&&i!==(i=n[4]==null?1:0)&&r(t,"opacity",i),s&256&&a!==(a=-n[8].width/2-3)&&r(t,"x",a),s&256&&l!==(l=n[8].width+6)&&r(t,"width",l)},d(n){n&&b(t)}}}function Ze(e){let t,i=e[12]+"",a,l;return{c(){t=L("text"),a=q(i),this.h()},l(n){t=R(n,"text",{opacity:!0,y:!0,class:!0,fill:!0,"stroke-width":!0,"pointer-events":!0,"text-anchor":!0,"font-size":!0});var s=E(t);a=F(s,i),s.forEach(b),this.h()},h(){r(t,"opacity",l=e[4]==null?1:0),r(t,"y",e[14]*17),r(t,"class","medianLine"),r(t,"fill","#F66068"),r(t,"stroke-width","0px"),r(t,"pointer-events","none"),r(t,"text-anchor","middle"),r(t,"font-size","16px")},m(n,s){T(n,t,s),k(t,a)},p(n,s){s&512&&i!==(i=n[12]+"")&&_e(a,i),s&16&&l!==(l=n[4]==null?1:0)&&r(t,"opacity",l)},d(n){n&&b(t)}}}function Yt(e){let t,i,a,l,n,s,u,c=e[6]&&je(e);return{c(){t=L("g"),i=L("line"),c&&c.c(),this.h()},l(o){t=R(o,"g",{class:!0,transform:!0,opacity:!0});var f=E(t);i=R(f,"line",{opacity:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),E(i).forEach(b),c&&c.l(f),f.forEach(b),this.h()},h(){r(i,"opacity",a=e[4]==null?1:0),r(i,"y1",l=-8.5+(e[5]&e[6]?-172:0)),r(i,"y2",n=e[3]+15),r(i,"stroke","#F66068"),r(i,"stroke-width","2.5px"),r(i,"pointer-events","none"),r(t,"class","median-line-group"),r(t,"transform",s="translate("+e[2]/2+",0)"),r(t,"opacity",u=e[6]?1:.4)},m(o,f){T(o,t,f),k(t,i),c&&c.m(t,null)},p(o,[f]){f&16&&a!==(a=o[4]==null?1:0)&&r(i,"opacity",a),f&96&&l!==(l=-8.5+(o[5]&o[6]?-172:0))&&r(i,"y1",l),f&8&&n!==(n=o[3]+15)&&r(i,"y2",n),o[6]?c?c.p(o,f):(c=je(o),c.c(),c.m(t,null)):c&&(c.d(1),c=null),f&4&&s!==(s="translate("+o[2]/2+",0)")&&r(t,"transform",s),f&64&&u!==(u=o[6]?1:.4)&&r(t,"opacity",u)},i:ae,o:ae,d(o){o&&b(t),c&&c.d()}}}function Kt(e,t,i){let{medianValue:a,metadata:l,scaleWidth:n,scaleHeight:s,hoverIndex:u,firstRow:c,background:o}=t,f=null,_=null,d;if(c&o){let m=se("selectedGeogLevel");d=Tt("Median value across all "+_t[m],2)}function h(){var m;f=(m=Re.entries.get(this))==null?void 0:m.contentRect,i(7,f)}function v(){var m;_=(m=Re.entries.get(this))==null?void 0:m.contentRect,i(8,_)}return e.$$set=m=>{"medianValue"in m&&i(0,a=m.medianValue),"metadata"in m&&i(1,l=m.metadata),"scaleWidth"in m&&i(2,n=m.scaleWidth),"scaleHeight"in m&&i(3,s=m.scaleHeight),"hoverIndex"in m&&i(4,u=m.hoverIndex),"firstRow"in m&&i(5,c=m.firstRow),"background"in m&&i(6,o=m.background)},[a,l,n,s,u,c,o,f,_,d,h,v]}class Je extends ce{constructor(t){super(),de(this,t,Kt,Yt,me,{medianValue:0,metadata:1,scaleWidth:2,scaleHeight:3,hoverIndex:4,firstRow:5,background:6})}}function Zt(e){let t,i,a,l,n,s,u,c,o,f,_,d,h,v,m,p,y,g,P,S,w;_=new Qt({props:{scaleHeight:e[5],scaleWidth:e[3]}}),d=new Je({props:{medianValue:e[7],metadata:e[10],scaleWidth:e[3],scaleHeight:e[5],hoverIndex:e[0],firstRow:e[1],background:!0}});function V(D){e[21](D)}let G={backgroundCirclesStep2:e[11],y:e[9],radius:5};return e[0]!==void 0&&(G.hoverIndex=e[0]),h=new Et({props:G}),fe.push(()=>ue(h,"hoverIndex",V)),m=new Je({props:{medianValue:e[7],metadata:e[10],scaleWidth:e[3],scaleHeight:e[5],hoverIndex:e[0],firstRow:e[1],background:!1}}),p=new Wt({props:{primaryCirclesStep2:e[12],hoverIndex:e[0],scaleHeight:e[5]}}),y=new Pt({props:{backgroundCirclesStep2:e[11].filter(e[22]),x:e[8],y:e[9],hoverIndex:e[0]}}),{c(){t=L("svg"),i=L("g"),a=L("rect"),u=L("rect"),K(_.$$.fragment),K(d.$$.fragment),K(h.$$.fragment),K(m.$$.fragment),K(p.$$.fragment),K(y.$$.fragment),this.h()},l(D){t=R(D,"svg",{class:!0,width:!0,height:!0});var W=E(t);i=R(W,"g",{class:!0,transform:!0});var U=E(i);a=R(U,"rect",{x:!0,width:!0,height:!0,fill:!0,opacity:!0}),E(a).forEach(b),u=R(U,"rect",{x:!0,width:!0,height:!0,fill:!0,opacity:!0}),E(u).forEach(b),Z(_.$$.fragment,U),Z(d.$$.fragment,U),Z(h.$$.fragment,U),Z(m.$$.fragment,U),Z(p.$$.fragment,U),Z(y.$$.fragment,U),U.forEach(b),W.forEach(b),this.h()},h(){r(a,"x",l=-e[6].spaceBeyondXScale/2),r(a,"width",n=.4*e[3]+e[6].spaceBeyondXScale/2),r(a,"height",s=e[4]-e[6].top-e[6].bottom),r(a,"fill","black"),r(a,"opacity","0.07"),r(u,"x",c=e[3]*.6),r(u,"width",o=.4*e[3]+e[6].spaceBeyondXScale/2),r(u,"height",f=e[4]-e[6].top-e[6].bottom),r(u,"fill","black"),r(u,"opacity","0.07"),r(i,"class","chart-container"),r(i,"transform",g="translate("+(e[6].left+e[6].spaceBeyondXScale)+","+(e[6].top+(e[1]?30:0))+")"),r(t,"class",P=Pe("beeswarm-row-svg-"+e[10].code)+" svelte-dv61gg"),r(t,"width",e[2]),r(t,"height",S=e[4]+(e[1]?30:0))},m(D,W){T(D,t,W),k(t,i),k(i,a),k(i,u),J(_,i,null),J(d,i,null),J(h,i,null),J(m,i,null),J(p,i,null),J(y,i,null),w=!0},p(D,[W]){(!w||W&64&&l!==(l=-D[6].spaceBeyondXScale/2))&&r(a,"x",l),(!w||W&72&&n!==(n=.4*D[3]+D[6].spaceBeyondXScale/2))&&r(a,"width",n),(!w||W&80&&s!==(s=D[4]-D[6].top-D[6].bottom))&&r(a,"height",s),(!w||W&8&&c!==(c=D[3]*.6))&&r(u,"x",c),(!w||W&72&&o!==(o=.4*D[3]+D[6].spaceBeyondXScale/2))&&r(u,"width",o),(!w||W&80&&f!==(f=D[4]-D[6].top-D[6].bottom))&&r(u,"height",f);const U={};W&32&&(U.scaleHeight=D[5]),W&8&&(U.scaleWidth=D[3]),_.$set(U);const I={};W&128&&(I.medianValue=D[7]),W&1024&&(I.metadata=D[10]),W&8&&(I.scaleWidth=D[3]),W&32&&(I.scaleHeight=D[5]),W&1&&(I.hoverIndex=D[0]),W&2&&(I.firstRow=D[1]),d.$set(I);const ne={};W&2048&&(ne.backgroundCirclesStep2=D[11]),W&512&&(ne.y=D[9]),!v&&W&1&&(v=!0,ne.hoverIndex=D[0],he(()=>v=!1)),h.$set(ne);const Y={};W&128&&(Y.medianValue=D[7]),W&1024&&(Y.metadata=D[10]),W&8&&(Y.scaleWidth=D[3]),W&32&&(Y.scaleHeight=D[5]),W&1&&(Y.hoverIndex=D[0]),W&2&&(Y.firstRow=D[1]),m.$set(Y);const H={};W&4096&&(H.primaryCirclesStep2=D[12]),W&1&&(H.hoverIndex=D[0]),W&32&&(H.scaleHeight=D[5]),p.$set(H);const te={};W&2049&&(te.backgroundCirclesStep2=D[11].filter(D[22])),W&256&&(te.x=D[8]),W&512&&(te.y=D[9]),W&1&&(te.hoverIndex=D[0]),y.$set(te),(!w||W&66&&g!==(g="translate("+(D[6].left+D[6].spaceBeyondXScale)+","+(D[6].top+(D[1]?30:0))+")"))&&r(i,"transform",g),(!w||W&1024&&P!==(P=Pe("beeswarm-row-svg-"+D[10].code)+" svelte-dv61gg"))&&r(t,"class",P),(!w||W&4)&&r(t,"width",D[2]),(!w||W&18&&S!==(S=D[4]+(D[1]?30:0)))&&r(t,"height",S)},i(D){w||(M(_.$$.fragment,D),M(d.$$.fragment,D),M(h.$$.fragment,D),M(m.$$.fragment,D),M(p.$$.fragment,D),M(y.$$.fragment,D),w=!0)},o(D){j(_.$$.fragment,D),j(d.$$.fragment,D),j(h.$$.fragment,D),j(m.$$.fragment,D),j(p.$$.fragment,D),j(y.$$.fragment,D),w=!1},d(D){D&&b(t),x(_),x(d),x(h),x(m),x(p),x(y)}}}function Jt(e,t,i){let a,l,n,s,{firstRow:u,width:c,scaleWidth:o,height:f,scaleHeight:_,outerPadding:d,latestData:h,backgroundLatestData:v,hoverIndex:m,hoverChartIndex:p,medianValue:y,medianAbsoluteDeviation:g,visibleAreas:P,x:S,yDomainGlobal:w,y:V,metadata:G}=t,D=P.map(I=>I.areacd);function W(I){m=I,i(0,m)}const U=(I,ne)=>I.datum.areacd===m;return e.$$set=I=>{"firstRow"in I&&i(1,u=I.firstRow),"width"in I&&i(2,c=I.width),"scaleWidth"in I&&i(3,o=I.scaleWidth),"height"in I&&i(4,f=I.height),"scaleHeight"in I&&i(5,_=I.scaleHeight),"outerPadding"in I&&i(6,d=I.outerPadding),"latestData"in I&&i(14,h=I.latestData),"backgroundLatestData"in I&&i(15,v=I.backgroundLatestData),"hoverIndex"in I&&i(0,m=I.hoverIndex),"hoverChartIndex"in I&&i(16,p=I.hoverChartIndex),"medianValue"in I&&i(7,y=I.medianValue),"medianAbsoluteDeviation"in I&&i(17,g=I.medianAbsoluteDeviation),"visibleAreas"in I&&i(18,P=I.visibleAreas),"x"in I&&i(8,S=I.x),"yDomainGlobal"in I&&i(13,w=I.yDomainGlobal),"y"in I&&i(9,V=I.y),"metadata"in I&&i(10,G=I.metadata)},e.$$.update=()=>{e.$$.dirty&163968&&i(20,a=v.filter(I=>!D.includes(I.areacd)).map(I=>({...I,zScore:(I.value-y)/g}))),e.$$.dirty&1048904&&i(11,l=new Oe(a,4,I=>S(I.zScore)>o?o+d.spaceBeyondXScale/2:S(I.zScore)<0?-d.spaceBeyondXScale/2:S(I.zScore)).calculateYPositions()),e.$$.dirty&10240&&i(13,w[0]=l!=null?Math.min(...l.map(I=>I.y),w[0]):w[0],w),e.$$.dirty&10240&&i(13,w[1]=l!=null?Math.max(...l.map(I=>I.y),w[1]):w[1],w),e.$$.dirty&147584&&i(19,n=h.filter(I=>D.includes(I.areacd)).map(I=>({...I,role:"main",zScore:(I.value-y)/g}))),e.$$.dirty&524616&&i(12,s=new Oe(n,8.5,I=>S(I.zScore)>o?o+d.spaceBeyondXScale/2:S(I.zScore)<0?-d.spaceBeyondXScale/2:S(I.zScore)).calculateYPositions())},[m,u,c,o,f,_,d,y,S,V,G,l,s,w,h,v,p,g,P,n,a,W,U]}class xt extends ce{constructor(t){super(),de(this,t,Jt,Zt,me,{firstRow:1,width:2,scaleWidth:3,height:4,scaleHeight:5,outerPadding:6,latestData:14,backgroundLatestData:15,hoverIndex:0,hoverChartIndex:16,medianValue:7,medianAbsoluteDeviation:17,visibleAreas:18,x:8,yDomainGlobal:13,y:9,metadata:10})}}function $t(e){let t,i,a,l,n;function s(f){e[40](f)}function u(f){e[41](f)}function c(f){e[42](f)}let o={firstRow:e[11]===0&e[10]===0,width:e[8]+e[9],scaleWidth:e[17],height:e[14],scaleHeight:e[16],outerPadding:e[15],latestData:e[5],backgroundLatestData:e[20],medianValue:e[19],medianAbsoluteDeviation:e[26],visibleAreas:e[13],y:e[18],x:e[24],metadata:e[3]};return e[22]!==void 0&&(o.hoverIndex=e[22]),e[23]!==void 0&&(o.hoverChartIndex=e[23]),e[0]!==void 0&&(o.yDomainGlobal=e[0]),t=new xt({props:o}),fe.push(()=>ue(t,"hoverIndex",s)),fe.push(()=>ue(t,"hoverChartIndex",u)),fe.push(()=>ue(t,"yDomainGlobal",c)),{c(){K(t.$$.fragment)},l(f){Z(t.$$.fragment,f)},m(f,_){J(t,f,_),n=!0},p(f,_){const d={};_[0]&3072&&(d.firstRow=f[11]===0&f[10]===0),_[0]&768&&(d.width=f[8]+f[9]),_[0]&131072&&(d.scaleWidth=f[17]),_[0]&16384&&(d.height=f[14]),_[0]&65536&&(d.scaleHeight=f[16]),_[0]&32768&&(d.outerPadding=f[15]),_[0]&32&&(d.latestData=f[5]),_[0]&1048576&&(d.backgroundLatestData=f[20]),_[0]&524288&&(d.medianValue=f[19]),_[0]&67108864&&(d.medianAbsoluteDeviation=f[26]),_[0]&8192&&(d.visibleAreas=f[13]),_[0]&262144&&(d.y=f[18]),_[0]&16777216&&(d.x=f[24]),_[0]&8&&(d.metadata=f[3]),!i&&_[0]&4194304&&(i=!0,d.hoverIndex=f[22],he(()=>i=!1)),!a&&_[0]&8388608&&(a=!0,d.hoverChartIndex=f[23],he(()=>a=!1)),!l&&_[0]&1&&(l=!0,d.yDomainGlobal=f[0],he(()=>l=!1)),t.$set(d)},i(f){n||(M(t.$$.fragment,f),n=!0)},o(f){j(t.$$.fragment,f),n=!1},d(f){x(t,f)}}}function ei(e){let t,i,a,l=(e[29]==null?"-":e[3].prefix+Ee(We(e[29],e[3].decimalPlaces))+e[3].suffix)+"",n,s,u,c=e[3].subText+"",o,f,_,d;return _=new Ft({props:{baselineComparisonArea:e[12],mainLatestValue:e[29],mainPreviousValue:e[27],comparisonLatestValue:e[25],medianAbsoluteDeviation:e[26],previousPeriod:e[21],metadata:e[3],earliestPeriod:e[28].find(e[39])}}),{c(){t=O("div"),i=O("div"),a=O("h3"),n=q(l),s=$(),u=O("p"),o=q(c),f=$(),K(_.$$.fragment),this.h()},l(h){t=X(h,"DIV",{class:!0});var v=E(t);i=X(v,"DIV",{});var m=E(i);a=X(m,"H3",{class:!0});var p=E(a);n=F(p,l),p.forEach(b),s=ee(m),u=X(m,"P",{class:!0});var y=E(u);o=F(y,c),y.forEach(b),m.forEach(b),v.forEach(b),f=ee(h),Z(_.$$.fragment,h),this.h()},h(){r(a,"class","svelte-12s4fmg"),r(u,"class","svelte-12s4fmg"),r(t,"class","col3 svelte-12s4fmg")},m(h,v){T(h,t,v),k(t,i),k(i,a),k(a,n),k(i,s),k(i,u),k(u,o),T(h,f,v),J(_,h,v),d=!0},p(h,v){(!d||v[0]&8)&&l!==(l=(h[29]==null?"-":h[3].prefix+Ee(We(h[29],h[3].decimalPlaces))+h[3].suffix)+"")&&_e(n,l),(!d||v[0]&8)&&c!==(c=h[3].subText+"")&&_e(o,c);const m={};v[0]&4096&&(m.baselineComparisonArea=h[12]),v[0]&134217728&&(m.mainPreviousValue=h[27]),v[0]&33554432&&(m.comparisonLatestValue=h[25]),v[0]&67108864&&(m.medianAbsoluteDeviation=h[26]),v[0]&2097152&&(m.previousPeriod=h[21]),v[0]&8&&(m.metadata=h[3]),v[0]&16&&(m.earliestPeriod=h[28].find(h[39])),_.$set(m)},i(h){d||(M(_.$$.fragment,h),d=!0)},o(h){j(_.$$.fragment,h),d=!1},d(h){h&&b(t),h&&b(f),x(_,h)}}}function ti(e){let t,i,a,l,n=e[2].label+"",s,u,c,o,f=e[28].find(e[38]).label+"",_,d,h,v,m,p;u=new St({});const y=[ei,$t],g=[];function P(S,w){return S[1]==="digest"?0:1}return h=P(e),v=g[h]=y[h](e),{c(){t=O("div"),i=O("div"),a=O("p"),l=O("a"),s=q(n),K(u.$$.fragment),c=$(),o=O("p"),_=q(f),d=$(),v.c(),this.h()},l(S){t=X(S,"DIV",{class:!0,style:!0});var w=E(t);i=X(w,"DIV",{class:!0});var V=E(i);a=X(V,"P",{class:!0});var G=E(a);l=X(G,"A",{href:!0});var D=E(l);s=F(D,n),D.forEach(b),Z(u.$$.fragment,G),G.forEach(b),V.forEach(b),c=ee(w),o=X(w,"P",{class:!0});var W=E(o);_=F(W,f),W.forEach(b),d=ee(w),v.l(w),w.forEach(b),this.h()},h(){r(l,"href","https://www.ons.gov.uk/"),r(a,"class","svelte-12s4fmg"),r(i,"class","col1 svelte-12s4fmg"),r(o,"class","col2 svelte-12s4fmg"),r(t,"class","row-container svelte-12s4fmg"),r(t,"style",m="grid-template-columns: [line1] "+e[6]+"px [line2] "+e[7]+"px "+(e[1]==="digest"?"[line3] "+e[8]+"px [line4] "+e[9]/2+"px [line5] "+e[9]/2+"px [end]":"[line3] "+(e[8]+e[9])+"px [end]")+"; background-color: "+(e[10]%2===0?"#fafafa":"#ffffff"))},m(S,w){T(S,t,w),k(t,i),k(i,a),k(a,l),k(l,s),J(u,a,null),k(t,c),k(t,o),k(o,_),k(t,d),g[h].m(t,null),p=!0},p(S,w){(!p||w[0]&4)&&n!==(n=S[2].label+"")&&_e(s,n),(!p||w[0]&16)&&f!==(f=S[28].find(S[38]).label+"")&&_e(_,f);let V=h;h=P(S),h===V?g[h].p(S,w):(Ae(),j(g[V],1,1,()=>{g[V]=null}),Ce(),v=g[h],v?v.p(S,w):(v=g[h]=y[h](S),v.c()),M(v,1),v.m(t,null)),(!p||w[0]&1986&&m!==(m="grid-template-columns: [line1] "+S[6]+"px [line2] "+S[7]+"px "+(S[1]==="digest"?"[line3] "+S[8]+"px [line4] "+S[9]/2+"px [line5] "+S[9]/2+"px [end]":"[line3] "+(S[8]+S[9])+"px [end]")+"; background-color: "+(S[10]%2===0?"#fafafa":"#ffffff")))&&r(t,"style",m)},i(S){p||(M(u.$$.fragment,S),M(v),p=!0)},o(S){j(u.$$.fragment,S),j(v),p=!1},d(S){S&&b(t),x(u),g[h].d()}}}function ii(e,t,i){let a,l,n,s,u,c,o,f,_,d,h,v,{chosenId2:m,chosenIdGeneralised:p,indicator:y,metadata:g,calculations:P,latestData:S,initialData:w,otherData:V,col1Width:G,col2Width:D,col3Width:W,col4Width:U,rowNumb:I,topicNumb:ne,baselineComparisonArea:Y,visibleAreas:H,svgHeight:te,svgOuterPadding:ke,scaleHeight:ge,scaleWidth:C,yDomainGlobal:Q,y:A}=t,re=se("selectedArea"),be=se("periodsLookup"),z=se("areasWithSameGeog"),oe=S.find(B=>B.areacd===re.areacd),ie=oe==null?null:oe.value,Te=null,He=null;const pt=B=>B.xDomainNumb===P.maxXDomain,bt=B=>B.xDomainNumb===P.minXDomain;function vt(B){Te=B,i(22,Te)}function wt(B){He=B,i(23,He)}function kt(B){Q=B,i(0,Q)}return e.$$set=B=>{"chosenId2"in B&&i(30,m=B.chosenId2),"chosenIdGeneralised"in B&&i(1,p=B.chosenIdGeneralised),"indicator"in B&&i(2,y=B.indicator),"metadata"in B&&i(3,g=B.metadata),"calculations"in B&&i(4,P=B.calculations),"latestData"in B&&i(5,S=B.latestData),"initialData"in B&&i(31,w=B.initialData),"otherData"in B&&i(32,V=B.otherData),"col1Width"in B&&i(6,G=B.col1Width),"col2Width"in B&&i(7,D=B.col2Width),"col3Width"in B&&i(8,W=B.col3Width),"col4Width"in B&&i(9,U=B.col4Width),"rowNumb"in B&&i(10,I=B.rowNumb),"topicNumb"in B&&i(11,ne=B.topicNumb),"baselineComparisonArea"in B&&i(12,Y=B.baselineComparisonArea),"visibleAreas"in B&&i(13,H=B.visibleAreas),"svgHeight"in B&&i(14,te=B.svgHeight),"svgOuterPadding"in B&&i(15,ke=B.svgOuterPadding),"scaleHeight"in B&&i(16,ge=B.scaleHeight),"scaleWidth"in B&&i(17,C=B.scaleWidth),"yDomainGlobal"in B&&i(0,Q=B.yDomainGlobal),"y"in B&&i(18,A=B.y)},e.$$.update=()=>{e.$$.dirty[0]&1073741840&&i(21,a=be.find(B=>parseFloat(B.xDomainNumb)==(m==="earliest available year"?P.minXDomain:parseFloat(P.maxXDomain)-{"previous year":1,"5 years earlier":5,"10 years earlier":10}[m]))),e.$$.dirty[0]&1075838976|e.$$.dirty[1]&3&&i(37,l=a==null?[]:m==="earliest available year"?w:[...w,...V].filter(B=>parseFloat(B.xDomainNumb)==a.xDomainNumb)),e.$$.dirty[1]&64&&i(36,n=l.find(B=>B.areacd===re.areacd)),e.$$.dirty[1]&32&&i(27,s=n==null?null:n.value),e.$$.dirty[0]&32&&i(20,u=S.filter(B=>z.includes(B.areacd))),e.$$.dirty[0]&1048576&&i(19,c=Xe(u,"value")),e.$$.dirty[0]&1572864&&i(35,o=u.map(B=>Math.abs(B.value-c))),e.$$.dirty[1]&16&&i(26,f=Xe(o)),e.$$.dirty[0]&4128&&i(34,_=S.find(B=>B.areacd===Y.areacd)),e.$$.dirty[0]&528384|e.$$.dirty[1]&8&&i(25,d=Y==="median"?c:_==null?null:_.value),e.$$.dirty[0]&8&&i(33,h=[-g.polarity*N,g.polarity*N]),e.$$.dirty[0]&131072|e.$$.dirty[1]&4&&i(24,v=mt().domain(h).range([0,C]))},[Q,p,y,g,P,S,G,D,W,U,I,ne,Y,H,te,ke,ge,C,A,c,u,a,Te,He,v,d,f,s,be,ie,m,w,V,h,_,o,n,l,pt,bt,vt,wt,kt]}class ai extends ce{constructor(t){super(),de(this,t,ii,ti,me,{chosenId2:30,chosenIdGeneralised:1,indicator:2,metadata:3,calculations:4,latestData:5,initialData:31,otherData:32,col1Width:6,col2Width:7,col3Width:8,col4Width:9,rowNumb:10,topicNumb:11,baselineComparisonArea:12,visibleAreas:13,svgHeight:14,svgOuterPadding:15,scaleHeight:16,scaleWidth:17,yDomainGlobal:0,y:18},null,[-1,-1])}}function ni(e){let t,i,a;return{c(){t=O("div"),i=O("img"),this.h()},l(l){t=X(l,"DIV",{class:!0});var n=E(t);i=X(n,"IMG",{style:!0,width:!0,src:!0,alt:!0}),n.forEach(b),this.h()},h(){De(i,"padding-top","10px"),r(i,"width","80%"),yt(i.src,a=`${Le}/img/shareOptionsPlaceholder.png`)||r(i,"src",a),r(i,"alt","download buttons"),r(t,"class","svelte-i423o8")},m(l,n){T(l,t,n),k(t,i)},p:ae,i:ae,o:ae,d(l){l&&b(t)}}}class li extends ce{constructor(t){super(),de(this,t,null,ni,me,{})}}function ri(e,t,i){const a=e.slice();return a[4]=t[i],a[6]=i,a}function si(e,t,i){const a=e.slice();return a[7]=t[i],a[6]=i,a}function xe(e,t,i){const a=e.slice();return a[9]=t[i],a[6]=i,a}function $e(e,t,i){const a=e.slice();return a[9]=t[i],a[6]=i,a}function et(e,t,i){const a=e.slice();return a[12]=t[i],a}function tt(e,t,i){const a=e.slice();return a[7]=t[i],a[6]=i,a}function it(e){let t,i,a;return{c(){t=L("text"),i=q(e[7]),this.h()},l(l){t=R(l,"text",{x:!0,"text-anchor":!0,y:!0,fill:!0,"font-size":!0});var n=E(t);i=F(n,e[7]),n.forEach(b),this.h()},h(){r(t,"x",a=e[1]/2),r(t,"text-anchor","middle"),r(t,"y",le-124+14*e[6]),r(t,"fill","#707071"),r(t,"font-size","14px")},m(l,n){T(l,t,n),k(t,i)},p(l,n){n&2&&a!==(a=l[1]/2)&&r(t,"x",a)},d(l){l&&b(t)}}}function at(e){let t,i;return{c(){t=L("line"),this.h()},l(a){t=R(a,"line",{transform:!0,y1:!0,y2:!0,stroke:!0,"stroke-dasharray":!0}),E(t).forEach(b),this.h()},h(){r(t,"transform",i="translate("+e[1]*(e[12]+N)/(N*2)+",0)"),r(t,"y1",le-45),r(t,"y2",le),r(t,"stroke","#707071"),r(t,"stroke-dasharray","4 4")},m(a,l){T(a,t,l)},p(a,l){l&2&&i!==(i="translate("+a[1]*(a[12]+N)/(N*2)+",0)")&&r(t,"transform",i)},d(a){a&&b(t)}}}function oi(e){let t,i,a,l=e[9]%2==0&&fi(e);return{c(){t=L("g"),i=L("line"),l&&l.c(),this.h()},l(n){t=R(n,"g",{class:!0,transform:!0});var s=E(t);i=R(s,"line",{y1:!0,y2:!0,stroke:!0,opacity:!0,"stroke-width":!0}),E(i).forEach(b),l&&l.l(s),s.forEach(b),this.h()},h(){r(i,"y1",e[9]%2==0?le-6:le-3),r(i,"y2",le),r(i,"stroke","#707071"),r(i,"opacity","1"),r(i,"stroke-width","1px"),r(t,"class","tick"),r(t,"transform",a="translate("+e[1]*(e[9]+N)/(N*2)+",0)")},m(n,s){T(n,t,s),k(t,i),l&&l.m(t,null)},p(n,s){n[9]%2==0&&l.p(n,s),s&2&&a!==(a="translate("+n[1]*(n[9]+N)/(N*2)+",0)")&&r(t,"transform",a)},d(n){n&&b(t),l&&l.d()}}}function fi(e){let t,i=e[9]+"",a;return{c(){t=L("text"),a=q(i),this.h()},l(l){t=R(l,"text",{"text-anchor":!0,y:!0,fill:!0,"font-size":!0});var n=E(t);a=F(n,i),n.forEach(b),this.h()},h(){r(t,"text-anchor","middle"),r(t,"y",le-10),r(t,"fill","#707071"),r(t,"font-size","14px")},m(l,n){T(l,t,n),k(t,a)},p:ae,d(l){l&&b(t)}}}function nt(e){let t=![-1,0,1].includes(e[9]),i,a=t&&oi(e);return{c(){a&&a.c(),i=ve()},l(l){a&&a.l(l),i=ve()},m(l,n){a&&a.m(l,n),T(l,i,n)},p(l,n){t&&a.p(l,n)},d(l){a&&a.d(l),l&&b(i)}}}function lt(e){let t,i,a,l=["-5","5"][e[6]]+" or",n,s,u=["less","more"][e[6]]+"",c,o;return{c(){t=L("g"),i=L("line"),a=L("text"),n=q(l),s=L("text"),c=q(u),this.h()},l(f){t=R(f,"g",{class:!0,transform:!0});var _=E(t);i=R(_,"line",{y1:!0,y2:!0,stroke:!0,opacity:!0,"stroke-width":!0}),E(i).forEach(b),a=R(_,"text",{"text-anchor":!0,y:!0,fill:!0,"font-size":!0});var d=E(a);n=F(d,l),d.forEach(b),s=R(_,"text",{"text-anchor":!0,y:!0,fill:!0,"font-size":!0});var h=E(s);c=F(h,u),h.forEach(b),_.forEach(b),this.h()},h(){r(i,"y1",le-6),r(i,"y2",le),r(i,"stroke","#707071"),r(i,"opacity","1"),r(i,"stroke-width","1px"),r(a,"text-anchor","middle"),r(a,"y",le-24),r(a,"fill","#707071"),r(a,"font-size","14px"),r(s,"text-anchor","middle"),r(s,"y",le-10),r(s,"fill","#707071"),r(s,"font-size","14px"),r(t,"class","tick"),r(t,"transform",o="translate("+[-e[2].spaceBeyondXScale/2,e[1]+e[2].spaceBeyondXScale/2][e[6]]+",0)")},m(f,_){T(f,t,_),k(t,i),k(t,a),k(a,n),k(t,s),k(s,c)},p(f,_){_&6&&o!==(o="translate("+[-f[2].spaceBeyondXScale/2,f[1]+f[2].spaceBeyondXScale/2][f[6]]+",0)")&&r(t,"transform",o)},d(f){f&&b(t)}}}function ui(e){let t,i;return{c(){t=L("text"),i=q(e[7]),this.h()},l(a){t=R(a,"text",{x:!0,"text-anchor":!0,y:!0,"font-size":!0,fill:!0});var l=E(t);i=F(l,e[7]),l.forEach(b),this.h()},h(){r(t,"x",42),r(t,"text-anchor","end"),r(t,"y",35+16*e[6]),r(t,"font-size","14px"),r(t,"fill","#222")},m(a,l){T(a,t,l),k(t,i)},p:ae,d(a){a&&b(t)}}}function hi(e){let t,i,a,l,n,s,u;return{c(){t=L("path"),i=L("path"),a=L("text"),l=q(e[4]),n=q(" than"),s=L("text"),u=q("median"),this.h()},l(c){t=R(c,"path",{transform:!0,d:!0,"stroke-width":!0,stroke:!0}),E(t).forEach(b),i=R(c,"path",{transform:!0,d:!0,stroke:!0,fill:!0}),E(i).forEach(b),a=R(c,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var o=E(a);l=F(o,e[4]),n=F(o," than"),o.forEach(b),s=R(c,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var f=E(s);u=F(f,"median"),f.forEach(b),this.h()},h(){r(t,"transform","translate(0,-40)"),r(t,"d","M "+-10*[-1,1][e[6]]+" 0 l"+-50*[-1,1][e[6]]+" 0"),r(t,"stroke-width","1px"),r(t,"stroke","black"),r(i,"transform","translate(0,-40)"),r(i,"d","M "+-68*[-1,1][e[6]]+" 0 l"+6*[-1,1][e[6]]+" -6 l0 12 z"),r(i,"stroke","none"),r(i,"fill","black"),r(a,"transform","translate(0,-40)"),r(a,"x",-107*[-1,1][e[6]]),r(a,"y","-8"),r(a,"text-anchor","middle"),r(a,"fill","black"),r(a,"font-size","14px"),r(s,"transform","translate(0,-40)"),r(s,"x",-100*[-1,1][e[6]]),r(s,"y","6"),r(s,"text-anchor","middle"),r(s,"fill","black"),r(s,"font-size","14px")},m(c,o){T(c,t,o),T(c,i,o),T(c,a,o),k(a,l),k(a,n),T(c,s,o),k(s,u)},p:ae,d(c){c&&b(t),c&&b(i),c&&b(a),c&&b(s)}}}function ci(e){let t,i,a,l,n,s,u,c,o,f,_,d,h,v,m,p,y,g,P,S,w,V=["Areas within this","range are less than ","1 median absolute","deviation (MAD)","from the median"],G=[];for(let C=0;C<5;C+=1)G[C]=it(tt(e,V,C));let D=[-1,1],W=[];for(let C=0;C<2;C+=1)W[C]=at(et(e,D,C));let U=e[3],I=[];for(let C=0;C<U.length;C+=1)I[C]=nt($e(e,U,C));let ne=["<-5","5<"],Y=[];for(let C=0;C<2;C+=1)Y[C]=lt(xe(e,ne,C));let H=["What is","a median","absolute","deviation?"],te=[];for(let C=0;C<4;C+=1)te[C]=ui(si(e,H,C));let ke=["Better","Worse"],ge=[];for(let C=0;C<2;C+=1)ge[C]=hi(ri(e,ke,C));return{c(){t=L("svg"),i=L("rect"),a=L("g"),l=L("pattern"),n=L("path"),s=L("rect"),o=L("path");for(let C=0;C<5;C+=1)G[C].c();_=ve();for(let C=0;C<2;C+=1)W[C].c();d=L("line");for(let C=0;C<I.length;C+=1)I[C].c();m=ve();for(let C=0;C<2;C+=1)Y[C].c();y=L("g"),g=L("rect"),P=L("g"),S=L("path");for(let C=0;C<4;C+=1)te[C].c();w=L("g");for(let C=0;C<2;C+=1)ge[C].c();this.h()},l(C){t=R(C,"svg",{width:!0,height:!0,class:!0});var Q=E(t);i=R(Q,"rect",{width:!0,height:!0,fill:!0,opacity:!0}),E(i).forEach(b),a=R(Q,"g",{class:!0,transform:!0});var A=E(a);l=R(A,"pattern",{id:!0,patternUnits:!0,width:!0,height:!0});var re=E(l);n=R(re,"path",{d:!0,style:!0}),E(n).forEach(b),re.forEach(b),s=R(A,"rect",{transform:!0,x:!0,width:!0,y:!0,height:!0,fill:!0,opacity:!0}),E(s).forEach(b),o=R(A,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0}),E(o).forEach(b);for(let ie=0;ie<5;ie+=1)G[ie].l(A);_=ve();for(let ie=0;ie<2;ie+=1)W[ie].l(A);d=R(A,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,opacity:!0,"stroke-width":!0}),E(d).forEach(b);for(let ie=0;ie<I.length;ie+=1)I[ie].l(A);m=ve();for(let ie=0;ie<2;ie+=1)Y[ie].l(A);A.forEach(b),y=R(Q,"g",{transform:!0});var be=E(y);g=R(be,"rect",{x:!0,width:!0,y:!0,height:!0,stroke:!0,fill:!0,rx:!0}),E(g).forEach(b),P=R(be,"g",{transform:!0});var z=E(P);S=R(z,"path",{d:!0}),E(S).forEach(b),z.forEach(b);for(let ie=0;ie<4;ie+=1)te[ie].l(be);be.forEach(b),w=R(Q,"g",{transform:!0});var oe=E(w);for(let ie=0;ie<2;ie+=1)ge[ie].l(oe);oe.forEach(b),Q.forEach(b),this.h()},h(){r(i,"width",e[0]),r(i,"height",le),r(i,"fill","black"),r(i,"opacity","0"),r(n,"d",`M-1,1 l2,-2
                    M0,4 l4,-4
                    M3,5 l2,-2`),De(n,"stroke","#F66068"),De(n,"stroke-width","1"),r(l,"id","diagonalHatch"),r(l,"patternUnits","userSpaceOnUse"),r(l,"width","4"),r(l,"height","4"),r(s,"transform",u="translate("+e[1]*(-1+N)/(N*2)+",0)"),r(s,"x","1.5"),r(s,"width",c=e[1]*(-3+N)/(N*2)-3),r(s,"y",le-45),r(s,"height","45"),r(s,"fill","url(#diagonalHatch)"),r(s,"opacity","0.25"),r(o,"d",f=Ne(e[1]*(-1+N)/(N*2),le-49,e[1]*(1+N)/(N*2),le-49,-15,.5)),r(o,"stroke","#707071"),r(o,"stroke-width","1px"),r(o,"fill","none"),r(d,"x1",h=-e[2].spaceBeyondXScale/2-.5),r(d,"x2",v=e[1]+e[2].spaceBeyondXScale/2+.5),r(d,"y1",le),r(d,"y2",le),r(d,"stroke","#707071"),r(d,"opacity","1"),r(d,"stroke-width","1px"),r(a,"class","x-gridlines-group"),r(a,"transform",p="translate("+(e[2].left+e[2].spaceBeyondXScale)+","+e[2].top+")"),r(g,"x","-32"),r(g,"width","82"),r(g,"y","17"),r(g,"height","73"),r(g,"stroke","#222"),r(g,"fill","#fafafa"),r(g,"rx","10px"),r(S,"d","M24.15 34q.65 0 1.075-.425.425-.425.425-1.075v-9.05q0-.6-.45-1.025Q24.75 22 24.15 22q-.65 0-1.075.425-.425.425-.425 1.075v9.05q0 .6.45 1.025.45.425 1.05.425ZM24 18.3q.7 0 1.175-.45.475-.45.475-1.15t-.475-1.2Q24.7 15 24 15q-.7 0-1.175.5-.475.5-.475 1.2t.475 1.15q.475.45 1.175.45ZM24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 4.25-1.55 7.9-1.55 3.65-4.25 6.35-2.7 2.7-6.35 4.225Q28.2 44 24 44Zm0-20Zm0 17q7 0 12-5t5-12q0-7-5-12T24 7q-7 0-12 5T7 24q0 7 5 12t12 5Z"),r(P,"transform","scale(0.4)translate(-70,51)"),r(y,"transform","translate(335, 0)"),r(w,"transform","translate(192, 230)"),r(t,"width",e[0]),r(t,"height",le+70),r(t,"class","svelte-1n1h8pw")},m(C,Q){T(C,t,Q),k(t,i),k(t,a),k(a,l),k(l,n),k(a,s),k(a,o);for(let A=0;A<5;A+=1)G[A]&&G[A].m(a,null);k(a,_);for(let A=0;A<2;A+=1)W[A]&&W[A].m(a,null);k(a,d);for(let A=0;A<I.length;A+=1)I[A]&&I[A].m(a,null);k(a,m);for(let A=0;A<2;A+=1)Y[A]&&Y[A].m(a,null);k(t,y),k(y,g),k(y,P),k(P,S);for(let A=0;A<4;A+=1)te[A]&&te[A].m(y,null);k(t,w);for(let A=0;A<2;A+=1)ge[A]&&ge[A].m(w,null)},p(C,[Q]){if(Q&1&&r(i,"width",C[0]),Q&2&&u!==(u="translate("+C[1]*(-1+N)/(N*2)+",0)")&&r(s,"transform",u),Q&2&&c!==(c=C[1]*(-3+N)/(N*2)-3)&&r(s,"width",c),Q&2&&f!==(f=Ne(C[1]*(-1+N)/(N*2),le-49,C[1]*(1+N)/(N*2),le-49,-15,.5))&&r(o,"d",f),Q&2){V=["Areas within this","range are less than ","1 median absolute","deviation (MAD)","from the median"];let A;for(A=0;A<5;A+=1){const re=tt(C,V,A);G[A]?G[A].p(re,Q):(G[A]=it(re),G[A].c(),G[A].m(a,_))}for(;A<5;A+=1)G[A].d(1)}if(Q&2){D=[-1,1];let A;for(A=0;A<2;A+=1){const re=et(C,D,A);W[A]?W[A].p(re,Q):(W[A]=at(re),W[A].c(),W[A].m(a,d))}for(;A<2;A+=1)W[A].d(1)}if(Q&4&&h!==(h=-C[2].spaceBeyondXScale/2-.5)&&r(d,"x1",h),Q&6&&v!==(v=C[1]+C[2].spaceBeyondXScale/2+.5)&&r(d,"x2",v),Q&10){U=C[3];let A;for(A=0;A<U.length;A+=1){const re=$e(C,U,A);I[A]?I[A].p(re,Q):(I[A]=nt(re),I[A].c(),I[A].m(a,m))}for(;A<I.length;A+=1)I[A].d(1);I.length=U.length}if(Q&6){ne=["<-5","5<"];let A;for(A=0;A<2;A+=1){const re=xe(C,ne,A);Y[A]?Y[A].p(re,Q):(Y[A]=lt(re),Y[A].c(),Y[A].m(a,null))}for(;A<2;A+=1)Y[A].d(1)}Q&4&&p!==(p="translate("+(C[2].left+C[2].spaceBeyondXScale)+","+C[2].top+")")&&r(a,"transform",p),Q&1&&r(t,"width",C[0])},i:ae,o:ae,d(C){C&&b(t),pe(G,C),pe(W,C),pe(I,C),pe(Y,C),pe(te,C),pe(ge,C)}}}let le=150,di=1;function mi(e,t,i){let{width:a,scaleWidth:l,outerPadding:n}=t,s=[];for(let u=-N;u<=N;u++)u%di==0&&s.push(u);return e.$$set=u=>{"width"in u&&i(0,a=u.width),"scaleWidth"in u&&i(1,l=u.scaleWidth),"outerPadding"in u&&i(2,n=u.outerPadding)},[a,l,n,s]}class _i extends ce{constructor(t){super(),de(this,t,mi,ci,me,{width:0,scaleWidth:1,outerPadding:2})}}function gi(e){let t,i,a,l,n,s,u,c,o,f,_,d=e[5].areanm+"",h,v,m,p,y,g,P=e[5].areanm+"",S,w;return{c(){t=O("div"),i=O("p"),a=q("Indicator"),l=$(),n=O("p"),s=q("Time period"),u=$(),c=O("p"),o=q("Value"),f=$(),_=O("p"),h=q(d),v=q(" compared to "),m=q(e[4]),p=$(),y=O("p"),g=q("Change over time for "),S=q(P),this.h()},l(V){t=X(V,"DIV",{class:!0,style:!0});var G=E(t);i=X(G,"P",{class:!0});var D=E(i);a=F(D,"Indicator"),D.forEach(b),l=ee(G),n=X(G,"P",{class:!0});var W=E(n);s=F(W,"Time period"),W.forEach(b),u=ee(G),c=X(G,"P",{class:!0});var U=E(c);o=F(U,"Value"),U.forEach(b),f=ee(G),_=X(G,"P",{class:!0});var I=E(_);h=F(I,d),v=F(I," compared to "),m=F(I,e[4]),I.forEach(b),p=ee(G),y=X(G,"P",{class:!0});var ne=E(y);g=F(ne,"Change over time for "),S=F(ne,P),ne.forEach(b),G.forEach(b),this.h()},h(){r(i,"class","baseline-anchor right-border svelte-1wnqfci"),r(n,"class","middle-anchor right-border narrow-column svelte-1wnqfci"),r(c,"class","middle-anchor right-border svelte-1wnqfci"),r(_,"class","middle-anchor right-border svelte-1wnqfci"),r(y,"class","middle-anchor svelte-1wnqfci"),r(t,"class","row-container svelte-1wnqfci"),r(t,"style",w="grid-template-columns: [line1] "+e[0]+"px [line2] "+e[1]+"px [line3] "+e[2]+"px [line4] "+e[3]/2+"px [line5] "+e[3]/2+"px [end]")},m(V,G){T(V,t,G),k(t,i),k(i,a),k(t,l),k(t,n),k(n,s),k(t,u),k(t,c),k(c,o),k(t,f),k(t,_),k(_,h),k(_,v),k(_,m),k(t,p),k(t,y),k(y,g),k(y,S)},p(V,[G]){G&16&&_e(m,V[4]),G&15&&w!==(w="grid-template-columns: [line1] "+V[0]+"px [line2] "+V[1]+"px [line3] "+V[2]+"px [line4] "+V[3]/2+"px [line5] "+V[3]/2+"px [end]")&&r(t,"style",w)},i:ae,o:ae,d(V){V&&b(t)}}}function pi(e,t,i){let a,{col1Width:l,col2Width:n,col3Width:s,col4Width:u,baselineComparisonArea:c}=t,o=se("selectedArea");return e.$$set=f=>{"col1Width"in f&&i(0,l=f.col1Width),"col2Width"in f&&i(1,n=f.col2Width),"col3Width"in f&&i(2,s=f.col3Width),"col4Width"in f&&i(3,u=f.col4Width),"baselineComparisonArea"in f&&i(6,c=f.baselineComparisonArea)},e.$$.update=()=>{e.$$.dirty&64&&i(4,a=c==="median"?"median":c.areanm==="United Kingdom"?"UK":c.areanm)},[l,n,s,u,a,o,c]}class bi extends ce{constructor(t){super(),de(this,t,pi,gi,me,{col1Width:0,col2Width:1,col3Width:2,col4Width:3,baselineComparisonArea:6})}}function vi(e){let t,i,a,l,n;return{c(){t=L("svg"),i=L("rect"),a=L("path"),l=L("text"),n=q("How to read these charts"),this.h()},l(s){t=R(s,"svg",{width:!0,height:!0,class:!0});var u=E(t);i=R(u,"rect",{width:!0,height:!0,fill:!0,opacity:!0}),E(i).forEach(b),a=R(u,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),E(a).forEach(b),l=R(u,"text",{x:!0,y:!0,"font-size":!0,stroke:!0,fill:!0,"stroke-width":!0,"text-anchor":!0});var c=E(l);n=F(c,"How to read these charts"),c.forEach(b),u.forEach(b),this.h()},h(){r(i,"width",e[0]),r(i,"height","140"),r(i,"fill","black"),r(i,"opacity","0"),r(a,"d","M 0 0 l230 0 l0 21 a10,10 0 0,1 -10,10 l-220 0 z"),r(a,"fill","#003C57"),r(a,"stroke","#003C57"),r(a,"stroke-width","2px"),r(l,"x","9"),r(l,"y","22"),r(l,"font-size","18px"),r(l,"stroke","white"),r(l,"fill","white"),r(l,"stroke-width","0.5px"),r(l,"text-anchor","start"),r(t,"width",e[0]),r(t,"height","140"),r(t,"class","svelte-ru5jog")},m(s,u){T(s,t,u),k(t,i),k(t,a),k(t,l),k(l,n)},p(s,[u]){u&1&&r(i,"width",s[0]),u&1&&r(t,"width",s[0])},i:ae,o:ae,d(s){s&&b(t)}}}function wi(e,t,i){let{width:a}=t;return e.$$set=l=>{"width"in l&&i(0,a=l.width)},[a]}class ki extends ce{constructor(t){super(),de(this,t,wi,vi,me,{width:0})}}function rt(e,t,i){const a=e.slice();return a[36]=t[i],a[38]=i,a}function st(e,t,i){const a=e.slice();return a[39]=t[i],a[41]=i,a}function yi(e){let t,i,a,l,n,s,u,c,o,f;return n=new ki({props:{width:ye+Ie}}),u=new _i({props:{width:we+e[14],scaleWidth:e[16],outerPadding:e[22]}}),{c(){t=O("div"),i=O("div"),a=O("div"),l=O("div"),K(n.$$.fragment),s=$(),K(u.$$.fragment),this.h()},l(_){t=X(_,"DIV",{});var d=E(t);i=X(d,"DIV",{class:!0});var h=E(i);a=X(h,"DIV",{class:!0,style:!0});var v=E(a);l=X(v,"DIV",{});var m=E(l);Z(n.$$.fragment,m),m.forEach(b),s=ee(v),Z(u.$$.fragment,v),v.forEach(b),h.forEach(b),d.forEach(b),this.h()},h(){r(a,"class","background-styling-container svelte-15rdjnj"),r(a,"style",c="grid-template-columns: [line1] "+(ye+Ie)+"px [line2] "+(we+e[14])+"px [end]"),r(i,"class","row-container-key-and-axis svelte-15rdjnj")},m(_,d){T(_,t,d),k(t,i),k(i,a),k(a,l),J(n,l,null),k(a,s),J(u,a,null),f=!0},p(_,d){e=_;const h={};d[0]&16384&&(h.width=we+e[14]),d[0]&65536&&(h.scaleWidth=e[16]),u.$set(h),(!f||d[0]&16384&&c!==(c="grid-template-columns: [line1] "+(ye+Ie)+"px [line2] "+(we+e[14])+"px [end]"))&&r(a,"style",c)},i(_){f||(M(n.$$.fragment,_),M(u.$$.fragment,_),Ge(()=>{f&&(o||(o=Se(t,Be,{delay:0,duration:500,easing:Ve,axis:"y"},!0)),o.run(1))}),f=!0)},o(_){j(n.$$.fragment,_),j(u.$$.fragment,_),o||(o=Se(t,Be,{delay:0,duration:500,easing:Ve,axis:"y"},!1)),o.run(0),f=!1},d(_){_&&b(t),x(n),x(u),_&&o&&o.end()}}}function Ii(e){let t,i,a,l,n,s,u,c,o,f;function _(m){e[26](m)}let d={optionsArray:e[3],name:"select-baseline-area",text:"Comparing "+e[18].areanm+" to",dropdownWidth:e[0].length>20?300:e[0].length*20};e[0]!==void 0&&(d.chosenId=e[0]),i=new qe({props:d}),fe.push(()=>ue(i,"chosenId",_));function h(m){e[27](m)}let v={optionsArray:e[4],name:"select-previous-time period",text:"Comparing most recent time period to",dropdownWidth:"250"};return e[1]!==void 0&&(v.chosenId=e[1]),n=new qe({props:v}),fe.push(()=>ue(n,"chosenId",h)),c=new bi({props:{col1Width:ye,col2Width:Ie,col3Width:we,col4Width:e[14],baselineComparisonArea:e[9]}}),{c(){t=O("div"),K(i.$$.fragment),l=$(),K(n.$$.fragment),u=$(),K(c.$$.fragment)},l(m){t=X(m,"DIV",{});var p=E(t);Z(i.$$.fragment,p),l=ee(p),Z(n.$$.fragment,p),u=ee(p),Z(c.$$.fragment,p),p.forEach(b)},m(m,p){T(m,t,p),J(i,t,null),k(t,l),J(n,t,null),k(t,u),J(c,t,null),f=!0},p(m,p){e=m;const y={};p[0]&8&&(y.optionsArray=e[3]),p[0]&1&&(y.dropdownWidth=e[0].length>20?300:e[0].length*20),!a&&p[0]&1&&(a=!0,y.chosenId=e[0],he(()=>a=!1)),i.$set(y);const g={};p[0]&16&&(g.optionsArray=e[4]),!s&&p[0]&2&&(s=!0,g.chosenId=e[1],he(()=>s=!1)),n.$set(g);const P={};p[0]&16384&&(P.col4Width=e[14]),p[0]&512&&(P.baselineComparisonArea=e[9]),c.$set(P)},i(m){f||(M(i.$$.fragment,m),M(n.$$.fragment,m),M(c.$$.fragment,m),Ge(()=>{f&&(o||(o=Se(t,Be,{delay:0,duration:500,easing:Ve,axis:"y"},!0)),o.run(1))}),f=!0)},o(m){j(i.$$.fragment,m),j(n.$$.fragment,m),j(c.$$.fragment,m),o||(o=Se(t,Be,{delay:0,duration:500,easing:Ve,axis:"y"},!1)),o.run(0),f=!1},d(m){m&&b(t),x(i),x(n),x(c),m&&o&&o.end()}}}function ot(e){let t,i,a;function l(..._){return e[29](e[39],..._)}function n(..._){return e[30](e[39],..._)}function s(..._){return e[31](e[39],..._)}function u(..._){return e[32](e[39],..._)}function c(..._){return e[33](e[39],..._)}function o(_){e[34](_)}let f={baselineComparisonArea:e[9],indicator:e[39],topicNumb:e[38],rowNumb:e[41],chosenId2:e[1],chosenIdGeneralised:e[17],metadata:e[19].find(l),calculations:e[20].find(n),latestData:e[6].filter(s),initialData:e[7].filter(u),otherData:e[8].filter(c),col1Width:ye,col2Width:Ie,col3Width:we,col4Width:e[14],visibleAreas:e[10],svgHeight:gt,svgOuterPadding:e[22],scaleHeight:e[23],scaleWidth:e[16],y:e[15]};return e[13]!==void 0&&(f.yDomainGlobal=e[13]),t=new ai({props:f}),fe.push(()=>ue(t,"yDomainGlobal",o)),{c(){K(t.$$.fragment)},l(_){Z(t.$$.fragment,_)},m(_,d){J(t,_,d),a=!0},p(_,d){e=_;const h={};d[0]&512&&(h.baselineComparisonArea=e[9]),d[0]&36&&(h.indicator=e[39]),d[0]&2&&(h.chosenId2=e[1]),d[0]&131072&&(h.chosenIdGeneralised=e[17]),d[0]&36&&(h.metadata=e[19].find(l)),d[0]&36&&(h.calculations=e[20].find(n)),d[0]&100&&(h.latestData=e[6].filter(s)),d[0]&164&&(h.initialData=e[7].filter(u)),d[0]&292&&(h.otherData=e[8].filter(c)),d[0]&16384&&(h.col4Width=e[14]),d[0]&1024&&(h.visibleAreas=e[10]),d[0]&65536&&(h.scaleWidth=e[16]),d[0]&32768&&(h.y=e[15]),!i&&d[0]&8192&&(i=!0,h.yDomainGlobal=e[13],he(()=>i=!1)),t.$set(h)},i(_){a||(M(t.$$.fragment,_),a=!0)},o(_){j(t.$$.fragment,_),a=!1},d(_){x(t,_)}}}function ft(e){let t,i=e[36][0].toUpperCase()+e[36].substring(1)+"",a,l,n,s,u;function c(...d){return e[28](e[36],...d)}let o=e[5].filter(c),f=[];for(let d=0;d<o.length;d+=1)f[d]=ot(st(e,o,d));const _=d=>j(f[d],1,1,()=>{f[d]=null});return{c(){t=O("h4"),a=q(i),n=$(),s=O("div");for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){t=X(d,"H4",{class:!0});var h=E(t);a=F(h,i),h.forEach(b),n=ee(d),s=X(d,"DIV",{class:!0});var v=E(s);for(let m=0;m<f.length;m+=1)f[m].l(v);v.forEach(b),this.h()},h(){r(t,"class",l=Pe(e[38]===0&e[17]!="digest"?"first-sub-topic-header":"other-sub-topic-header")+" svelte-15rdjnj"),r(s,"class","sub-topic-rows-container svelte-15rdjnj")},m(d,h){T(d,t,h),k(t,a),T(d,n,h),T(d,s,h);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(s,null);u=!0},p(d,h){if(e=d,(!u||h[0]&4)&&i!==(i=e[36][0].toUpperCase()+e[36].substring(1)+"")&&_e(a,i),(!u||h[0]&131072&&l!==(l=Pe(e[38]===0&e[17]!="digest"?"first-sub-topic-header":"other-sub-topic-header")+" svelte-15rdjnj"))&&r(t,"class",l),h[0]&14411750){o=e[5].filter(c);let v;for(v=0;v<o.length;v+=1){const m=st(e,o,v);f[v]?(f[v].p(m,h),M(f[v],1)):(f[v]=ot(m),f[v].c(),M(f[v],1),f[v].m(s,null))}for(Ae(),v=o.length;v<f.length;v+=1)_(v);Ce()}},i(d){if(!u){for(let h=0;h<o.length;h+=1)M(f[h]);u=!0}},o(d){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)j(f[h]);u=!1},d(d){d&&b(t),d&&b(n),d&&b(s),pe(f,d)}}}function Di(e){let t,i,a,l,n,s,u,c,o,f,_,d;function h(w){e[25](w)}let v={asButtons:!0,name:"selectMapOption",optionsArray:e[21]};e[11]!==void 0&&(v.chosenId=e[11]),t=new Vt({props:v}),fe.push(()=>ue(t,"chosenId",h));const m=[Ii,yi],p=[];function y(w,V){return w[17]==="digest"?0:1}s=y(e),u=p[s]=m[s](e);let g=e[2].subTopicsList,P=[];for(let w=0;w<g.length;w+=1)P[w]=ft(rt(e,g,w));const S=w=>j(P[w],1,1,()=>{P[w]=null});return f=new li({}),{c(){K(t.$$.fragment),a=$(),l=O("div"),n=O("div"),u.c(),c=$();for(let w=0;w<P.length;w+=1)P[w].c();o=$(),K(f.$$.fragment),this.h()},l(w){Z(t.$$.fragment,w),a=ee(w),l=X(w,"DIV",{class:!0});var V=E(l);n=X(V,"DIV",{class:!0});var G=E(n);u.l(G),G.forEach(b),c=ee(V);for(let D=0;D<P.length;D+=1)P[D].l(V);o=ee(V),Z(f.$$.fragment,V),V.forEach(b),this.h()},h(){r(n,"class","options-and-keys-container svelte-15rdjnj"),r(l,"class","digest-beeswarm-container svelte-15rdjnj"),Ge(()=>e[35].call(l))},m(w,V){J(t,w,V),T(w,a,V),T(w,l,V),k(l,n),p[s].m(n,null),k(l,c);for(let G=0;G<P.length;G+=1)P[G]&&P[G].m(l,null);k(l,o),J(f,l,null),_=ct(l,e[35].bind(l)),d=!0},p(w,V){const G={};!i&&V[0]&2048&&(i=!0,G.chosenId=w[11],he(()=>i=!1)),t.$set(G);let D=s;if(s=y(w),s===D?p[s].p(w,V):(Ae(),j(p[D],1,1,()=>{p[D]=null}),Ce(),u=p[s],u?u.p(w,V):(u=p[s]=m[s](w),u.c()),M(u,1),u.m(n,null)),V[0]&14411750){g=w[2].subTopicsList;let W;for(W=0;W<g.length;W+=1){const U=rt(w,g,W);P[W]?(P[W].p(U,V),M(P[W],1)):(P[W]=ft(U),P[W].c(),M(P[W],1),P[W].m(l,o))}for(Ae(),W=g.length;W<P.length;W+=1)S(W);Ce()}},i(w){if(!d){M(t.$$.fragment,w),M(u);for(let V=0;V<g.length;V+=1)M(P[V]);M(f.$$.fragment,w),d=!0}},o(w){j(t.$$.fragment,w),j(u),P=P.filter(Boolean);for(let V=0;V<P.length;V+=1)j(P[V]);j(f.$$.fragment,w),d=!1},d(w){x(t,w),w&&b(a),w&&b(l),p[s].d(),pe(P,w),x(f),_()}}}let ye=180,Ie=65,we=100,gt=100;function Ai(e,t,i){let a,l,n,s,{topic:u,topicUppercase:c,chosenId1:o,baselineComparisonOptions:f,chosenId2:_,previousTimePeriodOptions:d,indicators:h,latestData:v,initialData:m,otherData:p,baselineComparisonArea:y,visibleAreas:g}=t,P=se("selectedArea"),S=se("indicatorsMetadata"),w=se("indicatorsCalculations"),V=0,G=[c+" digest","Compare "+P.areanm+" to other areas"],D=1e3,W={top:0,left:5,right:15,bottom:0,spaceBeyondXScale:40},U=gt-W.bottom-W.top,I=[-1,1];function ne(z){V=z,i(11,V)}function Y(z){o=z,i(0,o)}function H(z){_=z,i(1,_)}const te=(z,oe)=>oe.subTopic===z,ke=(z,oe)=>oe.code===z.code,ge=(z,oe)=>oe.id===z.id,C=(z,oe)=>oe.id===z.id,Q=(z,oe)=>oe.id===z.id,A=(z,oe)=>oe.id===z.id;function re(z){I=z,i(13,I)}function be(){D=this.offsetWidth,i(12,D)}return e.$$set=z=>{"topic"in z&&i(2,u=z.topic),"topicUppercase"in z&&i(24,c=z.topicUppercase),"chosenId1"in z&&i(0,o=z.chosenId1),"baselineComparisonOptions"in z&&i(3,f=z.baselineComparisonOptions),"chosenId2"in z&&i(1,_=z.chosenId2),"previousTimePeriodOptions"in z&&i(4,d=z.previousTimePeriodOptions),"indicators"in z&&i(5,h=z.indicators),"latestData"in z&&i(6,v=z.latestData),"initialData"in z&&i(7,m=z.initialData),"otherData"in z&&i(8,p=z.otherData),"baselineComparisonArea"in z&&i(9,y=z.baselineComparisonArea),"visibleAreas"in z&&i(10,g=z.visibleAreas)},e.$$.update=()=>{e.$$.dirty[0]&16779264&&i(17,a=G[V].replace(c+" ","").replace(P.areanm+" ","")),e.$$.dirty[0]&4096&&i(14,l=D-ye-Ie-we-25),e.$$.dirty[0]&16384&&i(16,n=we+l-W.left-W.right-W.spaceBeyondXScale*2),e.$$.dirty[0]&8192&&i(15,s=mt().domain(I).range([0,U]))},[o,_,u,f,d,h,v,m,p,y,g,V,D,I,l,s,n,a,P,S,w,G,W,U,c,ne,Y,H,te,ke,ge,C,Q,A,re,be]}class Ci extends ce{constructor(t){super(),de(this,t,Ai,Di,me,{topic:2,topicUppercase:24,chosenId1:0,baselineComparisonOptions:3,chosenId2:1,previousTimePeriodOptions:4,indicators:5,latestData:6,initialData:7,otherData:8,baselineComparisonArea:9,visibleAreas:10},null,[-1,-1])}}function Ei(e){let t,i,a,l,n,s,u,c,o,f,_;s=new Lt({props:{topic:e[2]}});function d(m){e[13](m)}function h(m){e[14](m)}let v={baselineComparisonArea:e[9],topic:e[2],topicUppercase:e[11],baselineComparisonOptions:e[7],previousTimePeriodOptions:e[8],indicators:e[10],latestData:e[3],initialData:e[5],otherData:e[4],visibleAreas:e[6]};return e[0]!==void 0&&(v.chosenId1=e[0]),e[1]!==void 0&&(v.chosenId2=e[1]),c=new Ci({props:v}),fe.push(()=>ue(c,"chosenId1",d)),fe.push(()=>ue(c,"chosenId2",h)),{c(){t=O("section"),i=O("h1"),a=O("a"),l=q(e[11]),n=$(),K(s.$$.fragment),u=$(),K(c.$$.fragment),this.h()},l(m){t=X(m,"SECTION",{title:!0,class:!0});var p=E(t);i=X(p,"H1",{});var y=E(i);a=X(y,"A",{href:!0});var g=E(a);l=F(g,e[11]),g.forEach(b),y.forEach(b),n=ee(p),Z(s.$$.fragment,p),u=ee(p),Z(c.$$.fragment,p),p.forEach(b),this.h()},h(){r(a,"href","https://www.ons.gov.uk/"),r(t,"title",e[11]),r(t,"class","svelte-yd7y")},m(m,p){T(m,t,p),k(t,i),k(i,a),k(a,l),k(t,n),J(s,t,null),k(t,u),J(c,t,null),_=!0},p(m,[p]){const y={};p&4&&(y.topic=m[2]),s.$set(y);const g={};p&512&&(g.baselineComparisonArea=m[9]),p&4&&(g.topic=m[2]),p&128&&(g.baselineComparisonOptions=m[7]),p&256&&(g.previousTimePeriodOptions=m[8]),p&8&&(g.latestData=m[3]),p&32&&(g.initialData=m[5]),p&16&&(g.otherData=m[4]),p&64&&(g.visibleAreas=m[6]),!o&&p&1&&(o=!0,g.chosenId1=m[0],he(()=>o=!1)),!f&&p&2&&(f=!0,g.chosenId2=m[1],he(()=>f=!1)),c.$set(g)},i(m){_||(M(s.$$.fragment,m),M(c.$$.fragment,m),_=!0)},o(m){j(s.$$.fragment,m),j(c.$$.fragment,m),_=!1},d(m){m&&b(t),x(s),x(c)}}}function Wi(e,t,i){let{topic:a,latestData:l,otherData:n,initialData:s,visibleAreas:u,globalVisibleAreasTracker:c,chosenId1:o,baselineComparisonOptions:f,chosenId2:_,previousTimePeriodOptions:d,baselineComparisonArea:h}=t,v=se("indicators").filter(g=>g.topic===a.name),m=a.name[0].toUpperCase()+a.name.substring(1);function p(g){o=g,i(0,o)}function y(g){_=g,i(1,_)}return e.$$set=g=>{"topic"in g&&i(2,a=g.topic),"latestData"in g&&i(3,l=g.latestData),"otherData"in g&&i(4,n=g.otherData),"initialData"in g&&i(5,s=g.initialData),"visibleAreas"in g&&i(6,u=g.visibleAreas),"globalVisibleAreasTracker"in g&&i(12,c=g.globalVisibleAreasTracker),"chosenId1"in g&&i(0,o=g.chosenId1),"baselineComparisonOptions"in g&&i(7,f=g.baselineComparisonOptions),"chosenId2"in g&&i(1,_=g.chosenId2),"previousTimePeriodOptions"in g&&i(8,d=g.previousTimePeriodOptions),"baselineComparisonArea"in g&&i(9,h=g.baselineComparisonArea)},[o,_,a,l,n,s,u,f,d,h,v,m,c,p,y]}class Pi extends ce{constructor(t){super(),de(this,t,Wi,Ei,me,{topic:2,latestData:3,otherData:4,initialData:5,visibleAreas:6,globalVisibleAreasTracker:12,chosenId1:0,baselineComparisonOptions:7,chosenId2:1,previousTimePeriodOptions:8,baselineComparisonArea:9})}}function ut(e,t,i){const a=e.slice();return a[27]=t[i],a[29]=i,a}function Si(e){let t=e[11].areanm+"",i;return{c(){i=q(t)},l(a){i=F(a,t)},m(a,l){T(a,i,l)},p:ae,d(a){a&&b(i)}}}function Vi(e){let t,i=e[11].areanm+"",a;return{c(){t=q("Get localised data, insights and trends for "),a=q(i)},l(l){t=F(l,"Get localised data, insights and trends for "),a=F(l,i)},m(l,n){T(l,t,n),T(l,a,n)},p:ae,d(l){l&&b(t),l&&b(a)}}}function Bi(e){let t,i,a,l;return t=new Dt({props:{$$slots:{default:[Si]},$$scope:{ctx:e}}}),a=new At({props:{$$slots:{default:[Vi]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment),i=$(),K(a.$$.fragment)},l(n){Z(t.$$.fragment,n),i=ee(n),Z(a.$$.fragment,n)},m(n,s){J(t,n,s),T(n,i,s),J(a,n,s),l=!0},p(n,s){const u={};s&1073741824&&(u.$$scope={dirty:s,ctx:n}),t.$set(u);const c={};s&1073741824&&(c.$$scope={dirty:s,ctx:n}),a.$set(c)},i(n){l||(M(t.$$.fragment,n),M(a.$$.fragment,n),l=!0)},o(n){j(t.$$.fragment,n),j(a.$$.fragment,n),l=!1},d(n){x(t,n),n&&b(i),x(a,n)}}}function ht(e){let t,i,a,l,n;function s(...h){return e[13](e[27],...h)}function u(...h){return e[14](e[27],...h)}function c(...h){return e[15](e[27],...h)}function o(h){e[16](h)}function f(h){e[17](h)}function _(h){e[18](h)}let d={baselineComparisonArea:e[4],topic:e[27],latestData:e[6].filter(s),otherData:e[7].filter(u),initialData:e[8].filter(c),visibleAreas:e[2],baselineComparisonOptions:e[9],previousTimePeriodOptions:e[10]};return e[0]!==void 0&&(d.globalVisibleAreasTracker=e[0]),e[1]!==void 0&&(d.chosenId1=e[1]),e[3]!==void 0&&(d.chosenId2=e[3]),t=new Pi({props:d}),fe.push(()=>ue(t,"globalVisibleAreasTracker",o)),fe.push(()=>ue(t,"chosenId1",f)),fe.push(()=>ue(t,"chosenId2",_)),{c(){K(t.$$.fragment)},l(h){Z(t.$$.fragment,h)},m(h,v){J(t,h,v),n=!0},p(h,v){e=h;const m={};v&16&&(m.baselineComparisonArea=e[4]),v&4&&(m.visibleAreas=e[2]),!i&&v&1&&(i=!0,m.globalVisibleAreasTracker=e[0],he(()=>i=!1)),!a&&v&2&&(a=!0,m.chosenId1=e[1],he(()=>a=!1)),!l&&v&8&&(l=!0,m.chosenId2=e[3],he(()=>l=!1)),t.$set(m)},i(h){n||(M(t.$$.fragment,h),n=!0)},o(h){j(t.$$.fragment,h),n=!1},d(h){x(t,h)}}}function Gi(e){let t;return{c(){t=q("Find parent, child and neighbouring areas")},l(i){t=F(i,"Find parent, child and neighbouring areas")},m(i,a){T(i,t,a)},d(i){i&&b(t)}}}function Ti(e){let t,i,a,l,n,s,u,c,o,f,_,d=e[5],h=[];for(let m=0;m<d.length;m+=1)h[m]=ht(ut(e,d,m));const v=m=>j(h[m],1,1,()=>{h[m]=null});return a=new Gt({props:{$$slots:{default:[Gi]},$$scope:{ctx:e}}}),{c(){for(let m=0;m<h.length;m+=1)h[m].c();t=$(),i=O("section"),K(a.$$.fragment),l=$(),n=O("section"),s=O("h2"),u=q("Get the data"),c=$(),o=O("p"),f=q("Here, you can find information and links to the data."),this.h()},l(m){for(let S=0;S<h.length;S+=1)h[S].l(m);t=ee(m),i=X(m,"SECTION",{title:!0,class:!0});var p=E(i);Z(a.$$.fragment,p),p.forEach(b),l=ee(m),n=X(m,"SECTION",{title:!0,class:!0});var y=E(n);s=X(y,"H2",{class:!0});var g=E(s);u=F(g,"Get the data"),g.forEach(b),c=ee(y),o=X(y,"P",{});var P=E(o);f=F(P,"Here, you can find information and links to the data."),P.forEach(b),y.forEach(b),this.h()},h(){r(i,"title","Related areas"),r(i,"class","svelte-r2srs5"),r(s,"class","ons-u-mt-xl"),r(n,"title","Get the data"),r(n,"class","svelte-r2srs5")},m(m,p){for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(m,p);T(m,t,p),T(m,i,p),J(a,i,null),T(m,l,p),T(m,n,p),k(n,s),k(s,u),k(n,c),k(n,o),k(o,f),_=!0},p(m,p){if(p&2047){d=m[5];let g;for(g=0;g<d.length;g+=1){const P=ut(m,d,g);h[g]?(h[g].p(P,p),M(h[g],1)):(h[g]=ht(P),h[g].c(),M(h[g],1),h[g].m(t.parentNode,t))}for(Ae(),g=d.length;g<h.length;g+=1)v(g);Ce()}const y={};p&1073741824&&(y.$$scope={dirty:p,ctx:m}),a.$set(y)},i(m){if(!_){for(let p=0;p<d.length;p+=1)M(h[p]);M(a.$$.fragment,m),_=!0}},o(m){h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)j(h[p]);j(a.$$.fragment,m),_=!1},d(m){pe(h,m),m&&b(t),m&&b(i),x(a),m&&b(l),m&&b(n)}}}function Hi(e){let t,i,a,l;return t=new It({props:{breadcrumb:[{label:"Home",url:"/"},{label:"Explore subnational statistics",url:`${Le}/`},{label:"Find a local area",url:`${Le}/areas`},{label:e[11].areanm}],$$slots:{default:[Bi]},$$scope:{ctx:e}}}),a=new Bt({props:{contentsLabel:"Explore this area",$$slots:{default:[Ti]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment),i=$(),K(a.$$.fragment)},l(n){Z(t.$$.fragment,n),i=ee(n),Z(a.$$.fragment,n)},m(n,s){J(t,n,s),T(n,i,s),J(a,n,s),l=!0},p(n,[s]){const u={};s&1073741824&&(u.$$scope={dirty:s,ctx:n}),t.$set(u);const c={};s&1073741855&&(c.$$scope={dirty:s,ctx:n}),a.$set(c)},i(n){l||(M(t.$$.fragment,n),M(a.$$.fragment,n),l=!0)},o(n){j(t.$$.fragment,n),j(a.$$.fragment,n),l=!1},d(n){x(t,n),n&&b(i),x(a,n)}}}function zi(e,t,i){let a,l,n,s,u,{data:c}=t,o=se("areas"),f=se("areasParentsLookup"),_=se("areasGeogLevel"),d=se("topics"),h=se("latestData"),v=se("otherData"),m=se("initialData"),p=_.find(H=>H.areacd===c.areacd).level,y=_.filter(H=>["uk","country"].includes(p)?H.level===p:p==="region"?["region","country"].includes(H.level):p==="both"?["both","lower"].includes(H.level):["both",p].includes(H.level)).map(H=>H.areacd);ze("selectedGeogLevel",p),ze("areasWithSameGeog",y);let g=["median of all "+_t[p]],P=["earliest available year","previous year","5 years earlier","10 years earlier"],S=[],w=o.find(H=>H.areacd===c.areacd);ze("selectedArea",w),S.push({...w,role:"main"});let V=f.find(H=>H.areacd===c.areacd),G=o.find(H=>H.areacd===V.parentcd);S.push({...G,role:"parent"}),g.push(G.areanm),V.parentcd!=V.countrycd&V.countrycd!=""&&(S.push({...o.find(H=>H.areacd===V.countrycd),role:"country"}),g.push(V.countrynm)),V.parentcd!="K02000001"&&(S.push({...o.find(H=>H.areacd===V.countrycd),role:"uk"}),g.push("United Kingdom"));const D=(H,te)=>H.indicatorsList.includes(te.id),W=(H,te)=>H.indicatorsList.includes(te.id),U=(H,te)=>H.indicatorsList.includes(te.id);function I(H){s=H,i(0,s)}function ne(H){a=H,i(1,a),i(9,g)}function Y(H){n=H,i(3,n),i(10,P)}return e.$$set=H=>{"data"in H&&i(12,c=H.data)},e.$$.update=()=>{e.$$.dirty&2&&i(4,l=a.substring(0,6)==="median"?"median":o.find(H=>H.areanm===a)),e.$$.dirty&2&&console.log(a),e.$$.dirty&1&&i(2,u=[...S.filter(H=>s[H.role]),...s.custom==null?[]:s.custom.map((H,te)=>({...H,role:"custom"+(te+1)}))])},i(1,a=g[0]),i(3,n=P[0]),i(0,s={main:!0,parent:!1,country:!1,uk:!1,neighbour:!1,cluster:!1,custom:null}),[s,a,u,n,l,d,h,v,m,g,P,w,c,D,W,U,I,ne,Y]}class Ui extends ce{constructor(t){super(),de(this,t,zi,Hi,me,{data:12})}}export{Ui as component};
