//js
import{S as de,i as _e,s as me,F as W,a as te,e as ne,q as be,G as L,m as I,h as b,c as re,r as ve,n as c,b as N,H as R,X as ze,u as pe,L as oe,C as Pe,Y as Fe,O as Me,R as dt,k as j,l as K,Z as _t,_ as Dt,g as w,v as ce,f as he,d as M,Q as Ae,w as ie,$ as le,y as Q,z as J,A as x,a0 as ae,B as $,p as Ve,a1 as Bn,a2 as ni,a3 as Pt,a4 as ii,N as Ee,W as li,E as On,I as Sn,J as Vn,K as Fn,a5 as Tt,o as Hn}from"../chunks/index.1452ad3d.js";import{b as it}from"../chunks/paths.15fe8f0b.js";import"../chunks/Table.svelte_svelte_type_style_lang.a6c63894.js";import{B as ai,T as oi,S as si}from"../chunks/Subhead.0a304933.js";import{N as vt,a as fi}from"../chunks/NavSections.ecf0a3e4.js";import"../chunks/index.6ae84391.js";import{A as ui}from"../chunks/AreaNav.d860e089.js";import{c as ue,m as ci}from"../chunks/config.d5314ff0.js";import{a as We,r as Qe,h as hi,s as zn,c as di}from"../chunks/utils.7014043e.js";import{f as _i,e as xe,a as mi}from"../chunks/functions.97df77cc.js";var lt,qn,Gn;gi({thousands:",",grouping:[3],currency:["$",""]});function gi(r){return lt=_i(r),qn=lt.format,Gn=lt.formatPrefix,lt}function bi(r){return Math.max(0,-xe(Math.abs(r)))}function vi(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xe(e)/3)))*3-xe(Math.abs(r)))}function Ai(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,xe(e)-xe(r))+1}function st(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function pi(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Zn(r){let e,t,n;r.length!==2?(e=st,t=(o,s)=>st(r(o),s),n=(o,s)=>r(o)-s):(e=r===st||r===pi?r:yi,t=r,n=r);function i(o,s,f=0,u=o.length){if(f<u){if(e(s,s)!==0)return u;do{const h=f+u>>>1;t(o[h],s)<0?f=h+1:u=h}while(f<u)}return f}function a(o,s,f=0,u=o.length){if(f<u){if(e(s,s)!==0)return u;do{const h=f+u>>>1;t(o[h],s)<=0?f=h+1:u=h}while(f<u)}return f}function l(o,s,f=0,u=o.length){const h=i(o,s,f,u-1);return h>f&&n(o[h-1],s)>-n(o[h],s)?h-1:h}return{left:i,center:l,right:a}}function yi(){return 0}function ki(r){return r===null?NaN:+r}const wi=Zn(st),Ii=wi.right;Zn(ki).center;const Ri=Ii,Di=Math.sqrt(50),Ci=Math.sqrt(10),Ei=Math.sqrt(2);function ft(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=Di?10:a>=Ci?5:a>=Ei?2:1;let o,s,f;return i<0?(f=Math.pow(10,-i)/l,o=Math.round(r*f),s=Math.round(e*f),o/f<r&&++o,s/f>e&&--s,f=-f):(f=Math.pow(10,i)*l,o=Math.round(r/f),s=Math.round(e/f),o*f<r&&++o,s*f>e&&--s),s<o&&.5<=t&&t<2?ft(r,e,t*2):[o,s,f]}function Mi(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,a,l]=n?ft(e,r,t):ft(r,e,t);if(!(a>=i))return[];const o=a-i+1,s=new Array(o);if(n)if(l<0)for(let f=0;f<o;++f)s[f]=(a-f)/-l;else for(let f=0;f<o;++f)s[f]=(a-f)*l;else if(l<0)for(let f=0;f<o;++f)s[f]=(i+f)/-l;else for(let f=0;f<o;++f)s[f]=(i+f)*l;return s}function At(r,e,t){return e=+e,r=+r,t=+t,ft(r,e,t)[2]}function Ni(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?At(e,r,t):At(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function Pi(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function Ct(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function Yn(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function rt(){}var $e=.7,ut=1/$e,Ue="\\s*([+-]?\\d+)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ti=/^#([0-9a-f]{3,8})$/,Wi=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),Li=new RegExp(`^rgb\\(${Se},${Se},${Se}\\)$`),Bi=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${et}\\)$`),Oi=new RegExp(`^rgba\\(${Se},${Se},${Se},${et}\\)$`),Si=new RegExp(`^hsl\\(${et},${Se},${Se}\\)$`),Vi=new RegExp(`^hsla\\(${et},${Se},${Se},${et}\\)$`),Wt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ct(rt,tt,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Lt,formatHex:Lt,formatHex8:Fi,formatHsl:Hi,formatRgb:Bt,toString:Bt});function Lt(){return this.rgb().formatHex()}function Fi(){return this.rgb().formatHex8()}function Hi(){return jn(this).formatHsl()}function Bt(){return this.rgb().formatRgb()}function tt(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Ti.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?Ot(e):t===3?new Te(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?at(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?at(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wi.exec(r))?new Te(e[1],e[2],e[3],1):(e=Li.exec(r))?new Te(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bi.exec(r))?at(e[1],e[2],e[3],e[4]):(e=Oi.exec(r))?at(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Si.exec(r))?Ft(e[1],e[2]/100,e[3]/100,1):(e=Vi.exec(r))?Ft(e[1],e[2]/100,e[3]/100,e[4]):Wt.hasOwnProperty(r)?Ot(Wt[r]):r==="transparent"?new Te(NaN,NaN,NaN,0):null}function Ot(r){return new Te(r>>16&255,r>>8&255,r&255,1)}function at(r,e,t,n){return n<=0&&(r=e=t=NaN),new Te(r,e,t,n)}function zi(r){return r instanceof rt||(r=tt(r)),r?(r=r.rgb(),new Te(r.r,r.g,r.b,r.opacity)):new Te}function pt(r,e,t,n){return arguments.length===1?zi(r):new Te(r,e,t,n??1)}function Te(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}Ct(Te,pt,Yn(rt,{brighter(r){return r=r==null?ut:Math.pow(ut,r),new Te(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?$e:Math.pow($e,r),new Te(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Te(Ze(this.r),Ze(this.g),Ze(this.b),ct(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:St,formatHex:St,formatHex8:qi,formatRgb:Vt,toString:Vt}));function St(){return`#${Ge(this.r)}${Ge(this.g)}${Ge(this.b)}`}function qi(){return`#${Ge(this.r)}${Ge(this.g)}${Ge(this.b)}${Ge((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vt(){const r=ct(this.opacity);return`${r===1?"rgb(":"rgba("}${Ze(this.r)}, ${Ze(this.g)}, ${Ze(this.b)}${r===1?")":`, ${r})`}`}function ct(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Ze(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Ge(r){return r=Ze(r),(r<16?"0":"")+r.toString(16)}function Ft(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Be(r,e,t,n)}function jn(r){if(r instanceof Be)return new Be(r.h,r.s,r.l,r.opacity);if(r instanceof rt||(r=tt(r)),!r)return new Be;if(r instanceof Be)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),a=Math.max(e,t,n),l=NaN,o=a-i,s=(a+i)/2;return o?(e===a?l=(t-n)/o+(t<n)*6:t===a?l=(n-e)/o+2:l=(e-t)/o+4,o/=s<.5?a+i:2-a-i,l*=60):o=s>0&&s<1?0:l,new Be(l,o,s,r.opacity)}function Gi(r,e,t,n){return arguments.length===1?jn(r):new Be(r,e,t,n??1)}function Be(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}Ct(Be,Gi,Yn(rt,{brighter(r){return r=r==null?ut:Math.pow(ut,r),new Be(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?$e:Math.pow($e,r),new Be(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new Te(gt(r>=240?r-240:r+120,i,n),gt(r,i,n),gt(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new Be(Ht(this.h),ot(this.s),ot(this.l),ct(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=ct(this.opacity);return`${r===1?"hsl(":"hsla("}${Ht(this.h)}, ${ot(this.s)*100}%, ${ot(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Ht(r){return r=(r||0)%360,r<0?r+360:r}function ot(r){return Math.max(0,Math.min(1,r||0))}function gt(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const Et=r=>()=>r;function Zi(r,e){return function(t){return r+t*e}}function Yi(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function ji(r){return(r=+r)==1?Kn:function(e,t){return t-e?Yi(e,t,r):Et(isNaN(e)?t:e)}}function Kn(r,e){var t=e-r;return t?Zi(r,t):Et(isNaN(r)?e:r)}const zt=function r(e){var t=ji(e);function n(i,a){var l=t((i=pt(i)).r,(a=pt(a)).r),o=t(i.g,a.g),s=t(i.b,a.b),f=Kn(i.opacity,a.opacity);return function(u){return i.r=l(u),i.g=o(u),i.b=s(u),i.opacity=f(u),i+""}}return n.gamma=r,n}(1);function Ki(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(a){for(i=0;i<t;++i)n[i]=r[i]*(1-a)+e[i]*a;return n}}function Xi(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Ui(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),a=new Array(t),l;for(l=0;l<n;++l)i[l]=Mt(r[l],e[l]);for(;l<t;++l)a[l]=e[l];return function(o){for(l=0;l<n;++l)a[l]=i[l](o);return a}}function Qi(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function ht(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function Ji(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=Mt(r[i],e[i]):n[i]=e[i];return function(a){for(i in t)n[i]=t[i](a);return n}}var yt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bt=new RegExp(yt.source,"g");function xi(r){return function(){return r}}function $i(r){return function(e){return r(e)+""}}function el(r,e){var t=yt.lastIndex=bt.lastIndex=0,n,i,a,l=-1,o=[],s=[];for(r=r+"",e=e+"";(n=yt.exec(r))&&(i=bt.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),o[l]?o[l]+=a:o[++l]=a),(n=n[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,s.push({i:l,x:ht(n,i)})),t=bt.lastIndex;return t<e.length&&(a=e.slice(t),o[l]?o[l]+=a:o[++l]=a),o.length<2?s[0]?$i(s[0].x):xi(e):(e=s.length,function(f){for(var u=0,h;u<e;++u)o[(h=s[u]).i]=h.x(f);return o.join("")})}function Mt(r,e){var t=typeof e,n;return e==null||t==="boolean"?Et(e):(t==="number"?ht:t==="string"?(n=tt(e))?(e=n,zt):el:e instanceof tt?zt:e instanceof Date?Qi:Xi(e)?Ki:Array.isArray(e)?Ui:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ji:ht)(r,e)}function tl(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function rl(r){return function(){return r}}function nl(r){return+r}var qt=[0,1];function Xe(r){return r}function kt(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:rl(isNaN(e)?NaN:.5)}function il(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function ll(r,e,t){var n=r[0],i=r[1],a=e[0],l=e[1];return i<n?(n=kt(i,n),a=t(l,a)):(n=kt(n,i),a=t(a,l)),function(o){return a(n(o))}}function al(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),a=new Array(n),l=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=kt(r[l],r[l+1]),a[l]=t(e[l],e[l+1]);return function(o){var s=Ri(r,o,1,n)-1;return a[s](i[s](o))}}function ol(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function sl(){var r=qt,e=qt,t=Mt,n,i,a,l=Xe,o,s,f;function u(){var _=Math.min(r.length,e.length);return l!==Xe&&(l=il(r[0],r[_-1])),o=_>2?al:ll,s=f=null,h}function h(_){return _==null||isNaN(_=+_)?a:(s||(s=o(r.map(n),e,t)))(n(l(_)))}return h.invert=function(_){return l(i((f||(f=o(e,r.map(n),ht)))(_)))},h.domain=function(_){return arguments.length?(r=Array.from(_,nl),u()):r.slice()},h.range=function(_){return arguments.length?(e=Array.from(_),u()):e.slice()},h.rangeRound=function(_){return e=Array.from(_),t=tl,u()},h.clamp=function(_){return arguments.length?(l=_?!0:Xe,u()):l!==Xe},h.interpolate=function(_){return arguments.length?(t=_,u()):t},h.unknown=function(_){return arguments.length?(a=_,h):a},function(_,d){return n=_,i=d,u()}}function fl(){return sl()(Xe,Xe)}function ul(r,e,t,n){var i=Ni(r,e,t),a;switch(n=mi(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(a=vi(i,l))&&(n.precision=a),Gn(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ai(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=bi(i))&&(n.precision=a-(n.type==="%")*2);break}}return qn(n)}function cl(r){var e=r.domain;return r.ticks=function(t){var n=e();return Mi(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return ul(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,a=n.length-1,l=n[i],o=n[a],s,f,u=10;for(o<l&&(f=l,l=o,o=f,f=i,i=a,a=f);u-- >0;){if(f=At(l,o,t),f===s)return n[i]=l,n[a]=o,e(n);if(f>0)l=Math.floor(l/f)*f,o=Math.ceil(o/f)*f;else if(f<0)l=Math.ceil(l*f)/f,o=Math.floor(o*f)/f;else break;s=f}return r},r}function Ye(){var r=fl();return r.copy=function(){return ol(r,Ye())},Pi.apply(r,arguments),cl(r)}class wt{constructor(e,t,n){this.items=e,this.diameter=t*2,this.diameterSq=this.diameter*this.diameter,this.xFun=n,this.tieBreakFn=i=>i,this._oneSided=!1}withTiesBrokenRandomly(){return this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this}oneSided(){return this._oneSided=!0,this}calculateYPositions(){let e=this.items.map((i,a)=>({datum:i,originalIndex:a,x:this.xFun(i),y:null,placed:!1,minPositiveY:0,maxNegativeY:0,score:0,bestPosition:0,heapPos:-1})).sort((i,a)=>i.x-a.x);e.forEach(function(i,a){i.index=a});let t=this.tieBreakFn;e.forEach(function(i){i.tieBreaker=t(i.x)});let n=new hl;for(n.push(...e);!n.isEmpty();){let i=n.pop();i.placed=!0,i.y=i.bestPosition,this._updateYBounds(i,e,n)}return e.sort((i,a)=>i.originalIndex-a.originalIndex),e.map(i=>({datum:i.datum,x:i.x,y:i.y}))}_sfc32(e,t,n,i){let a=function(){e>>>=0,t>>>=0,n>>>=0,i>>>=0;var l=e+t|0;return e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,i=i+1|0,l=l+i|0,n=n+l|0,(l>>>0)/4294967296};for(let l=0;l<10;l++)a();return a}_updateYBounds(e,t,n){for(let i of[-1,1]){let a;for(let l=e.index+i;l>=0&&l<t.length&&(a=Math.abs(e.x-t[l].x))<this.diameter;l+=i){let o=t[l];if(o.placed)continue;let s=Math.sqrt(this.diameterSq-a*a);o.minPositiveY=Math.max(o.minPositiveY,e.y+s);let f=o.score;o.score=o.minPositiveY,o.bestPosition=o.minPositiveY,this._oneSided||(o.maxNegativeY=Math.min(o.maxNegativeY,e.y-s),-o.maxNegativeY<o.score&&(o.score=-o.maxNegativeY,o.bestPosition=o.maxNegativeY)),o.score>f&&n.deprioritise(o)}}}}class hl{parent(e){return(e+1>>>1)-1}left(e){return(e<<1)+1}right(e){return e+1<<1}constructor(){this.TOP=0,this._heap=[]}size(){return this._heap.length}isEmpty(){return this.size()==0}peek(){return this._heap[this.TOP]}push(...e){return e.forEach(t=>{t.heapPos=this.size(),this._heap.push(t),this._siftUp()}),this.size()}pop(){const e=this.peek(),t=this.size()-1;return t>this.TOP&&this._swap(this.TOP,t),this._heap.pop(),this._siftDown(),e}deprioritise(e){this._siftDown(e.heapPos)}_greater(e,t){let n=this._heap[e],i=this._heap[t];return n.score<i.score?!0:n.score>i.score?!1:n.tieBreaker<i.tieBreaker}_swap(e,t){let n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n,this._heap[e].heapPos=e,this._heap[t].heapPos=t}_siftUp(){let e=this.size()-1;for(;e>this.TOP&&this._greater(e,this.parent(e));)this._swap(e,this.parent(e)),e=this.parent(e)}_siftDown(e=this.TOP){let t,n,i=this.size();for(;t=this.left(e),n=this.right(e),t<i&&this._greater(t,e)||n<i&&this._greater(n,e);){let a=n<i&&this._greater(n,t)?n:t;this._swap(e,a),e=a}}}function Gt(r){let e,t,n=r[6].find(r[7]).areanm+"",i,a,l=r[4]&&Zt(r);return{c(){l&&l.c(),e=W("g"),t=W("text"),i=be(n),this.h()},l(o){l&&l.l(o),e=L(o,"g",{});var s=I(e);t=L(s,"text",{y:!0,x:!0,"text-anchor":!0,fill:!0,"pointer-events":!0});var f=I(t);i=ve(f,n),f.forEach(b),s.forEach(b),this.h()},h(){c(t,"y","25"),c(t,"x","-15"),c(t,"text-anchor","end"),c(t,"fill",ue.selected.contrast),c(t,"pointer-events","none")},m(o,s){l&&l.m(o,s),N(o,e,s),R(e,t),R(t,i),a=ze.observe(e,r[8].bind(e))},p(o,s){o[4]?l?l.p(o,s):(l=Zt(o),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s&1&&n!==(n=o[6].find(o[7]).areanm+"")&&pe(i,n)},d(o){l&&l.d(o),o&&b(e),a()}}}function Zt(r){let e,t,n,i,a;return{c(){e=W("rect"),this.h()},l(l){e=L(l,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,"pointer-events":!0,fill:!0}),I(e).forEach(b),this.h()},h(){c(e,"x",t=-17-r[4].width),c(e,"width",n=r[4].width+6),c(e,"y",i=r[4].y+7),c(e,"height",a=r[4].height),c(e,"rx","2px"),c(e,"stroke","none"),c(e,"pointer-events","none"),c(e,"fill",ue.selected.color)},m(l,o){N(l,e,o)},p(l,o){o&16&&t!==(t=-17-l[4].width)&&c(e,"x",t),o&16&&n!==(n=l[4].width+6)&&c(e,"width",n),o&16&&i!==(i=l[4].y+7)&&c(e,"y",i),o&16&&a!==(a=l[4].height)&&c(e,"height",a)},d(l){l&&b(e)}}}function Yt(r){let e,t,n,i;return{c(){e=W("rect"),this.h()},l(a){e=L(a,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,"pointer-events":!0,fill:!0}),I(e).forEach(b),this.h()},h(){c(e,"x",10),c(e,"width",t=r[5].width+6),c(e,"y",n=r[5].y-28),c(e,"height",i=r[5].height),c(e,"rx","2px"),c(e,"stroke","none"),c(e,"pointer-events","none"),c(e,"fill",ue.selected.color)},m(a,l){N(a,e,l)},p(a,l){l&32&&t!==(t=a[5].width+6)&&c(e,"width",t),l&32&&n!==(n=a[5].y-28)&&c(e,"y",n),l&32&&i!==(i=a[5].height)&&c(e,"height",i)},d(a){a&&b(e)}}}function dl(r){let e,t,n,i,a,l,o,s,f=r[2].metadata.prefix+We(Qe(r[0].datum.value,r[2].metadata.decimalPlaces))+r[2].metadata.suffix+"",u,h,_,d=r[3]&&Gt(r),m=r[5]&&Yt(r);return{c(){e=W("circle"),i=te(),a=W("g"),d&&d.c(),l=ne(),m&&m.c(),o=W("g"),s=W("text"),u=be(f),this.h()},l(g){e=L(g,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,opaci:!0,fill:!0,"pointer-events":!0}),I(e).forEach(b),i=re(g),a=L(g,"g",{transform:!0});var v=I(a);d&&d.l(v),l=ne(),m&&m.l(v),o=L(v,"g",{});var A=I(o);s=L(A,"text",{y:!0,x:!0,"text-anchor":!0,fill:!0,"pointer-events":!0});var y=I(s);u=ve(y,f),y.forEach(b),A.forEach(b),v.forEach(b),this.h()},h(){c(e,"cx",t=r[0].x),c(e,"cy",n=r[1](r[0].y)),c(e,"r","8"),c(e,"stroke","white"),c(e,"opaci",""),c(e,"fill",ue.selected.color),c(e,"pointer-events","none"),c(s,"y","-10"),c(s,"x","13"),c(s,"text-anchor","start"),c(s,"fill",ue.selected.contrast),c(s,"pointer-events","none"),c(a,"transform",_="translate("+r[0].x+","+r[1](r[0].y)+")")},m(g,v){N(g,e,v),N(g,i,v),N(g,a,v),d&&d.m(a,null),R(a,l),m&&m.m(a,null),R(a,o),R(o,s),R(s,u),h=ze.observe(o,r[9].bind(o))},p(g,[v]){v&1&&t!==(t=g[0].x)&&c(e,"cx",t),v&3&&n!==(n=g[1](g[0].y))&&c(e,"cy",n),g[3]?d?d.p(g,v):(d=Gt(g),d.c(),d.m(a,l)):d&&(d.d(1),d=null),g[5]?m?m.p(g,v):(m=Yt(g),m.c(),m.m(a,o)):m&&(m.d(1),m=null),v&5&&f!==(f=g[2].metadata.prefix+We(Qe(g[0].datum.value,g[2].metadata.decimalPlaces))+g[2].metadata.suffix+"")&&pe(u,f),v&3&&_!==(_="translate("+g[0].x+","+g[1](g[0].y)+")")&&c(a,"transform",_)},i:oe,o:oe,d(g){g&&b(e),g&&b(i),g&&b(a),d&&d.d(),m&&m.d(),h()}}}function _l(r,e,t){let{circle:n,y:i,selectedIndicator:a,hoverIndicatorBoolean:l=!0}=e,o,s,f=Pe("areasArray");const u=d=>d.areacd===n.datum.areacd;function h(){var d;o=(d=Fe.entries.get(this))==null?void 0:d.contentRect,t(4,o)}function _(){var d;s=(d=Fe.entries.get(this))==null?void 0:d.contentRect,t(5,s)}return r.$$set=d=>{"circle"in d&&t(0,n=d.circle),"y"in d&&t(1,i=d.y),"selectedIndicator"in d&&t(2,a=d.selectedIndicator),"hoverIndicatorBoolean"in d&&t(3,l=d.hoverIndicatorBoolean)},console.log("hello"),[n,i,a,l,o,s,f,u,h,_]}let Xn=class extends de{constructor(e){super(),_e(this,e,_l,dl,me,{circle:0,y:1,selectedIndicator:2,hoverIndicatorBoolean:3})}};function ml(r){let e,t,n,i,a,l,o,s,f,u;return{c(){e=W("circle"),a=te(),l=W("circle"),this.h()},l(h){e=L(h,"circle",{cx:!0,cy:!0,r:!0,"fill-opacity":!0,"stroke-opacity":!0,stroke:!0,fill:!0,opacity:!0}),I(e).forEach(b),a=re(h),l=L(h,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,opacity:!0}),I(l).forEach(b),this.h()},h(){c(e,"cx",t=r[2].x),c(e,"cy",n=r[3](r[2].y)),c(e,"r","7"),c(e,"fill-opacity",r[0]),c(e,"stroke-opacity",r[5]),c(e,"stroke",r[4]),c(e,"fill","#888a8f"),c(e,"opacity",i=r[1]?.8:1),c(l,"cx",o=r[2].x),c(l,"cy",s=r[3](r[2].y)),c(l,"r","8"),c(l,"stroke","none"),c(l,"fill","#888a8f"),c(l,"opacity","0")},m(h,_){N(h,e,_),N(h,a,_),N(h,l,_),f||(u=[Me(l,"mouseenter",r[6]),Me(l,"mouseleave",r[7])],f=!0)},p(h,[_]){_&4&&t!==(t=h[2].x)&&c(e,"cx",t),_&12&&n!==(n=h[3](h[2].y))&&c(e,"cy",n),_&1&&c(e,"fill-opacity",h[0]),_&32&&c(e,"stroke-opacity",h[5]),_&16&&c(e,"stroke",h[4]),_&2&&i!==(i=h[1]?.8:1)&&c(e,"opacity",i),_&4&&o!==(o=h[2].x)&&c(l,"cx",o),_&12&&s!==(s=h[3](h[2].y))&&c(l,"cy",s)},i:oe,o:oe,d(h){h&&b(e),h&&b(a),h&&b(l),f=!1,dt(u)}}}function gl(r,e,t){let n,i,{circle:a,y:l,index:o,length:s,hoverId:f,fillOpacity:u=.35,hoverIndicatorId:h=null,indicatorCode:_=null}=e;const d=()=>{t(1,f=a.datum.areacd),t(8,h=_)},m=()=>{t(1,f=void 0),t(8,h=void 0)};return r.$$set=g=>{"circle"in g&&t(2,a=g.circle),"y"in g&&t(3,l=g.y),"index"in g&&t(9,o=g.index),"length"in g&&t(10,s=g.length),"hoverId"in g&&t(1,f=g.hoverId),"fillOpacity"in g&&t(0,u=g.fillOpacity),"hoverIndicatorId"in g&&t(8,h=g.hoverIndicatorId),"indicatorCode"in g&&t(11,_=g.indicatorCode)},r.$$.update=()=>{r.$$.dirty&1537&&t(0,u=s*.9<o?.5:u),r.$$.dirty&1536&&t(5,n=(s*.9<o,.5)),r.$$.dirty&1536&&t(4,i=s*.9<o?"#5a5e63":s*.8<o?"#6f747a":s*.6<o?"#8c9096":"none")},[u,f,a,l,i,n,d,m,h,o,s,_]}class Un extends de{constructor(e){super(),_e(this,e,gl,ml,me,{circle:2,y:3,index:9,length:10,hoverId:1,fillOpacity:0,hoverIndicatorId:8,indicatorCode:11})}}function jt(r,e,t){const n=r.slice();return n[29]=e[t],n[31]=t,n}function Kt(r,e,t){const n=r.slice();return n[29]=e[t],n}function Xt(r,e,t){const n=r.slice();return n[29]=e[t],n[31]=t,n}function Ut(r){let e,t,n,i;function a(s){r[22](s)}function l(s){r[23](s)}let o={indicatorCode:r[2].code,length:r[7].length,index:r[31],circle:r[29],y:r[13],fillOpacity:"0.25"};return r[1]!==void 0&&(o.hoverIndicatorId=r[1]),r[0]!==void 0&&(o.hoverId=r[0]),e=new Un({props:o}),ie.push(()=>le(e,"hoverIndicatorId",a)),ie.push(()=>le(e,"hoverId",l)),{c(){Q(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,f){x(e,s,f),i=!0},p(s,f){const u={};f[0]&4&&(u.indicatorCode=s[2].code),f[0]&128&&(u.length=s[7].length),f[0]&128&&(u.circle=s[29]),f[0]&8192&&(u.y=s[13]),!t&&f[0]&2&&(t=!0,u.hoverIndicatorId=s[1],ae(()=>t=!1)),!n&&f[0]&1&&(n=!0,u.hoverId=s[0],ae(()=>n=!1)),e.$set(u)},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){$(e,s)}}}function Qt(r){let e,t,n;return{c(){e=W("rect"),this.h()},l(i){e=L(i,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,rx:!0}),I(e).forEach(b),this.h()},h(){c(e,"x",t=-r[11].width/2-3),c(e,"y",8),c(e,"width",n=r[11].width+6),c(e,"height","24"),c(e,"stroke","none"),c(e,"fill",ue.median.color),c(e,"rx","2px")},m(i,a){N(i,e,a)},p(i,a){a[0]&2048&&t!==(t=-i[11].width/2-3)&&c(e,"x",t),a[0]&2048&&n!==(n=i[11].width+6)&&c(e,"width",n)},d(i){i&&b(e)}}}function Jt(r){let e,t=r[7].filter(r[25]),n=[];for(let i=0;i<t.length;i+=1)n[i]=$t(Kt(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=ne()},l(i){for(let a=0;a<n.length;a+=1)n[a].l(i);e=ne()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);N(i,e,a)},p(i,a){if(a[0]&6860){t=i[7].filter(i[25]);let l;for(l=0;l<t.length;l+=1){const o=Kt(i,t,l);n[l]?n[l].p(o,a):(n[l]=$t(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(i){Ae(n,i),i&&b(e)}}}function xt(r){let e,t,n;return{c(){e=W("rect"),this.h()},l(i){e=L(i,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,rx:!0}),I(e).forEach(b),this.h()},h(){c(e,"x",t=-r[12].width/2-3),c(e,"y",3),c(e,"width",n=r[12].width+6),c(e,"height","31"),c(e,"stroke","none"),c(e,"fill",ue.main.color),c(e,"rx","2px")},m(i,a){N(i,e,a)},p(i,a){a[0]&4096&&t!==(t=-i[12].width/2-3)&&c(e,"x",t),a[0]&4096&&n!==(n=i[12].width+6)&&c(e,"width",n)},d(i){i&&b(e)}}}function $t(r){let e,t,n,i,a,l,o,s,f=r[2].metadata.prefix+We(Qe(r[29].datum.value,r[2].metadata.decimalPlaces))+r[2].metadata.suffix+"",u,h,_,d=r[12]&&xt(r);return{c(){e=W("circle"),n=W("path"),a=W("path"),o=W("g"),d&&d.c(),s=W("text"),u=be(f),this.h()},l(m){e=L(m,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(e).forEach(b),n=L(m,"path",{stroke:!0,fill:!0,d:!0,"pointer-events":!0}),I(n).forEach(b),a=L(m,"path",{fill:!0,stroke:!0,d:!0,"stroke-width":!0,"pointer-events":!0}),I(a).forEach(b),o=L(m,"g",{transform:!0});var g=I(o);d&&d.l(g),s=L(g,"text",{"font-size":!0,fill:!0,y:!0,"text-anchor":!0});var v=I(s);u=ve(v,f),v.forEach(b),g.forEach(b),this.h()},h(){c(e,"cx",t=r[29].x),c(e,"cy",r[6]),c(e,"r","10"),c(e,"stroke","white"),c(e,"stroke-width","1.5px"),c(e,"fill",ue.main.color),c(n,"stroke","none"),c(n,"fill",ue.main.color),c(n,"d",i="M "+r[29].x+" "+(r[6]-13)+" l-6 -6 l12 0 z"),c(n,"pointer-events","none"),c(a,"fill","none"),c(a,"stroke",ue.main.color),c(a,"d",l="M "+r[29].x+" "+(r[6]-15)+" l0 -40 L"+(r[9]/2<r[29].x?10+Math.max(r[29].x,r[9]/2+r[11].width+(r[12]?r[12].width/2:0)):-10+Math.min(r[29].x,r[9]/2-r[11].width-(r[12]?r[12].width/2:0)))+" "+(r[6]-55)+" l0 -10"),c(a,"stroke-width","3px"),c(a,"pointer-events","none"),c(s,"font-size","28px"),c(s,"fill","white"),c(s,"y","28"),c(s,"text-anchor","middle"),c(o,"transform",_="translate("+(r[9]/2<r[29].x?10+Math.max(r[29].x,r[9]/2+r[11].width+(r[12]?r[12].width/2:0)):-10+Math.min(r[29].x,r[9]/2-r[11].width-(r[12]?r[12].width/2:0)))+",-40)")},m(m,g){N(m,e,g),N(m,n,g),N(m,a,g),N(m,o,g),d&&d.m(o,null),R(o,s),R(s,u),h=ze.observe(s,r[26].bind(s))},p(m,g){g[0]&136&&t!==(t=m[29].x)&&c(e,"cx",t),g[0]&64&&c(e,"cy",m[6]),g[0]&200&&i!==(i="M "+m[29].x+" "+(m[6]-13)+" l-6 -6 l12 0 z")&&c(n,"d",i),g[0]&6856&&l!==(l="M "+m[29].x+" "+(m[6]-15)+" l0 -40 L"+(m[9]/2<m[29].x?10+Math.max(m[29].x,m[9]/2+m[11].width+(m[12]?m[12].width/2:0)):-10+Math.min(m[29].x,m[9]/2-m[11].width-(m[12]?m[12].width/2:0)))+" "+(m[6]-55)+" l0 -10")&&c(a,"d",l),m[12]?d?d.p(m,g):(d=xt(m),d.c(),d.m(o,s)):d&&(d.d(1),d=null),g[0]&140&&f!==(f=m[2].metadata.prefix+We(Qe(m[29].datum.value,m[2].metadata.decimalPlaces))+m[2].metadata.suffix+"")&&pe(u,f),g[0]&6792&&_!==(_="translate("+(m[9]/2<m[29].x?10+Math.max(m[29].x,m[9]/2+m[11].width+(m[12]?m[12].width/2:0)):-10+Math.min(m[29].x,m[9]/2-m[11].width-(m[12]?m[12].width/2:0)))+",-40)")&&c(o,"transform",_)},d(m){m&&b(e),m&&b(n),m&&b(a),m&&b(o),d&&d.d(),h()}}}function er(r){let e,t;return e=new Xn({props:{hoverIndicatorBoolean:r[1]===r[2].code,selectedIndicator:r[2],circle:r[29],y:r[13]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&6&&(a.hoverIndicatorBoolean=n[1]===n[2].code),i[0]&4&&(a.selectedIndicator=n[2]),i[0]&129&&(a.circle=n[29]),i[0]&8192&&(a.y=n[13]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function bl(r){let e,t,n,i,a,l,o,s,f,u,h,_=r[2].metadata.prefix+We(Qe(r[4].med,r[2].metadata.decimalPlaces))+r[2].metadata.suffix+"",d,m,g,v,A,y,V,P,z=r[7],S=[];for(let D=0;D<z.length;D+=1)S[D]=Ut(Xt(r,z,D));const E=D=>M(S[D],1,1,()=>{S[D]=null});let p=r[11]&&Qt(r),k=r[11]&&Jt(r),Z=r[7].filter(r[27]),q=[];for(let D=0;D<Z.length;D+=1)q[D]=er(jt(r,Z,D));const G=D=>M(q[D],1,1,()=>{q[D]=null});return{c(){e=j("div"),t=W("svg"),n=W("g"),i=W("g");for(let D=0;D<S.length;D+=1)S[D].c();a=W("g"),l=W("line"),u=W("g"),p&&p.c(),h=W("text"),d=be(_),k&&k.c(),A=W("g");for(let D=0;D<q.length;D+=1)q[D].c();this.h()},l(D){e=K(D,"DIV",{class:!0});var U=I(e);t=L(U,"svg",{width:!0,height:!0,class:!0});var Y=I(t);n=L(Y,"g",{transform:!0});var F=I(n);i=L(F,"g",{class:!0,opacity:!0});var ye=I(i);for(let ke=0;ke<S.length;ke+=1)S[ke].l(ye);ye.forEach(b),a=L(F,"g",{opacity:!0});var O=I(a);l=L(O,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,"pointer-events":!0}),I(l).forEach(b),u=L(O,"g",{transform:!0});var Ce=I(u);p&&p.l(Ce),h=L(Ce,"text",{y:!0,"text-anchor":!0,fill:!0});var C=I(h);d=ve(C,_),C.forEach(b),Ce.forEach(b),k&&k.l(O),O.forEach(b),A=L(F,"g",{class:!0});var ee=I(A);for(let ke=0;ke<q.length;ke+=1)q[ke].l(ee);ee.forEach(b),F.forEach(b),Y.forEach(b),U.forEach(b),this.h()},h(){c(i,"class","background-circles-group"),c(i,"opacity","0.7"),c(l,"x1",o=r[9]/2),c(l,"x2",s=r[9]/2),c(l,"y1","-35"),c(l,"y2",f=r[6]+20),c(l,"stroke",ue.median.color),c(l,"stroke-width","3px"),c(l,"stroke-dasharray","6 3"),c(l,"pointer-events","none"),c(h,"y","26"),c(h,"text-anchor","middle"),c(h,"fill","white"),c(u,"transform",g="translate("+r[9]/2+",-45)"),c(a,"opacity",v=r[0]?.2:1),c(A,"class","selected-label-group"),c(n,"transform",y="translate("+(r[10].left+r[8])+","+r[10].top+")"),c(t,"width",r[5]),c(t,"height",r[14]),c(t,"class","svelte-1n1h8pw"),c(e,"class","svgs-container"),_t(()=>r[28].call(e))},m(D,U){N(D,e,U),R(e,t),R(t,n),R(n,i);for(let Y=0;Y<S.length;Y+=1)S[Y]&&S[Y].m(i,null);R(n,a),R(a,l),R(a,u),p&&p.m(u,null),R(u,h),R(h,d),m=ze.observe(h,r[24].bind(h)),k&&k.m(a,null),R(n,A);for(let Y=0;Y<q.length;Y+=1)q[Y]&&q[Y].m(A,null);V=Dt(e,r[28].bind(e)),P=!0},p(D,U){if(U[0]&8327){z=D[7];let Y;for(Y=0;Y<z.length;Y+=1){const F=Xt(D,z,Y);S[Y]?(S[Y].p(F,U),w(S[Y],1)):(S[Y]=Ut(F),S[Y].c(),w(S[Y],1),S[Y].m(i,null))}for(ce(),Y=z.length;Y<S.length;Y+=1)E(Y);he()}if((!P||U[0]&512&&o!==(o=D[9]/2))&&c(l,"x1",o),(!P||U[0]&512&&s!==(s=D[9]/2))&&c(l,"x2",s),(!P||U[0]&64&&f!==(f=D[6]+20))&&c(l,"y2",f),D[11]?p?p.p(D,U):(p=Qt(D),p.c(),p.m(u,h)):p&&(p.d(1),p=null),(!P||U[0]&20)&&_!==(_=D[2].metadata.prefix+We(Qe(D[4].med,D[2].metadata.decimalPlaces))+D[2].metadata.suffix+"")&&pe(d,_),(!P||U[0]&512&&g!==(g="translate("+D[9]/2+",-45)"))&&c(u,"transform",g),D[11]?k?k.p(D,U):(k=Jt(D),k.c(),k.m(a,null)):k&&(k.d(1),k=null),(!P||U[0]&1&&v!==(v=D[0]?.2:1))&&c(a,"opacity",v),U[0]&8327){Z=D[7].filter(D[27]);let Y;for(Y=0;Y<Z.length;Y+=1){const F=jt(D,Z,Y);q[Y]?(q[Y].p(F,U),w(q[Y],1)):(q[Y]=er(F),q[Y].c(),w(q[Y],1),q[Y].m(A,null))}for(ce(),Y=Z.length;Y<q.length;Y+=1)G(Y);he()}(!P||U[0]&1280&&y!==(y="translate("+(D[10].left+D[8])+","+D[10].top+")"))&&c(n,"transform",y),(!P||U[0]&32)&&c(t,"width",D[5])},i(D){if(!P){for(let U=0;U<z.length;U+=1)w(S[U]);for(let U=0;U<Z.length;U+=1)w(q[U]);P=!0}},o(D){S=S.filter(Boolean);for(let U=0;U<S.length;U+=1)M(S[U]);q=q.filter(Boolean);for(let U=0;U<q.length;U+=1)M(q[U]);P=!1},d(D){D&&b(e),Ae(S,D),p&&p.d(),m(),k&&k.d(),Ae(q,D),V()}}}function vl(r,e,t){let n,i,a,l,o,s,f,u,h,_,{indicator:d,selectedArea:m,sameGeogLevelAreasCodes:g,data:v,selectedIndicatorCalculations:A,maxPeriod:y,hoverId:V,hoverIndicatorId:P}=e,z=1e3,S=100,E,p;function k(F){P=F,t(1,P)}function Z(F){V=F,t(0,V)}function q(){var F;E=(F=Fe.entries.get(this))==null?void 0:F.contentRect,t(11,E)}const G=F=>F.datum.areacd===m.areacd;function D(){var F;p=(F=Fe.entries.get(this))==null?void 0:F.contentRect,t(12,p)}const U=F=>F.datum.areacd===V;function Y(){z=this.clientWidth,t(5,z)}return r.$$set=F=>{"indicator"in F&&t(2,d=F.indicator),"selectedArea"in F&&t(3,m=F.selectedArea),"sameGeogLevelAreasCodes"in F&&t(15,g=F.sameGeogLevelAreasCodes),"data"in F&&t(16,v=F.data),"selectedIndicatorCalculations"in F&&t(4,A=F.selectedIndicatorCalculations),"maxPeriod"in F&&t(17,y=F.maxPeriod),"hoverId"in F&&t(0,V=F.hoverId),"hoverIndicatorId"in F&&t(1,P=F.hoverIndicatorId)},r.$$.update=()=>{r.$$.dirty[0]&1312&&t(9,a=z-n.left-n.right-i*2),r.$$.dirty[0]&1024&&t(6,l=S-n.top-n.bottom),r.$$.dirty[0]&16&&t(21,o=[A.med-3*A.mad,parseFloat(A.med)+3*A.mad]),r.$$.dirty[0]&2097664&&t(20,s=Ye().domain(o).range([0,a])),r.$$.dirty[0]&3244800&&t(19,f=v.filter(F=>g.includes(F.areacd)).map(F=>({...F,xPosition:F.value<o[0]?-i/2:F.value>o[1]?a+i/2:s(F.value)}))),r.$$.dirty[0]&524288&&t(7,u=new wt(f,5,F=>F.xPosition).oneSided().calculateYPositions().sort((F,ye)=>Math.random()-Math.random())),r.$$.dirty[0]&128&&t(18,h=[0,Math.max(...u.map(F=>F.y))]),r.$$.dirty[0]&262208&&t(13,_=Ye().domain(h).range([l,0]))},t(10,n={top:35,right:10,bottom:5,left:10}),t(8,i=40),[V,P,d,m,A,z,l,u,i,a,n,E,p,_,S,g,v,y,h,f,s,o,k,Z,q,G,D,U,Y]}class Al extends de{constructor(e){super(),_e(this,e,vl,bl,me,{indicator:2,selectedArea:3,sameGeogLevelAreasCodes:15,data:16,selectedIndicatorCalculations:4,maxPeriod:17,hoverId:0,hoverIndicatorId:1},null,[-1,-1])}}function pl(r){let e,t,n,i;return{c(){e=j("div"),t=W("svg"),n=W("path"),this.h()},l(a){e=K(a,"DIV",{class:!0});var l=I(e);t=L(l,"svg",{width:!0,height:!0,class:!0,viewBox:!0});var o=I(t);n=L(o,"path",{fill:!0,d:!0}),I(n).forEach(b),o.forEach(b),l.forEach(b),this.h()},h(){c(n,"fill","black"),c(n,"d","M24.15 34q.65 0 1.075-.425.425-.425.425-1.075v-9.05q0-.6-.45-1.025Q24.75 22 24.15 22q-.65 0-1.075.425-.425.425-.425 1.075v9.05q0 .6.45 1.025.45.425 1.05.425ZM24 18.3q.7 0 1.175-.45.475-.45.475-1.15t-.475-1.2Q24.7 15 24 15q-.7 0-1.175.5-.475.5-.475 1.2t.475 1.15q.475.45 1.175.45ZM24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 4.25-1.55 7.9-1.55 3.65-4.25 6.35-2.7 2.7-6.35 4.225Q28.2 44 24 44Zm0-20Zm0 17q7 0 12-5t5-12q0-7-5-12T24 7q-7 0-12 5T7 24q0 7 5 12t12 5Z"),c(t,"width","20"),c(t,"height","20"),c(t,"class","c h-16 w-16 inline svelte-nloqxl svelte-14yk1n4"),c(t,"viewBox",i=r[0]?"4 6 40 40":"0 2 48 48"),c(e,"class","infoCell svelte-14yk1n4")},m(a,l){N(a,e,l),R(e,t),R(t,n)},p(a,[l]){l&1&&i!==(i=a[0]?"4 6 40 40":"0 2 48 48")&&c(t,"viewBox",i)},i:oe,o:oe,d(a){a&&b(e)}}}function yl(r,e,t){let{expandIcon:n}=e;return r.$$set=i=>{"expandIcon"in i&&t(0,n=i.expandIcon)},[n]}class Qn extends de{constructor(e){super(),_e(this,e,yl,pl,me,{expandIcon:0})}}function tr(r,e,t){const n=r.slice();return n[8]=e[t],n}function rr(r){let e,t=r[2],n=[];for(let i=0;i<t.length;i+=1)n[i]=nr(tr(r,t,i));return{c(){e=j("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=K(i,"DIV",{class:!0});var a=I(e);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(b),this.h()},h(){c(e,"class","indicator-additional-description-text-container svelte-190ljts")},m(i,a){N(i,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(i,a){if(a&4){t=i[2];let l;for(l=0;l<t.length;l+=1){const o=tr(i,t,l);n[l]?n[l].p(o,a):(n[l]=nr(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(i){i&&b(e),Ae(n,i)}}}function nr(r){let e,t=r[8]+"",n;return{c(){e=j("p"),n=be(t),this.h()},l(i){e=K(i,"P",{class:!0});var a=I(e);n=ve(a,t),a.forEach(b),this.h()},h(){c(e,"class","svelte-190ljts")},m(i,a){N(i,e,a),R(e,n)},p(i,a){a&4&&t!==(t=i[8]+"")&&pe(n,t)},d(i){i&&b(e)}}}function kl(r){let e,t,n,i,a=r[1]===""?"":", "+r[1],l,o,s,f,u,h,_;o=new Qn({props:{expandIcon:r[3]}});let d=r[4]&&rr(r);return{c(){e=j("button"),t=j("span"),n=be(r[0]),i=j("span"),l=be(a),Q(o.$$.fragment),s=te(),d&&d.c(),f=ne(),this.h()},l(m){e=K(m,"BUTTON",{class:!0});var g=I(e);t=K(g,"SPAN",{style:!0});var v=I(t);n=ve(v,r[0]),i=K(v,"SPAN",{style:!0});var A=I(i);l=ve(A,a),A.forEach(b),J(o.$$.fragment,v),v.forEach(b),g.forEach(b),s=re(m),d&&d.l(m),f=ne(),this.h()},h(){Ve(i,"font-weight","normal"),Ve(t,"font-weight","bold"),c(e,"class","svelte-190ljts")},m(m,g){N(m,e,g),R(e,t),R(t,n),R(t,i),R(i,l),x(o,t,null),N(m,s,g),d&&d.m(m,g),N(m,f,g),u=!0,h||(_=[Me(e,"mouseenter",r[5]),Me(e,"mouseleave",r[6]),Me(e,"click",r[7])],h=!0)},p(m,[g]){(!u||g&1)&&pe(n,m[0]),(!u||g&2)&&a!==(a=m[1]===""?"":", "+m[1])&&pe(l,a);const v={};g&8&&(v.expandIcon=m[3]),o.$set(v),m[4]?d?d.p(m,g):(d=rr(m),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null)},i(m){u||(w(o.$$.fragment,m),u=!0)},o(m){M(o.$$.fragment,m),u=!1},d(m){m&&b(e),$(o),m&&b(s),d&&d.d(m),m&&b(f),h=!1,dt(_)}}}function wl(r,e,t){let{titleText:n,unitDescriptionText:i,additionalText:a}=e,l=!1,o=!1;const s=()=>{t(3,l=!0)},f=()=>{t(3,l=!1)},u=()=>{t(4,o=!o)};return r.$$set=h=>{"titleText"in h&&t(0,n=h.titleText),"unitDescriptionText"in h&&t(1,i=h.unitDescriptionText),"additionalText"in h&&t(2,a=h.additionalText)},[n,i,a,l,o,s,f,u]}class Il extends de{constructor(e){super(),_e(this,e,wl,kl,me,{titleText:0,unitDescriptionText:1,additionalText:2})}}function Rl(r){let e,t;return{c(){e=j("div"),this.h()},l(n){e=K(n,"DIV",{class:!0}),I(e).forEach(b),this.h()},h(){c(e,"class",t="divider-"+r[0]+" svelte-4csvgv")},m(n,i){N(n,e,i)},p(n,[i]){i&1&&t!==(t="divider-"+n[0]+" svelte-4csvgv")&&c(e,"class",t)},i:oe,o:oe,d(n){n&&b(e)}}}function Dl(r,e,t){let{orientation:n}=e;return r.$$set=i=>{"orientation"in i&&t(0,n=i.orientation)},[n]}class He extends de{constructor(e){super(),_e(this,e,Dl,Rl,me,{orientation:0})}}function Cl(r){let e,t,n,i,a,l,o,s,f,u,h,_,d;t=new He({props:{orientation:"vertical"}}),i=new Il({props:{titleText:r[2].metadata.label,unitDescriptionText:r[2].metadata.subText,additionalText:(r[2].metadata.subtitle+"|"+r[2].metadata.additionalDescription).split("|")}});function m(A){r[10](A)}function g(A){r[11](A)}let v={indicator:r[2],selectedArea:r[3],sameGeogLevelAreasCodes:r[4],data:r[7][r[2].code].filter(r[9]),selectedIndicatorCalculations:r[6],maxPeriod:r[5]};return r[0]!==void 0&&(v.hoverId=r[0]),r[1]!==void 0&&(v.hoverIndicatorId=r[1]),s=new Al({props:v}),ie.push(()=>le(s,"hoverId",m)),ie.push(()=>le(s,"hoverIndicatorId",g)),{c(){e=j("div"),Q(t.$$.fragment),n=te(),Q(i.$$.fragment),a=te(),l=j("div"),o=j("div"),Q(s.$$.fragment),h=te(),_=j("div"),this.h()},l(A){e=K(A,"DIV",{class:!0});var y=I(e);J(t.$$.fragment,y),n=re(y),J(i.$$.fragment,y),a=re(y),l=K(y,"DIV",{class:!0});var V=I(l);o=K(V,"DIV",{class:!0});var P=I(o);J(s.$$.fragment,P),P.forEach(b),h=re(V),_=K(V,"DIV",{class:!0});var z=I(_);z.forEach(b),V.forEach(b),y.forEach(b),this.h()},h(){c(o,"class","beeswarm-container svelte-174o2ct"),c(_,"class","line-chart-container svelte-174o2ct"),c(l,"class","visuals-container svelte-174o2ct"),c(e,"class","indicator-container svelte-174o2ct")},m(A,y){N(A,e,y),x(t,e,null),R(e,n),x(i,e,null),R(e,a),R(e,l),R(l,o),x(s,o,null),R(l,h),R(l,_),d=!0},p(A,[y]){const V={};y&4&&(V.titleText=A[2].metadata.label),y&4&&(V.unitDescriptionText=A[2].metadata.subText),y&4&&(V.additionalText=(A[2].metadata.subtitle+"|"+A[2].metadata.additionalDescription).split("|")),i.$set(V);const P={};y&4&&(P.indicator=A[2]),y&8&&(P.selectedArea=A[3]),y&16&&(P.sameGeogLevelAreasCodes=A[4]),y&4&&(P.data=A[7][A[2].code].filter(A[9])),y&64&&(P.selectedIndicatorCalculations=A[6]),y&32&&(P.maxPeriod=A[5]),!f&&y&1&&(f=!0,P.hoverId=A[0],ae(()=>f=!1)),!u&&y&2&&(u=!0,P.hoverIndicatorId=A[1],ae(()=>u=!1)),s.$set(P)},i(A){d||(w(t.$$.fragment,A),w(i.$$.fragment,A),w(s.$$.fragment,A),d=!0)},o(A){M(t.$$.fragment,A),M(i.$$.fragment,A),M(s.$$.fragment,A),d=!1},d(A){A&&b(e),$(t),$(i),$(s)}}}function El(r,e,t){let n,i,a,{indicator:l,selectedArea:o,sameGeogLevelAreasCodes:s,hoverId:f,hoverIndicatorId:u}=e,h=Pe("combinedDataObject"),_=Pe("periodsLookupArray"),d=Pe("indicatorsCalculationsArray");const m=A=>A.value!="NA"&&A.xDomainNumb===l.maxXDomainNumb;function g(A){f=A,t(0,f)}function v(A){u=A,t(1,u)}return r.$$set=A=>{"indicator"in A&&t(2,l=A.indicator),"selectedArea"in A&&t(3,o=A.selectedArea),"sameGeogLevelAreasCodes"in A&&t(4,s=A.sameGeogLevelAreasCodes),"hoverId"in A&&t(0,f=A.hoverId),"hoverIndicatorId"in A&&t(1,u=A.hoverIndicatorId)},r.$$.update=()=>{r.$$.dirty&4&&t(8,n=_.filter(A=>A.periodGroup===l.periodGroup&A.xDomainNumb>=l.minXDomainNumb&A.xDomainNumb<=l.maxXDomainNumb)),r.$$.dirty&256&&t(5,i=n[0]),r.$$.dirty&44&&t(6,a=d.find(A=>l.code===A.code&&i.xDomainNumb===A.period&&A.geog_level===o.geogLevel))},[f,u,l,o,s,i,a,h,n,m,g,v]}class Ml extends de{constructor(e){super(),_e(this,e,El,Cl,me,{indicator:2,selectedArea:3,sameGeogLevelAreasCodes:4,hoverId:0,hoverIndicatorId:1})}}function ir(r,e,t){const n=r.slice();return n[8]=e[t],n}function lr(r,e,t){const n=r.slice();return n[11]=e[t],n}function ar(r){let e,t,n,i;function a(s){r[6](s)}function l(s){r[7](s)}let o={indicator:r[11],selectedArea:r[1],sameGeogLevelAreasCodes:r[2]};return r[3]!==void 0&&(o.hoverId=r[3]),r[4]!==void 0&&(o.hoverIndicatorId=r[4]),e=new Ml({props:o}),ie.push(()=>le(e,"hoverId",a)),ie.push(()=>le(e,"hoverIndicatorId",l)),{c(){Q(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,f){x(e,s,f),i=!0},p(s,f){const u={};f&1&&(u.indicator=s[11]),f&2&&(u.selectedArea=s[1]),f&4&&(u.sameGeogLevelAreasCodes=s[2]),!t&&f&8&&(t=!0,u.hoverId=s[3],ae(()=>t=!1)),!n&&f&16&&(n=!0,u.hoverIndicatorId=s[4],ae(()=>n=!1)),e.$set(u)},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){$(e,s)}}}function or(r){let e,t,n,i,a=r[8].name[0].toUpperCase()+r[8].name.substring(1)+"",l,o,s,f;t=new He({props:{orientation:"vertical"}});let u=r[8].indicators,h=[];for(let d=0;d<u.length;d+=1)h[d]=ar(lr(r,u,d));const _=d=>M(h[d],1,1,()=>{h[d]=null});return{c(){e=j("div"),Q(t.$$.fragment),n=te(),i=j("h4"),l=be(a),o=te();for(let d=0;d<h.length;d+=1)h[d].c();s=te(),this.h()},l(d){e=K(d,"DIV",{class:!0});var m=I(e);J(t.$$.fragment,m),n=re(m),i=K(m,"H4",{class:!0});var g=I(i);l=ve(g,a),g.forEach(b),o=re(m);for(let v=0;v<h.length;v+=1)h[v].l(m);s=re(m),m.forEach(b),this.h()},h(){c(i,"class","sub-topic-header svelte-ywl2e3"),c(e,"class","sub-topic-container")},m(d,m){N(d,e,m),x(t,e,null),R(e,n),R(e,i),R(i,l),R(e,o);for(let g=0;g<h.length;g+=1)h[g]&&h[g].m(e,null);R(e,s),f=!0},p(d,m){if((!f||m&1)&&a!==(a=d[8].name[0].toUpperCase()+d[8].name.substring(1)+"")&&pe(l,a),m&31){u=d[8].indicators;let g;for(g=0;g<u.length;g+=1){const v=lr(d,u,g);h[g]?(h[g].p(v,m),w(h[g],1)):(h[g]=ar(v),h[g].c(),w(h[g],1),h[g].m(e,s))}for(ce(),g=u.length;g<h.length;g+=1)_(g);he()}},i(d){if(!f){w(t.$$.fragment,d);for(let m=0;m<u.length;m+=1)w(h[m]);f=!0}},o(d){M(t.$$.fragment,d),h=h.filter(Boolean);for(let m=0;m<h.length;m+=1)M(h[m]);f=!1},d(d){d&&b(e),$(t),Ae(h,d)}}}function Nl(r){let e,t,n=r[1].areanm+"",i,a,l,o="Median of all "+{lower:"local authorities",upper:"local authorities",region:"regions",countries:"countries",other:"areas"}[r[1].geogLevel],s,f,u,h,_=r[0].subTopics,d=[];for(let g=0;g<_.length;g+=1)d[g]=or(ir(r,_,g));const m=g=>M(d[g],1,1,()=>{d[g]=null});return{c(){e=j("div"),t=j("span"),i=be(n),a=te(),l=j("span"),s=be(o),f=te();for(let g=0;g<d.length;g+=1)d[g].c();u=ne(),this.h()},l(g){e=K(g,"DIV",{class:!0});var v=I(e);t=K(v,"SPAN",{class:!0});var A=I(t);i=ve(A,n),A.forEach(b),a=re(v),l=K(v,"SPAN",{class:!0});var y=I(l);s=ve(y,o),y.forEach(b),v.forEach(b),f=re(g);for(let V=0;V<d.length;V+=1)d[V].l(g);u=ne(),this.h()},h(){c(t,"class","selected-area-key svelte-ywl2e3"),c(l,"class","median-area-key svelte-ywl2e3"),c(e,"class","sticky svelte-ywl2e3")},m(g,v){N(g,e,v),R(e,t),R(t,i),R(e,a),R(e,l),R(l,s),N(g,f,v);for(let A=0;A<d.length;A+=1)d[A]&&d[A].m(g,v);N(g,u,v),h=!0},p(g,v){if((!h||v&2)&&n!==(n=g[1].areanm+"")&&pe(i,n),(!h||v&2)&&o!==(o="Median of all "+{lower:"local authorities",upper:"local authorities",region:"regions",countries:"countries",other:"areas"}[g[1].geogLevel])&&pe(s,o),v&31){_=g[0].subTopics;let A;for(A=0;A<_.length;A+=1){const y=ir(g,_,A);d[A]?(d[A].p(y,v),w(d[A],1)):(d[A]=or(y),d[A].c(),w(d[A],1),d[A].m(u.parentNode,u))}for(ce(),A=_.length;A<d.length;A+=1)m(A);he()}},i(g){if(!h){for(let v=0;v<_.length;v+=1)w(d[v]);h=!0}},o(g){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)M(d[v]);h=!1},d(g){g&&b(e),g&&b(f),Ae(d,g),g&&b(u)}}}function Pl(r){let e,t,n;return t=new vt({props:{title:r[5],$$slots:{default:[Nl]},$$scope:{ctx:r}}}),{c(){e=j("div"),Q(t.$$.fragment),this.h()},l(i){e=K(i,"DIV",{class:!0});var a=I(e);J(t.$$.fragment,a),a.forEach(b),this.h()},h(){c(e,"class","topic-section-container svelte-ywl2e3")},m(i,a){N(i,e,a),x(t,e,null),n=!0},p(i,[a]){const l={};a&16415&&(l.$$scope={dirty:a,ctx:i}),t.$set(l)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&b(e),$(t)}}}function Tl(r,e,t){let{topic:n,selectedArea:i,sameGeogLevelAreasCodes:a}=e,l=n.name[0].toUpperCase()+n.name.substring(1),o,s;function f(h){o=h,t(3,o)}function u(h){s=h,t(4,s)}return r.$$set=h=>{"topic"in h&&t(0,n=h.topic),"selectedArea"in h&&t(1,i=h.selectedArea),"sameGeogLevelAreasCodes"in h&&t(2,a=h.sameGeogLevelAreasCodes)},[n,i,a,o,s,l,f,u]}class Wl extends de{constructor(e){super(),_e(this,e,Tl,Pl,me,{topic:0,selectedArea:1,sameGeogLevelAreasCodes:2})}}function sr(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function fr(r){let e,t,n,i=!1,a,l=r[9][r[5]]+"",o,s,f,u,h;return f=Bn(r[8][0]),{c(){e=j("label"),t=j("input"),a=te(),o=be(l),s=te(),this.h()},l(_){e=K(_,"LABEL",{class:!0});var d=I(e);t=K(d,"INPUT",{type:!0,name:!0,class:!0}),a=re(d),o=ve(d,l),s=re(d),d.forEach(b),this.h()},h(){c(t,"type","checkbox"),t.__value=n=r[9][r[4]],t.value=t.__value,c(t,"name",r[2]),c(t,"class","svelte-cxxp9s"),c(e,"class","svelte-cxxp9s"),f.p(t)},m(_,d){N(_,e,d),R(e,t),t.checked=~(r[0]||[]).indexOf(t.__value),R(e,a),R(e,o),R(e,s),u||(h=Me(t,"change",r[7]),u=!0)},p(_,d){d&24&&n!==(n=_[9][_[4]])&&(t.__value=n,t.value=t.__value,i=!0),d&4&&c(t,"name",_[2]),(i||d&9)&&(t.checked=~(_[0]||[]).indexOf(t.__value)),d&40&&l!==(l=_[9][_[5]]+"")&&pe(o,l)},d(_){_&&b(e),f.r(),u=!1,h()}}}function Ll(r){let e,t,n,i,a,l,o=r[3],s=[];for(let f=0;f<o.length;f+=1)s[f]=fr(sr(r,o,f));return{c(){e=j("div"),t=j("p"),n=be(r[1]),i=te(),a=j("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=K(f,"DIV",{class:!0,stlye:!0});var u=I(e);t=K(u,"P",{class:!0});var h=I(t);n=ve(h,r[1]),h.forEach(b),i=re(u),a=K(u,"DIV",{class:!0});var _=I(a);for(let d=0;d<s.length;d+=1)s[d].l(_);_.forEach(b),u.forEach(b),this.h()},h(){c(t,"class","checkbox-title svelte-cxxp9s"),c(a,"class",l="checkbox-labels-container checkbox-labels-container-"+r[6]+"-columns svelte-cxxp9s"),c(e,"class","checkbox-container svelte-cxxp9s"),c(e,"stlye","")},m(f,u){N(f,e,u),R(e,t),R(t,n),R(e,i),R(e,a);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(a,null)},p(f,[u]){if(u&2&&pe(n,f[1]),u&61){o=f[3];let h;for(h=0;h<o.length;h+=1){const _=sr(f,o,h);s[h]?s[h].p(_,u):(s[h]=fr(_),s[h].c(),s[h].m(a,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}u&64&&l!==(l="checkbox-labels-container checkbox-labels-container-"+f[6]+"-columns svelte-cxxp9s")&&c(a,"class",l)},i:oe,o:oe,d(f){f&&b(e),Ae(s,f)}}}function Bl(r,e,t){let{title:n,name:i,optionsArray:a,valueArray:l,idKey:o,labelKey:s,columns:f=1}=e;const u=[[]];function h(){l=ni(u[0],this.__value,this.checked),t(0,l)}return r.$$set=_=>{"title"in _&&t(1,n=_.title),"name"in _&&t(2,i=_.name),"optionsArray"in _&&t(3,a=_.optionsArray),"valueArray"in _&&t(0,l=_.valueArray),"idKey"in _&&t(4,o=_.idKey),"labelKey"in _&&t(5,s=_.labelKey),"columns"in _&&t(6,f=_.columns)},[l,n,i,a,o,s,f,h,u]}class Je extends de{constructor(e){super(),_e(this,e,Bl,Ll,me,{title:1,name:2,optionsArray:3,valueArray:0,idKey:4,labelKey:5,columns:6})}}function ur(r,e,t){const n=r.slice();return n[5]=e[t],n[7]=t,n}function cr(r){let e,t,n,i=!1,a,l,o,s=r[5].label+"",f,u,h,_,d;return h=Bn(r[4][0]),{c(){e=j("label"),t=j("input"),a=te(),l=j("div"),o=j("p"),f=be(s),u=te(),this.h()},l(m){e=K(m,"LABEL",{class:!0});var g=I(e);t=K(g,"INPUT",{style:!0,type:!0,name:!0}),a=re(g),l=K(g,"DIV",{class:!0,style:!0});var v=I(l);o=K(v,"P",{class:!0});var A=I(o);f=ve(A,s),A.forEach(b),v.forEach(b),u=re(g),g.forEach(b),this.h()},h(){Ve(t,"display","none"),c(t,"type","radio"),t.__value=n=r[5].id,t.value=t.__value,c(t,"name",r[2]),c(o,"class","svelte-126xkd0"),c(l,"class","optionLabel svelte-126xkd0"),Ve(l,"background-color",r[0]===r[5].id?"white":"#e3e3e3"),c(e,"class","svelte-126xkd0"),h.p(t)},m(m,g){N(m,e,g),R(e,t),t.checked=t.__value===r[0],R(e,a),R(e,l),R(l,o),R(o,f),R(e,u),_||(d=Me(t,"change",r[3]),_=!0)},p(m,g){g&2&&n!==(n=m[5].id)&&(t.__value=n,t.value=t.__value,i=!0),g&4&&c(t,"name",m[2]),(i||g&3)&&(t.checked=t.__value===m[0]),g&2&&s!==(s=m[5].label+"")&&pe(f,s),g&3&&Ve(l,"background-color",m[0]===m[5].id?"white":"#e3e3e3")},d(m){m&&b(e),h.r(),_=!1,d()}}}function Ol(r){let e,t=r[1],n=[];for(let i=0;i<t.length;i+=1)n[i]=cr(ur(r,t,i));return{c(){e=j("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=K(i,"DIV",{class:!0});var a=I(e);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(b),this.h()},h(){c(e,"class","radio-container svelte-126xkd0")},m(i,a){N(i,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(i,[a]){if(a&7){t=i[1];let l;for(l=0;l<t.length;l+=1){const o=ur(i,t,l);n[l]?n[l].p(o,a):(n[l]=cr(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:oe,o:oe,d(i){i&&b(e),Ae(n,i)}}}function Sl(r,e,t){let{optionsArray:n,chosenId:i,name:a}=e;const l=[[]];function o(){i=this.__value,t(0,i)}return r.$$set=s=>{"optionsArray"in s&&t(1,n=s.optionsArray),"chosenId"in s&&t(0,i=s.chosenId),"name"in s&&t(2,a=s.name)},[i,n,a,o,l]}class Vl extends de{constructor(e){super(),_e(this,e,Sl,Ol,me,{optionsArray:1,chosenId:0,name:2})}}function hr(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function dr(r){let e,t=r[4].label+"",n,i;return{c(){e=j("option"),n=be(t),this.h()},l(a){e=K(a,"OPTION",{});var l=I(e);n=ve(l,t),l.forEach(b),this.h()},h(){e.__value=i=r[4],e.value=e.__value},m(a,l){N(a,e,l),R(e,n)},p(a,l){l&4&&t!==(t=a[4].label+"")&&pe(n,t),l&4&&i!==(i=a[4])&&(e.__value=i,e.value=e.__value)},d(a){a&&b(e)}}}function Fl(r){let e,t,n,i,a=r[2],l=[];for(let o=0;o<a.length;o+=1)l[o]=dr(hr(r,a,o));return{c(){e=j("div"),t=j("select");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=K(o,"DIV",{class:!0});var s=I(e);t=K(s,"SELECT",{id:!0,name:!0,class:!0});var f=I(t);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(b),s.forEach(b),this.h()},h(){c(t,"id",r[1]),c(t,"name",r[1]),c(t,"class","ons-input ons-input--select svelte-1viwzfz"),r[0]===void 0&&_t(()=>r[3].call(t)),c(e,"class","ons-field")},m(o,s){N(o,e,s),R(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);Pt(t,r[0],!0),n||(i=Me(t,"change",r[3]),n=!0)},p(o,[s]){if(s&4){a=o[2];let f;for(f=0;f<a.length;f+=1){const u=hr(o,a,f);l[f]?l[f].p(u,s):(l[f]=dr(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=a.length}s&2&&c(t,"id",o[1]),s&2&&c(t,"name",o[1]),s&5&&Pt(t,o[0])},i:oe,o:oe,d(o){o&&b(e),Ae(l,o),n=!1,i()}}}function Hl(r,e,t){let{chosenId:n,name:i="",optionsArray:a}=e;function l(){n=ii(this),t(0,n),t(2,a)}return r.$$set=o=>{"chosenId"in o&&t(0,n=o.chosenId),"name"in o&&t(1,i=o.name),"optionsArray"in o&&t(2,a=o.optionsArray)},[n,i,a,l]}class zl extends de{constructor(e){super(),_e(this,e,Hl,Fl,me,{chosenId:0,name:1,optionsArray:2})}}function _r(r,e,t){const n=r.slice();return n[7]=e[t],n}function mr(r){let e,t=r[1],n=[];for(let i=0;i<t.length;i+=1)n[i]=gr(_r(r,t,i));return{c(){e=j("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=K(i,"DIV",{class:!0});var a=I(e);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(b),this.h()},h(){c(e,"class","indicator-additional-description-text-container svelte-1im63hd")},m(i,a){N(i,e,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(i,a){if(a&2){t=i[1];let l;for(l=0;l<t.length;l+=1){const o=_r(i,t,l);n[l]?n[l].p(o,a):(n[l]=gr(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(i){i&&b(e),Ae(n,i)}}}function gr(r){let e,t=r[7]+"",n;return{c(){e=j("p"),n=be(t),this.h()},l(i){e=K(i,"P",{class:!0});var a=I(e);n=ve(a,t),a.forEach(b),this.h()},h(){c(e,"class","svelte-1im63hd")},m(i,a){N(i,e,a),R(e,n)},p(i,a){a&2&&t!==(t=i[7]+"")&&pe(n,t)},d(i){i&&b(e)}}}function ql(r){let e,t,n,i,a,l,o,s,f;i=new Qn({props:{expandIcon:r[2]}});let u=r[3]&&mr(r);return{c(){e=j("button"),t=j("span"),n=be(r[0]),Q(i.$$.fragment),a=te(),u&&u.c(),l=ne(),this.h()},l(h){e=K(h,"BUTTON",{class:!0});var _=I(e);t=K(_,"SPAN",{});var d=I(t);n=ve(d,r[0]),J(i.$$.fragment,d),d.forEach(b),_.forEach(b),a=re(h),u&&u.l(h),l=ne(),this.h()},h(){c(e,"class","svelte-1im63hd")},m(h,_){N(h,e,_),R(e,t),R(t,n),x(i,t,null),N(h,a,_),u&&u.m(h,_),N(h,l,_),o=!0,s||(f=[Me(e,"mouseenter",r[4]),Me(e,"mouseleave",r[5]),Me(e,"click",r[6])],s=!0)},p(h,[_]){(!o||_&1)&&pe(n,h[0]);const d={};_&4&&(d.expandIcon=h[2]),i.$set(d),h[3]?u?u.p(h,_):(u=mr(h),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(h){o||(w(i.$$.fragment,h),o=!0)},o(h){M(i.$$.fragment,h),o=!1},d(h){h&&b(e),$(i),h&&b(a),u&&u.d(h),h&&b(l),s=!1,dt(f)}}}function Gl(r,e,t){let{subtitleText:n,additionalText:i}=e,a=!1,l=!1;const o=()=>{t(2,a=!0)},s=()=>{t(2,a=!1)},f=()=>{t(3,l=!l)};return r.$$set=u=>{"subtitleText"in u&&t(0,n=u.subtitleText),"additionalText"in u&&t(1,i=u.additionalText)},[n,i,a,l,o,s,f]}class Zl extends de{constructor(e){super(),_e(this,e,Gl,ql,me,{subtitleText:0,additionalText:1})}}function br(r){let e,t,n,i;return{c(){e=W("svg"),t=W("path"),this.h()},l(a){e=L(a,"svg",{class:!0,viewBox:!0,xmlns:!0,focusable:!0,fill:!0});var l=I(e);t=L(l,"path",{d:!0,"stroke-width":!0,fill:!0,stroke:!0}),I(t).forEach(b),l.forEach(b),this.h()},h(){c(t,"d",n=r[6][r[0]].d),c(t,"stroke-width",r[4]),c(t,"fill",r[5]),c(t,"stroke",r[3]),c(e,"class","ons-svg-icon"),c(e,"viewBox",i=r[6][r[0]].viewBox),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"focusable","false"),c(e,"fill","currentColor"),Ee(e,"ons-u-ml-xs",r[1]),Ee(e,"ons-u-mr-xs",r[2])},m(a,l){N(a,e,l),R(e,t)},p(a,l){l&1&&n!==(n=a[6][a[0]].d)&&c(t,"d",n),l&16&&c(t,"stroke-width",a[4]),l&32&&c(t,"fill",a[5]),l&8&&c(t,"stroke",a[3]),l&1&&i!==(i=a[6][a[0]].viewBox)&&c(e,"viewBox",i),l&2&&Ee(e,"ons-u-ml-xs",a[1]),l&4&&Ee(e,"ons-u-mr-xs",a[2])},d(a){a&&b(e)}}}function Yl(r){let e,t=r[6][r[0]]&&br(r);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,i){t&&t.m(n,i),N(n,e,i)},p(n,[i]){n[6][n[0]]?t?t.p(n,i):(t=br(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:oe,o:oe,d(n){t&&t.d(n),n&&b(e)}}}function jl(r,e,t){let{type:n="arrow"}=e,{marginLeft:i=!1}=e,{marginRight:a=!1}=e,{stroke:l,strokeWidth:o,fill:s}=e;const f={arrow:{d:"m10 .2-.9.9c-.1.1-.1.4 0 .5l4 4H.6c-.2 0-.4.2-.4.4v1.2c0 .2.2.4.4.4h12.5l-3.9 3.7c-.2.2-.2.4 0 .6l.8.9c.2.2.4.2.6 0L16.8 7c.2-.2.2-.4 0-.6L10.7.3c-.3-.2-.5-.2-.7-.1z",viewBox:"0 0 17 13"},externalLink:{d:"M13.5,9H13a.5.5,0,0,0-.5.5v3h-9v-9h3A.5.5,0,0,0,7,3V2.5A.5.5,0,0,0,6.5,2h-4a.5.5,0,0,0-.5.5v11a.5.5,0,0,0,.5.5h11a.5.5,0,0,0,.5-.5v-4A.5.5,0,0,0,13.5,9Z M8.83,7.88a.51.51,0,0,0,.71,0l2.31-2.32,1.28,1.28A.51.51,0,0,0,14,6.49v-4a.52.52,0,0,0-.5-.5h-4A.51.51,0,0,0,9,2.52a.58.58,0,0,0,.14.33l1.28,1.28L8.12,6.46a.51.51,0,0,0,0,.71Z",viewBox:"2 2 12 12"},signout:{d:"M13.85,7.65l-2.5-2.5a.5.5,0,0,0-.71,0,.48.48,0,0,0-.15.36V7h-3a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h3v1.5A.49.49,0,0,0,11,11a.48.48,0,0,0,.34-.14l2.51-2.5a.49.49,0,0,0,0-.68Z M8.5,14h-6a.5.5,0,0,1-.5-.5V2.5A.5.5,0,0,1,2.5,2h6a.5.5,0,0,1,.5.5V3a.5.5,0,0,1-.5.5h-5v9h5A.5.5,0,0,1,9,13v.5A.5.5,0,0,1,8.5,14Z",viewBox:"0 0 12 12"},print:{d:"M17 4H3C1.3 4 0 5.2 0 6.8v5.5h4V16h12v-3.7h4V6.8C20 5.2 18.7 4 17 4zm-3 10H6V9h8v5zm3-6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-1-8H4v3h12V0z",viewBox:"0 0 20 16"},download:{d:"M5.6 9a.48.48 0 0 0 .7 0l3-3.2a.48.48 0 0 0 0-.7C9.3 5 9.2 5 9 5H7.5V.5A.47.47 0 0 0 7 0H5a.47.47 0 0 0-.5.5V5H3a.47.47 0 0 0-.5.5.37.37 0 0 0 .1.3Z M11.5 9H11a.47.47 0 0 0-.5.5v1h-9v-1A.47.47 0 0 0 1 9H.5a.47.47 0 0 0-.5.5v2a.47.47 0 0 0 .5.5h11a.47.47 0 0 0 .5-.5v-2a.47.47 0 0 0-.5-.5Z",viewBox:"0 0 12 12"},tick:{d:"M14.35,3.9l-.71-.71a.5.5,0,0,0-.71,0h0L5.79,10.34,3.07,7.61a.51.51,0,0,0-.71,0l-.71.71a.51.51,0,0,0,0,.71l3.78,3.78a.5.5,0,0,0,.71,0h0L14.35,4.6A.5.5,0,0,0,14.35,3.9Z",viewBox:"1.5 3 13 10"},search:{d:"M11.86 10.23 8.62 6.99a4.63 4.63 0 1 0-6.34 1.64 4.55 4.55 0 0 0 2.36.64 4.65 4.65 0 0 0 2.33-.65l3.24 3.23a.46.46 0 0 0 .65 0l1-1a.48.48 0 0 0 0-.62Zm-5-3.32a3.28 3.28 0 0 1-2.31.93 3.22 3.22 0 1 1 2.35-.93Z",viewBox:"0 0 12 12"},edit:{d:"M 20 1 l-18 18 l0 3 l3 0 l18 -18 z M 17 4 l3 3 M4 17 l3 3",viewBox:"0 0 24 24"},cross:{d:"M 1 1 l22 22 M23 1 l-22 22",viewBox:"0 0 24 24"}};return r.$$set=u=>{"type"in u&&t(0,n=u.type),"marginLeft"in u&&t(1,i=u.marginLeft),"marginRight"in u&&t(2,a=u.marginRight),"stroke"in u&&t(3,l=u.stroke),"strokeWidth"in u&&t(4,o=u.strokeWidth),"fill"in u&&t(5,s=u.fill)},[n,i,a,l,o,s,f]}class mt extends de{constructor(e){super(),_e(this,e,jl,Yl,me,{type:0,marginLeft:1,marginRight:2,stroke:3,strokeWidth:4,fill:5})}}function Kl(r){let e,t,n,i,a,l,o,s,f=r[4]&&r[5]==="before"&&vr(r);const u=r[12].default,h=On(u,r,r[11],null);let _=r[4]&&r[5]==="after"&&Ar(r);return{c(){e=j("button"),t=j("span"),f&&f.c(),n=te(),i=j("span"),h&&h.c(),a=te(),_&&_.c(),this.h()},l(d){e=K(d,"BUTTON",{type:!0,class:!0});var m=I(e);t=K(m,"SPAN",{class:!0});var g=I(t);f&&f.l(g),n=re(g),i=K(g,"SPAN",{class:!0});var v=I(i);h&&h.l(v),v.forEach(b),a=re(g),_&&_.l(g),g.forEach(b),m.forEach(b),this.h()},h(){c(i,"class","ons-btn__text"),c(t,"class","ons-btn__inner"),c(e,"type",r[0]),c(e,"class","ons-btn"),e.disabled=r[6],Ee(e,"ons-btn--small",r[3]),Ee(e,"ons-btn--secondary",r[1]==="secondary"),Ee(e,"ons-btn--ghost",r[1]==="ghost"),Ee(e,"ons-btn--disabled",r[6])},m(d,m){N(d,e,m),R(e,t),f&&f.m(t,null),R(t,n),R(t,i),h&&h.m(i,null),R(t,a),_&&_.m(t,null),l=!0,o||(s=Me(e,"click",r[14]),o=!0)},p(d,m){d[4]&&d[5]==="before"?f?(f.p(d,m),m&48&&w(f,1)):(f=vr(d),f.c(),w(f,1),f.m(t,n)):f&&(ce(),M(f,1,1,()=>{f=null}),he()),h&&h.p&&(!l||m&2048)&&Sn(h,u,d,d[11],l?Fn(u,d[11],m,null):Vn(d[11]),null),d[4]&&d[5]==="after"?_?(_.p(d,m),m&48&&w(_,1)):(_=Ar(d),_.c(),w(_,1),_.m(t,null)):_&&(ce(),M(_,1,1,()=>{_=null}),he()),(!l||m&1)&&c(e,"type",d[0]),(!l||m&64)&&(e.disabled=d[6]),(!l||m&8)&&Ee(e,"ons-btn--small",d[3]),(!l||m&2)&&Ee(e,"ons-btn--secondary",d[1]==="secondary"),(!l||m&2)&&Ee(e,"ons-btn--ghost",d[1]==="ghost"),(!l||m&64)&&Ee(e,"ons-btn--disabled",d[6])},i(d){l||(w(f),w(h,d),w(_),l=!0)},o(d){M(f),M(h,d),M(_),l=!1},d(d){d&&b(e),f&&f.d(),h&&h.d(d),_&&_.d(),o=!1,s()}}}function Xl(r){let e,t,n,i,a,l,o,s,f,u=r[4]&&r[5]==="before"&&pr(r);const h=r[12].default,_=On(h,r,r[11],null);let d=r[4]&&r[5]==="after"&&yr(r);return{c(){e=j("a"),t=j("span"),u&&u.c(),n=te(),i=j("span"),_&&_.c(),a=te(),d&&d.c(),this.h()},l(m){e=K(m,"A",{href:!0,role:!0,class:!0,disabled:!0});var g=I(e);t=K(g,"SPAN",{class:!0});var v=I(t);u&&u.l(v),n=re(v),i=K(v,"SPAN",{class:!0});var A=I(i);_&&_.l(A),A.forEach(b),a=re(v),d&&d.l(v),v.forEach(b),g.forEach(b),this.h()},h(){c(i,"class","ons-btn__text"),c(t,"class","ons-btn__inner"),c(e,"href",l=r[6]?null:r[2]),c(e,"role","button"),c(e,"class","ons-btn ons-btn--link ons-js-submit-btn"),c(e,"disabled",r[6]),Ee(e,"ons-btn--small",r[3]),Ee(e,"ons-btn--secondary",r[1]==="secondary"),Ee(e,"ons-btn--ghost",r[1]==="ghost"),Ee(e,"ons-btn--disabled",r[6])},m(m,g){N(m,e,g),R(e,t),u&&u.m(t,null),R(t,n),R(t,i),_&&_.m(i,null),R(t,a),d&&d.m(t,null),o=!0,s||(f=Me(e,"click",r[13]),s=!0)},p(m,g){m[4]&&m[5]==="before"?u?(u.p(m,g),g&48&&w(u,1)):(u=pr(m),u.c(),w(u,1),u.m(t,n)):u&&(ce(),M(u,1,1,()=>{u=null}),he()),_&&_.p&&(!o||g&2048)&&Sn(_,h,m,m[11],o?Fn(h,m[11],g,null):Vn(m[11]),null),m[4]&&m[5]==="after"?d?(d.p(m,g),g&48&&w(d,1)):(d=yr(m),d.c(),w(d,1),d.m(t,null)):d&&(ce(),M(d,1,1,()=>{d=null}),he()),(!o||g&68&&l!==(l=m[6]?null:m[2]))&&c(e,"href",l),(!o||g&64)&&c(e,"disabled",m[6]),(!o||g&8)&&Ee(e,"ons-btn--small",m[3]),(!o||g&2)&&Ee(e,"ons-btn--secondary",m[1]==="secondary"),(!o||g&2)&&Ee(e,"ons-btn--ghost",m[1]==="ghost"),(!o||g&64)&&Ee(e,"ons-btn--disabled",m[6])},i(m){o||(w(u),w(_,m),w(d),o=!0)},o(m){M(u),M(_,m),M(d),o=!1},d(m){m&&b(e),u&&u.d(),_&&_.d(m),d&&d.d(),s=!1,f()}}}function vr(r){let e,t;return e=new mt({props:{type:r[4],marginRight:!0,stroke:r[7],strokeWidth:r[8],fill:r[9]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i&16&&(a.type=n[4]),i&128&&(a.stroke=n[7]),i&256&&(a.strokeWidth=n[8]),i&512&&(a.fill=n[9]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ar(r){let e,t;return e=new mt({props:{type:r[4],marginLeft:!0,stroke:r[7],strokeWidth:r[8],fill:r[9]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i&16&&(a.type=n[4]),i&128&&(a.stroke=n[7]),i&256&&(a.strokeWidth=n[8]),i&512&&(a.fill=n[9]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function pr(r){let e,t;return e=new mt({props:{type:r[4],marginRight:!0,stroke:r[7],strokeWidth:r[8],fill:r[9]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i&16&&(a.type=n[4]),i&128&&(a.stroke=n[7]),i&256&&(a.strokeWidth=n[8]),i&512&&(a.fill=n[9]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function yr(r){let e,t;return e=new mt({props:{type:r[4],marginLeft:!0,stroke:r[7],strokeWidth:r[8],fill:r[9]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i&16&&(a.type=n[4]),i&128&&(a.stroke=n[7]),i&256&&(a.strokeWidth=n[8]),i&512&&(a.fill=n[9]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ul(r){let e,t,n,i;const a=[Xl,Kl],l=[];function o(s,f){return s[2]?0:1}return e=o(r),t=l[e]=a[e](r),{c(){t.c(),n=ne()},l(s){t.l(s),n=ne()},m(s,f){l[e].m(s,f),N(s,n,f),i=!0},p(s,[f]){let u=e;e=o(s),e===u?l[e].p(s,f):(ce(),M(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(s,f):(t=l[e]=a[e](s),t.c()),w(t,1),t.m(n.parentNode,n))},i(s){i||(w(t),i=!0)},o(s){M(t),i=!1},d(s){l[e].d(s),s&&b(n)}}}function Ql(r,e,t){let{$$slots:n={},$$scope:i}=e;const a=li();let{type:l="button"}=e,{variant:o="primary"}=e,{href:s=""}=e,{small:f=!1}=e,{icon:u=""}=e,{iconPosition:h="before"}=e,{disabled:_=!1}=e,{stroke:d=null,strokeWidth:m=null,fill:g=null}=e;const v=y=>a("click",y),A=y=>a("click",y);return r.$$set=y=>{"type"in y&&t(0,l=y.type),"variant"in y&&t(1,o=y.variant),"href"in y&&t(2,s=y.href),"small"in y&&t(3,f=y.small),"icon"in y&&t(4,u=y.icon),"iconPosition"in y&&t(5,h=y.iconPosition),"disabled"in y&&t(6,_=y.disabled),"stroke"in y&&t(7,d=y.stroke),"strokeWidth"in y&&t(8,m=y.strokeWidth),"fill"in y&&t(9,g=y.fill),"$$scope"in y&&t(11,i=y.$$scope)},[l,o,s,f,u,h,_,d,m,g,a,i,n,v,A]}class Jn extends de{constructor(e){super(),_e(this,e,Ql,Ul,me,{type:0,variant:1,href:2,small:3,icon:4,iconPosition:5,disabled:6,stroke:7,strokeWidth:8,fill:9})}}function Jl(r){let e,t,n,i;return{c(){e=W("svg"),t=W("path"),this.h()},l(a){e=L(a,"svg",{cursor:!0,xmlns:!0,"aria-hidden":!0,viewBox:!0,width:!0});var l=I(e);t=L(l,"path",{stroke:!0,fill:!0,"stroke-width":!0,d:!0}),I(t).forEach(b),l.forEach(b),this.h()},h(){c(t,"stroke","currentcolor"),c(t,"fill","none"),c(t,"stroke-width","3.5px"),c(t,"d","M 1 1 l22 22 M23 1 l-22 22"),c(e,"cursor","pointer"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"aria-hidden","true"),c(e,"viewBox","0 0 36 30"),c(e,"width","20")},m(a,l){N(a,e,l),R(e,t),n||(i=Me(e,"click",r[1]),n=!0)},p:oe,d(a){a&&b(e),n=!1,i()}}}function xl(r){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(n){e=L(n,"svg",{xmlns:!0,"aria-hidden":!0,viewBox:!0,width:!0});var i=I(e);t=L(i,"path",{fill:!0,d:!0}),I(t).forEach(b),i.forEach(b),this.h()},h(){c(t,"fill","currentcolor"),c(t,"d","M11.86 10.23 8.62 6.99a4.63 4.63 0 1 0-6.34 1.64 4.55 4.55 0 0 0 2.36.64 4.65 4.65 0 0 0 2.33-.65l3.24 3.23a.46.46 0 0 0 .65 0l1-1a.48.48 0 0 0 0-.62Zm-5-3.32a3.28 3.28 0 0 1-2.31.93 3.22 3.22 0 1 1 2.35-.93Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"aria-hidden","true"),c(e,"viewBox","0 0 14 14"),c(e,"width","20")},m(n,i){N(n,e,i),R(e,t)},p:oe,d(n){n&&b(e)}}}function $l(r){let e,t,n,i,a,l;function o(u,h){return u[0]===""?xl:Jl}let s=o(r),f=s(r);return{c(){e=j("div"),t=j("div"),n=j("input"),i=te(),f.c(),this.h()},l(u){e=K(u,"DIV",{class:!0});var h=I(e);t=K(h,"DIV",{class:!0});var _=I(t);n=K(_,"INPUT",{placeholder:!0,class:!0}),i=re(_),f.l(_),_.forEach(b),h.forEach(b),this.h()},h(){c(n,"placeholder","Type to search areas"),c(n,"class","svelte-16719b9"),c(t,"class","input-container svelte-16719b9"),c(e,"class","input-container-focused-border svelte-16719b9")},m(u,h){N(u,e,h),R(e,t),R(t,n),Tt(n,r[0]),R(t,i),f.m(t,null),a||(l=Me(n,"input",r[2]),a=!0)},p(u,[h]){h&1&&n.value!==u[0]&&Tt(n,u[0]),s===(s=o(u))&&f?f.p(u,h):(f.d(1),f=s(u),f&&(f.c(),f.m(t,null)))},i:oe,o:oe,d(u){u&&b(e),f.d(),a=!1,l()}}}function ea(r,e,t){let{searchText:n}=e;const i=()=>{t(0,n="")};function a(){n=this.value,t(0,n)}return r.$$set=l=>{"searchText"in l&&t(0,n=l.searchText)},[n,i,a]}class ta extends de{constructor(e){super(),_e(this,e,ea,$l,me,{searchText:0})}}function ra(r){let e,t,n=r[0]["areanm"in r[0]?"areanm":"label"]+"",i,a,l,o,s,f;return{c(){e=j("button"),t=j("span"),i=be(n),a=te(),l=W("svg"),o=W("path"),this.h()},l(u){e=K(u,"BUTTON",{class:!0,style:!0});var h=I(e);t=K(h,"SPAN",{style:!0});var _=I(t);i=ve(_,n),_.forEach(b),a=re(h),l=L(h,"svg",{cursor:!0,xmlns:!0,"aria-hidden":!0,viewBox:!0,width:!0});var d=I(l);o=L(d,"path",{stroke:!0,fill:!0,"stroke-width":!0,d:!0}),I(o).forEach(b),d.forEach(b),h.forEach(b),this.h()},h(){Ve(t,"color",r[1]),c(o,"stroke",r[1]),c(o,"fill","none"),c(o,"stroke-width","3px"),c(o,"d","M 1 1 l22 22 M23 1 l-22 22"),c(l,"cursor","pointer"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"aria-hidden","true"),c(l,"viewBox","0 0 36 24"),c(l,"width","20"),c(e,"class","visible-area-container svelte-4273sc"),Ve(e,"background-color",r[2])},m(u,h){N(u,e,h),R(e,t),R(t,i),R(e,a),R(e,l),R(l,o),s||(f=Me(e,"click",r[3]),s=!0)},p(u,[h]){h&1&&n!==(n=u[0]["areanm"in u[0]?"areanm":"label"]+"")&&pe(i,n),h&2&&Ve(t,"color",u[1]),h&2&&c(o,"stroke",u[1]),h&4&&Ve(e,"background-color",u[2])},i:oe,o:oe,d(u){u&&b(e),s=!1,f()}}}function na(r,e,t){let n,i,{areaType:a}=e,{chosenParentAreasArray:l,chosenRelatedAreasArray:o,chosenSameRegionArray:s,chosenCountriesArray:f,chosenRegionsArray:u,chosenAllOtherArray:h}=e;const _=()=>{"areanm"in a?(t(4,l=l.filter(d=>d!=a.areacd)),t(6,s=s.filter(d=>d!=a.areacd)),t(7,f=f.filter(d=>d!=a.areacd)),t(8,u=u.filter(d=>d!=a.areacd)),t(9,h=h.filter(d=>d!=a.areacd))):t(5,o=o.filter(d=>d!=a.role))};return r.$$set=d=>{"areaType"in d&&t(0,a=d.areaType),"chosenParentAreasArray"in d&&t(4,l=d.chosenParentAreasArray),"chosenRelatedAreasArray"in d&&t(5,o=d.chosenRelatedAreasArray),"chosenSameRegionArray"in d&&t(6,s=d.chosenSameRegionArray),"chosenCountriesArray"in d&&t(7,f=d.chosenCountriesArray),"chosenRegionsArray"in d&&t(8,u=d.chosenRegionsArray),"chosenAllOtherArray"in d&&t(9,h=d.chosenAllOtherArray)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=ue[a.role in ue?a.role:"default"].color),r.$$.dirty&1&&t(1,i=ue[a.role in ue?a.role:"default"].contrast)},[a,i,n,_,l,o,s,f,u,h]}class ia extends de{constructor(e){super(),_e(this,e,na,ra,me,{areaType:0,chosenParentAreasArray:4,chosenRelatedAreasArray:5,chosenSameRegionArray:6,chosenCountriesArray:7,chosenRegionsArray:8,chosenAllOtherArray:9})}}function kr(r,e,t){const n=r.slice();return n[13]=e[t],n}function wr(r){let e,t,n,i,a,l,o,s;function f(v){r[7](v)}function u(v){r[8](v)}function h(v){r[9](v)}function _(v){r[10](v)}function d(v){r[11](v)}function m(v){r[12](v)}let g={areaType:r[13]};return r[0]!==void 0&&(g.chosenParentAreasArray=r[0]),r[1]!==void 0&&(g.chosenRelatedAreasArray=r[1]),r[2]!==void 0&&(g.chosenSameRegionArray=r[2]),r[3]!==void 0&&(g.chosenCountriesArray=r[3]),r[4]!==void 0&&(g.chosenRegionsArray=r[4]),r[5]!==void 0&&(g.chosenAllOtherArray=r[5]),e=new ia({props:g}),ie.push(()=>le(e,"chosenParentAreasArray",f)),ie.push(()=>le(e,"chosenRelatedAreasArray",u)),ie.push(()=>le(e,"chosenSameRegionArray",h)),ie.push(()=>le(e,"chosenCountriesArray",_)),ie.push(()=>le(e,"chosenRegionsArray",d)),ie.push(()=>le(e,"chosenAllOtherArray",m)),{c(){Q(e.$$.fragment)},l(v){J(e.$$.fragment,v)},m(v,A){x(e,v,A),s=!0},p(v,A){const y={};A&64&&(y.areaType=v[13]),!t&&A&1&&(t=!0,y.chosenParentAreasArray=v[0],ae(()=>t=!1)),!n&&A&2&&(n=!0,y.chosenRelatedAreasArray=v[1],ae(()=>n=!1)),!i&&A&4&&(i=!0,y.chosenSameRegionArray=v[2],ae(()=>i=!1)),!a&&A&8&&(a=!0,y.chosenCountriesArray=v[3],ae(()=>a=!1)),!l&&A&16&&(l=!0,y.chosenRegionsArray=v[4],ae(()=>l=!1)),!o&&A&32&&(o=!0,y.chosenAllOtherArray=v[5],ae(()=>o=!1)),e.$set(y)},i(v){s||(w(e.$$.fragment,v),s=!0)},o(v){M(e.$$.fragment,v),s=!1},d(v){$(e,v)}}}function la(r){let e,t,n=r[6],i=[];for(let l=0;l<n.length;l+=1)i[l]=wr(kr(r,n,l));const a=l=>M(i[l],1,1,()=>{i[l]=null});return{c(){e=j("div");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){e=K(l,"DIV",{class:!0});var o=I(e);for(let s=0;s<i.length;s+=1)i[s].l(o);o.forEach(b),this.h()},h(){c(e,"class","visible-areas-container svelte-5en97q")},m(l,o){N(l,e,o);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);t=!0},p(l,[o]){if(o&127){n=l[6];let s;for(s=0;s<n.length;s+=1){const f=kr(l,n,s);i[s]?(i[s].p(f,o),w(i[s],1)):(i[s]=wr(f),i[s].c(),w(i[s],1),i[s].m(e,null))}for(ce(),s=n.length;s<i.length;s+=1)a(s);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)M(i[o]);t=!1},d(l){l&&b(e),Ae(i,l)}}}function aa(r,e,t){let{visibleAreaTypesWithData:n}=e,{chosenParentAreasArray:i,chosenRelatedAreasArray:a,chosenSameRegionArray:l,chosenCountriesArray:o,chosenRegionsArray:s,chosenAllOtherArray:f}=e;function u(v){i=v,t(0,i)}function h(v){a=v,t(1,a)}function _(v){l=v,t(2,l)}function d(v){o=v,t(3,o)}function m(v){s=v,t(4,s)}function g(v){f=v,t(5,f)}return r.$$set=v=>{"visibleAreaTypesWithData"in v&&t(6,n=v.visibleAreaTypesWithData),"chosenParentAreasArray"in v&&t(0,i=v.chosenParentAreasArray),"chosenRelatedAreasArray"in v&&t(1,a=v.chosenRelatedAreasArray),"chosenSameRegionArray"in v&&t(2,l=v.chosenSameRegionArray),"chosenCountriesArray"in v&&t(3,o=v.chosenCountriesArray),"chosenRegionsArray"in v&&t(4,s=v.chosenRegionsArray),"chosenAllOtherArray"in v&&t(5,f=v.chosenAllOtherArray)},[i,a,l,o,s,f,n,u,h,_,d,m,g]}class oa extends de{constructor(e){super(),_e(this,e,aa,la,me,{visibleAreaTypesWithData:6,chosenParentAreasArray:0,chosenRelatedAreasArray:1,chosenSameRegionArray:2,chosenCountriesArray:3,chosenRegionsArray:4,chosenAllOtherArray:5})}}function Ir(r){let e,t;return e=new Jn({props:{small:!0,icon:"edit",variant:"secondary",strokeWidth:"1.5px",stroke:"currentcolor",fill:"none",$$slots:{default:[sa]},$$scope:{ctx:r}}}),e.$on("click",r[17]),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[1]&512&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function sa(r){let e;return{c(){e=be("Add/remove comparison areas")},l(t){e=ve(t,"Add/remove comparison areas")},m(t,n){N(t,e,n)},d(t){t&&b(e)}}}function Rr(r){let e,t,n,i,a,l,o,s,f,u,h,_,d,m,g,v,A,y,V,P,z,S,E,p,k,Z,q,G,D,U,Y,F;l=new Jn({props:{small:!0,icon:"cross",variant:"secondary",stroke:"currentcolor",fill:"none",strokeWidth:"2.5px"}}),l.$on("click",r[18]);function ye(X){r[26](X)}function O(X){r[27](X)}function Ce(X){r[28](X)}function C(X){r[29](X)}function ee(X){r[30](X)}function ke(X){r[31](X)}let Ne={visibleAreaTypesWithData:r[8]};r[0]!==void 0&&(Ne.chosenParentAreasArray=r[0]),r[1]!==void 0&&(Ne.chosenRelatedAreasArray=r[1]),r[2]!==void 0&&(Ne.chosenSameRegionArray=r[2]),r[3]!==void 0&&(Ne.chosenCountriesArray=r[3]),r[4]!==void 0&&(Ne.chosenRegionsArray=r[4]),r[5]!==void 0&&(Ne.chosenAllOtherArray=r[5]),s=new oa({props:Ne}),ie.push(()=>le(s,"chosenParentAreasArray",ye)),ie.push(()=>le(s,"chosenRelatedAreasArray",O)),ie.push(()=>le(s,"chosenSameRegionArray",Ce)),ie.push(()=>le(s,"chosenCountriesArray",C)),ie.push(()=>le(s,"chosenRegionsArray",ee)),ie.push(()=>le(s,"chosenAllOtherArray",ke)),v=new He({props:{orientation:"vertical"}});let ge=r[16].length>0&&Dr(r),se=r[16].length>0&&r[15].length>0&&Cr(),T=r[15].length>0&&Er(r);S=new He({props:{orientation:"vertical"}});function H(X){r[34](X)}let nt={};r[9]!==void 0&&(nt.searchText=r[9]),Z=new ta({props:nt}),ie.push(()=>le(Z,"searchText",H));let we=r[14].length>0&&Mr(r),Ie=r[13].length>0&&r[6].geogLevel!="country"&&Nr(r),Re=r[12].length>0&&r[6].geogLevel!="region"&&Pr(r),De=r[11].length>0&&Tr(r);return{c(){e=j("div"),t=j("div"),n=j("p"),i=be("Add/remove comparison areas"),a=te(),Q(l.$$.fragment),o=te(),Q(s.$$.fragment),g=te(),Q(v.$$.fragment),A=te(),y=j("div"),ge&&ge.c(),V=te(),se&&se.c(),P=te(),T&&T.c(),z=te(),Q(S.$$.fragment),E=te(),p=j("div"),k=j("div"),Q(Z.$$.fragment),G=te(),we&&we.c(),D=te(),Ie&&Ie.c(),U=te(),Re&&Re.c(),Y=te(),De&&De.c(),this.h()},l(X){e=K(X,"DIV",{class:!0});var fe=I(e);t=K(fe,"DIV",{class:!0});var B=I(t);n=K(B,"P",{class:!0});var Le=I(n);i=ve(Le,"Add/remove comparison areas"),Le.forEach(b),a=re(B),J(l.$$.fragment,B),B.forEach(b),o=re(fe),J(s.$$.fragment,fe),g=re(fe),J(v.$$.fragment,fe),A=re(fe),y=K(fe,"DIV",{class:!0});var je=I(y);ge&&ge.l(je),V=re(je),se&&se.l(je),P=re(je),T&&T.l(je),je.forEach(b),z=re(fe),J(S.$$.fragment,fe),E=re(fe),p=K(fe,"DIV",{class:!0});var Oe=I(p);k=K(Oe,"DIV",{class:!0});var Nt=I(k);J(Z.$$.fragment,Nt),Nt.forEach(b),G=re(Oe),we&&we.l(Oe),D=re(Oe),Ie&&Ie.l(Oe),U=re(Oe),Re&&Re.l(Oe),Y=re(Oe),De&&De.l(Oe),Oe.forEach(b),fe.forEach(b),this.h()},h(){c(n,"class","modal-title svelte-1a1mim1"),c(t,"class","row-container title-exit-button-container svelte-1a1mim1"),c(y,"class","row-container parent-related-checkboxes-container svelte-1a1mim1"),c(k,"class","sticky svelte-1a1mim1"),c(p,"class","sticky-container svelte-1a1mim1"),c(e,"class","add-comparison-areas-container svelte-1a1mim1")},m(X,fe){N(X,e,fe),R(e,t),R(t,n),R(n,i),R(t,a),x(l,t,null),R(e,o),x(s,e,null),R(e,g),x(v,e,null),R(e,A),R(e,y),ge&&ge.m(y,null),R(y,V),se&&se.m(y,null),R(y,P),T&&T.m(y,null),R(e,z),x(S,e,null),R(e,E),R(e,p),R(p,k),x(Z,k,null),R(p,G),we&&we.m(p,null),R(p,D),Ie&&Ie.m(p,null),R(p,U),Re&&Re.m(p,null),R(p,Y),De&&De.m(p,null),F=!0},p(X,fe){const B={};fe[0]&256&&(B.visibleAreaTypesWithData=X[8]),!f&&fe[0]&1&&(f=!0,B.chosenParentAreasArray=X[0],ae(()=>f=!1)),!u&&fe[0]&2&&(u=!0,B.chosenRelatedAreasArray=X[1],ae(()=>u=!1)),!h&&fe[0]&4&&(h=!0,B.chosenSameRegionArray=X[2],ae(()=>h=!1)),!_&&fe[0]&8&&(_=!0,B.chosenCountriesArray=X[3],ae(()=>_=!1)),!d&&fe[0]&16&&(d=!0,B.chosenRegionsArray=X[4],ae(()=>d=!1)),!m&&fe[0]&32&&(m=!0,B.chosenAllOtherArray=X[5],ae(()=>m=!1)),s.$set(B),X[16].length>0?ge?(ge.p(X,fe),fe[0]&65536&&w(ge,1)):(ge=Dr(X),ge.c(),w(ge,1),ge.m(y,V)):ge&&(ce(),M(ge,1,1,()=>{ge=null}),he()),X[16].length>0&&X[15].length>0?se?fe[0]&98304&&w(se,1):(se=Cr(),se.c(),w(se,1),se.m(y,P)):se&&(ce(),M(se,1,1,()=>{se=null}),he()),X[15].length>0?T?(T.p(X,fe),fe[0]&32768&&w(T,1)):(T=Er(X),T.c(),w(T,1),T.m(y,null)):T&&(ce(),M(T,1,1,()=>{T=null}),he());const Le={};!q&&fe[0]&512&&(q=!0,Le.searchText=X[9],ae(()=>q=!1)),Z.$set(Le),X[14].length>0?we?(we.p(X,fe),fe[0]&16384&&w(we,1)):(we=Mr(X),we.c(),w(we,1),we.m(p,D)):we&&(ce(),M(we,1,1,()=>{we=null}),he()),X[13].length>0&&X[6].geogLevel!="country"?Ie?(Ie.p(X,fe),fe[0]&8256&&w(Ie,1)):(Ie=Nr(X),Ie.c(),w(Ie,1),Ie.m(p,U)):Ie&&(ce(),M(Ie,1,1,()=>{Ie=null}),he()),X[12].length>0&&X[6].geogLevel!="region"?Re?(Re.p(X,fe),fe[0]&4160&&w(Re,1)):(Re=Pr(X),Re.c(),w(Re,1),Re.m(p,Y)):Re&&(ce(),M(Re,1,1,()=>{Re=null}),he()),X[11].length>0?De?(De.p(X,fe),fe[0]&2048&&w(De,1)):(De=Tr(X),De.c(),w(De,1),De.m(p,null)):De&&(ce(),M(De,1,1,()=>{De=null}),he())},i(X){F||(w(l.$$.fragment,X),w(s.$$.fragment,X),w(v.$$.fragment,X),w(ge),w(se),w(T),w(S.$$.fragment,X),w(Z.$$.fragment,X),w(we),w(Ie),w(Re),w(De),F=!0)},o(X){M(l.$$.fragment,X),M(s.$$.fragment,X),M(v.$$.fragment,X),M(ge),M(se),M(T),M(S.$$.fragment,X),M(Z.$$.fragment,X),M(we),M(Ie),M(Re),M(De),F=!1},d(X){X&&b(e),$(l),$(s),$(v),ge&&ge.d(),se&&se.d(),T&&T.d(),$(S),$(Z),we&&we.d(),Ie&&Ie.d(),Re&&Re.d(),De&&De.d()}}}function Dr(r){let e,t,n,i;function a(o){r[32](o)}let l={title:"Parent areas:",name:"parent-areas-checkbox-selection",optionsArray:r[16],labelKey:"areanm",idKey:"areacd"};return r[0]!==void 0&&(l.valueArray=r[0]),t=new Je({props:l}),ie.push(()=>le(t,"valueArray",a)),{c(){e=j("div"),Q(t.$$.fragment),this.h()},l(o){e=K(o,"DIV",{class:!0});var s=I(e);J(t.$$.fragment,s),s.forEach(b),this.h()},h(){c(e,"class","column-container svelte-1a1mim1")},m(o,s){N(o,e,s),x(t,e,null),i=!0},p(o,s){const f={};s[0]&65536&&(f.optionsArray=o[16]),!n&&s[0]&1&&(n=!0,f.valueArray=o[0],ae(()=>n=!1)),t.$set(f)},i(o){i||(w(t.$$.fragment,o),i=!0)},o(o){M(t.$$.fragment,o),i=!1},d(o){o&&b(e),$(t)}}}function Cr(r){let e,t;return e=new He({props:{orientation:"horizontal"}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Er(r){let e,t,n,i;function a(o){r[33](o)}let l={title:"Related areas:",name:"related-areas-checkbox-selection",optionsArray:r[15],labelKey:"label",idKey:"id"};return r[1]!==void 0&&(l.valueArray=r[1]),t=new Je({props:l}),ie.push(()=>le(t,"valueArray",a)),{c(){e=j("div"),Q(t.$$.fragment),this.h()},l(o){e=K(o,"DIV",{class:!0});var s=I(e);J(t.$$.fragment,s),s.forEach(b),this.h()},h(){c(e,"class","column-container svelte-1a1mim1")},m(o,s){N(o,e,s),x(t,e,null),i=!0},p(o,s){const f={};s[0]&32768&&(f.optionsArray=o[15]),!n&&s[0]&2&&(n=!0,f.valueArray=o[1],ae(()=>n=!1)),t.$set(f)},i(o){i||(w(t.$$.fragment,o),i=!0)},o(o){M(t.$$.fragment,o),i=!1},d(o){o&&b(e),$(t)}}}function Mr(r){let e,t,n,i,a,l;function o(f){r[35](f)}let s={title:r[7]+":",name:"parent-areas-checkbox-selection",optionsArray:r[14],labelKey:"areanm",idKey:"areacd",columns:"2"};return r[2]!==void 0&&(s.valueArray=r[2]),t=new Je({props:s}),ie.push(()=>le(t,"valueArray",o)),a=new He({props:{orientation:"vertical"}}),{c(){e=j("div"),Q(t.$$.fragment),i=te(),Q(a.$$.fragment),this.h()},l(f){e=K(f,"DIV",{class:!0});var u=I(e);J(t.$$.fragment,u),u.forEach(b),i=re(f),J(a.$$.fragment,f),this.h()},h(){c(e,"class","checkbox-grid-container svelte-1a1mim1")},m(f,u){N(f,e,u),x(t,e,null),N(f,i,u),x(a,f,u),l=!0},p(f,u){const h={};u[0]&128&&(h.title=f[7]+":"),u[0]&16384&&(h.optionsArray=f[14]),!n&&u[0]&4&&(n=!0,h.valueArray=f[2],ae(()=>n=!1)),t.$set(h)},i(f){l||(w(t.$$.fragment,f),w(a.$$.fragment,f),l=!0)},o(f){M(t.$$.fragment,f),M(a.$$.fragment,f),l=!1},d(f){f&&b(e),$(t),f&&b(i),$(a,f)}}}function Nr(r){let e,t,n,i,a,l;function o(f){r[36](f)}let s={title:"Countries:",name:"parent-areas-checkbox-selection",optionsArray:r[13],labelKey:"areanm",idKey:"areacd",columns:"2"};return r[3]!==void 0&&(s.valueArray=r[3]),t=new Je({props:s}),ie.push(()=>le(t,"valueArray",o)),a=new He({props:{orientation:"vertical"}}),{c(){e=j("div"),Q(t.$$.fragment),i=te(),Q(a.$$.fragment),this.h()},l(f){e=K(f,"DIV",{class:!0});var u=I(e);J(t.$$.fragment,u),u.forEach(b),i=re(f),J(a.$$.fragment,f),this.h()},h(){c(e,"class","checkbox-grid-container svelte-1a1mim1")},m(f,u){N(f,e,u),x(t,e,null),N(f,i,u),x(a,f,u),l=!0},p(f,u){const h={};u[0]&8192&&(h.optionsArray=f[13]),!n&&u[0]&8&&(n=!0,h.valueArray=f[3],ae(()=>n=!1)),t.$set(h)},i(f){l||(w(t.$$.fragment,f),w(a.$$.fragment,f),l=!0)},o(f){M(t.$$.fragment,f),M(a.$$.fragment,f),l=!1},d(f){f&&b(e),$(t),f&&b(i),$(a,f)}}}function Pr(r){let e,t,n,i,a,l;function o(f){r[37](f)}let s={title:"Regions of England:",name:"parent-areas-checkbox-selection",optionsArray:r[12],labelKey:"areanm",idKey:"areacd",columns:"2"};return r[4]!==void 0&&(s.valueArray=r[4]),t=new Je({props:s}),ie.push(()=>le(t,"valueArray",o)),a=new He({props:{orientation:"vertical"}}),{c(){e=j("div"),Q(t.$$.fragment),i=te(),Q(a.$$.fragment),this.h()},l(f){e=K(f,"DIV",{class:!0});var u=I(e);J(t.$$.fragment,u),u.forEach(b),i=re(f),J(a.$$.fragment,f),this.h()},h(){c(e,"class","checkbox-grid-container svelte-1a1mim1")},m(f,u){N(f,e,u),x(t,e,null),N(f,i,u),x(a,f,u),l=!0},p(f,u){const h={};u[0]&4096&&(h.optionsArray=f[12]),!n&&u[0]&16&&(n=!0,h.valueArray=f[4],ae(()=>n=!1)),t.$set(h)},i(f){l||(w(t.$$.fragment,f),w(a.$$.fragment,f),l=!0)},o(f){M(t.$$.fragment,f),M(a.$$.fragment,f),l=!1},d(f){f&&b(e),$(t),f&&b(i),$(a,f)}}}function Tr(r){let e,t,n,i;function a(o){r[38](o)}let l={title:"All other areas:",name:"parent-areas-checkbox-selection",optionsArray:r[11],labelKey:"areanm",idKey:"areacd",columns:"2"};return r[5]!==void 0&&(l.valueArray=r[5]),t=new Je({props:l}),ie.push(()=>le(t,"valueArray",a)),{c(){e=j("div"),Q(t.$$.fragment),this.h()},l(o){e=K(o,"DIV",{class:!0});var s=I(e);J(t.$$.fragment,s),s.forEach(b),this.h()},h(){c(e,"class","checkbox-grid-container svelte-1a1mim1")},m(o,s){N(o,e,s),x(t,e,null),i=!0},p(o,s){const f={};s[0]&2048&&(f.optionsArray=o[11]),!n&&s[0]&32&&(n=!0,f.valueArray=o[5],ae(()=>n=!1)),t.$set(f)},i(o){i||(w(t.$$.fragment,o),i=!0)},o(o){M(t.$$.fragment,o),i=!1},d(o){o&&b(e),$(t)}}}function fa(r){let e,t,n,i=!r[10]&&Ir(r),a=r[10]&&Rr(r);return{c(){i&&i.c(),e=te(),a&&a.c(),t=ne()},l(l){i&&i.l(l),e=re(l),a&&a.l(l),t=ne()},m(l,o){i&&i.m(l,o),N(l,e,o),a&&a.m(l,o),N(l,t,o),n=!0},p(l,o){l[10]?i&&(ce(),M(i,1,1,()=>{i=null}),he()):i?(i.p(l,o),o[0]&1024&&w(i,1)):(i=Ir(l),i.c(),w(i,1),i.m(e.parentNode,e)),l[10]?a?(a.p(l,o),o[0]&1024&&w(a,1)):(a=Rr(l),a.c(),w(a,1),a.m(t.parentNode,t)):a&&(ce(),M(a,1,1,()=>{a=null}),he())},i(l){n||(w(i),w(a),n=!0)},o(l){M(i),M(a),n=!1},d(l){i&&i.d(l),l&&b(e),a&&a.d(l),l&&b(t)}}}function ua(r,e,t){let n,i,a,l,o,s,f,u,h,{selectedArea:_,sameRegionsLabel:d,areasCodesForAreasWithData:m,selectedAndRelatedAreas:g,selectedAndRelatedAreasCodes:v,sameRegionAreasCodes:A,visibleAreaTypesWithData:y}=e,{chosenParentAreasArray:V,chosenRelatedAreasArray:P,chosenSameRegionArray:z,chosenCountriesArray:S,chosenRegionsArray:E,chosenAllOtherArray:p}=e,k=!1;const Z=()=>{t(10,k=!0)},q=()=>{t(10,k=!1)};let G="",D=Pe("areasArray");function U(H){V=H,t(0,V)}function Y(H){P=H,t(1,P)}function F(H){z=H,t(2,z)}function ye(H){S=H,t(3,S)}function O(H){E=H,t(4,E)}function Ce(H){p=H,t(5,p)}function C(H){V=H,t(0,V)}function ee(H){P=H,t(1,P)}function ke(H){G=H,t(9,G)}function Ne(H){z=H,t(2,z)}function ge(H){S=H,t(3,S)}function se(H){E=H,t(4,E)}function T(H){p=H,t(5,p)}return r.$$set=H=>{"selectedArea"in H&&t(6,_=H.selectedArea),"sameRegionsLabel"in H&&t(7,d=H.sameRegionsLabel),"areasCodesForAreasWithData"in H&&t(19,m=H.areasCodesForAreasWithData),"selectedAndRelatedAreas"in H&&t(20,g=H.selectedAndRelatedAreas),"selectedAndRelatedAreasCodes"in H&&t(21,v=H.selectedAndRelatedAreasCodes),"sameRegionAreasCodes"in H&&t(22,A=H.sameRegionAreasCodes),"visibleAreaTypesWithData"in H&&t(8,y=H.visibleAreaTypesWithData),"chosenParentAreasArray"in H&&t(0,V=H.chosenParentAreasArray),"chosenRelatedAreasArray"in H&&t(1,P=H.chosenRelatedAreasArray),"chosenSameRegionArray"in H&&t(2,z=H.chosenSameRegionArray),"chosenCountriesArray"in H&&t(3,S=H.chosenCountriesArray),"chosenRegionsArray"in H&&t(4,E=H.chosenRegionsArray),"chosenAllOtherArray"in H&&t(5,p=H.chosenAllOtherArray)},r.$$.update=()=>{r.$$.dirty[0]&512&&t(25,n=G?new RegExp(G,"i"):null),r.$$.dirty[0]&524352&&t(24,i=D.filter(H=>m.includes(H.areacd)&H.areacd!=_.areacd)),r.$$.dirty[0]&50331648&&t(23,a=n?i.filter(H=>n.test(H.areanm)):i),r.$$.dirty[0]&18874368&&t(16,l=i.filter(H=>v.includes(H.areacd))),r.$$.dirty[0]&4718720&&t(15,o=[hi(m,A)&&d?{id:"sameRegion",label:d}:void 0].filter(H=>H)),r.$$.dirty[0]&14680064&&t(14,s=a.filter(H=>A.includes(H.areacd)&&!v.includes(H.areacd))),r.$$.dirty[0]&10485760&&t(13,f=a.filter(H=>H.geogLevel==="country"&&!v.includes(H.areacd))),r.$$.dirty[0]&10485760&&t(12,u=a.filter(H=>H.geogLevel==="region"&&!v.includes(H.areacd))),r.$$.dirty[0]&14680064&&t(11,h=a.filter(H=>H.geogLevel!="other"&&!A.includes(H.areacd)&&!["country","region"].includes(H.geogLevel)&&!v.includes(H.areacd)))},[V,P,z,S,E,p,_,d,y,G,k,h,u,f,s,o,l,Z,q,m,g,v,A,a,i,n,U,Y,F,ye,O,Ce,C,ee,ke,Ne,ge,se,T]}class ca extends de{constructor(e){super(),_e(this,e,ua,fa,me,{selectedArea:6,sameRegionsLabel:7,areasCodesForAreasWithData:19,selectedAndRelatedAreas:20,selectedAndRelatedAreasCodes:21,sameRegionAreasCodes:22,visibleAreaTypesWithData:8,chosenParentAreasArray:0,chosenRelatedAreasArray:1,chosenSameRegionArray:2,chosenCountriesArray:3,chosenRegionsArray:4,chosenAllOtherArray:5},null,[-1,-1])}}function xn(r,e,t,n){r=r.map(a=>({targetY:t(a),y:t(a),height:n(a),datum:a})),r.sort((a,l)=>a.targetY-l.targetY);const i=[];for(const a of r){const l={data:[a]};for(Wr(l,e),i.push(l);i.length>1&&i[i.length-2].hi>i[i.length-1].lo;){const o=i.pop(),s=i[i.length-1];s.data.push(...o.data),Wr(s,e)}}return i.map(a=>a.data).flat()}function Wr(r,e){const t=da(r.data),n=ha(r.data,t);r.lo=n-t/2,r.lo<e[0]?r.lo=e[0]:r.lo>e[1]-t&&(r.lo=e[1]-t),r.hi=r.lo+t,$n(r.data,r.lo,(i,a)=>{i.y=a})}function ha(r,e){const t=[];return $n(r,-e/2,(n,i)=>{t.push({val:n.targetY-i,weight:1/n.height})}),_a(t)}function $n(r,e,t){let n=e;for(const i of r)n+=i.height/2,t(i,n),n+=i.height/2}function da(r){let e=0;for(const t of r)e+=t.height;return e}function _a(r){let e=0,t=0;for(const n of r)e+=n.val*n.weight,t+=n.weight;return e/t}function Ke(r){return function(){return r}}const It=Math.PI,Rt=2*It,qe=1e-6,ma=Rt-qe;function ei(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function ga(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return ei;const t=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+n[i]}}class ba{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ei:ga(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,i){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,t,n,i,a,l){this._append`C${+e},${+t},${+n},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,t,n,i,a){if(e=+e,t=+t,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,o=this._y1,s=n-e,f=i-t,u=l-e,h=o-t,_=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(_>qe)if(!(Math.abs(h*s-f*u)>qe)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let d=n-l,m=i-o,g=s*s+f*f,v=d*d+m*m,A=Math.sqrt(g),y=Math.sqrt(_),V=a*Math.tan((It-Math.acos((g+_-v)/(2*A*y)))/2),P=V/y,z=V/A;Math.abs(P-1)>qe&&this._append`L${e+P*u},${t+P*h}`,this._append`A${a},${a},0,0,${+(h*d>u*m)},${this._x1=e+z*s},${this._y1=t+z*f}`}}arc(e,t,n,i,a,l){if(e=+e,t=+t,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),s=n*Math.sin(i),f=e+o,u=t+s,h=1^l,_=l?i-a:a-i;this._x1===null?this._append`M${f},${u}`:(Math.abs(this._x1-f)>qe||Math.abs(this._y1-u)>qe)&&this._append`L${f},${u}`,n&&(_<0&&(_=_%Rt+Rt),_>ma?this._append`A${n},${n},0,1,${h},${e-o},${t-s}A${n},${n},0,1,${h},${this._x1=f},${this._y1=u}`:_>qe&&this._append`A${n},${n},0,${+(_>=It)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function va(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new ba(e)}function Aa(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function ti(r){this._context=r}ti.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function pa(r){return new ti(r)}function ya(r){return r[0]}function ka(r){return r[1]}function ri(r,e){var t=Ke(!0),n=null,i=pa,a=null,l=va(o);r=typeof r=="function"?r:r===void 0?ya:Ke(r),e=typeof e=="function"?e:e===void 0?ka:Ke(e);function o(s){var f,u=(s=Aa(s)).length,h,_=!1,d;for(n==null&&(a=i(d=l())),f=0;f<=u;++f)!(f<u&&t(h=s[f],f,s))===_&&((_=!_)?a.lineStart():a.lineEnd()),_&&a.point(+r(h,f,s),+e(h,f,s));if(d)return a=null,d+""||null}return o.x=function(s){return arguments.length?(r=typeof s=="function"?s:Ke(+s),o):r},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:Ke(+s),o):e},o.defined=function(s){return arguments.length?(t=typeof s=="function"?s:Ke(!!s),o):t},o.curve=function(s){return arguments.length?(i=s,n!=null&&(a=i(n)),o):i},o.context=function(s){return arguments.length?(s==null?n=a=null:a=i(n=s),o):n},o}function Lr(r,e,t){const n=r.slice();return n[11]=e[t],n}function Br(r){let e,t,n,i;function a(s,f){return f&2&&(t=null),t==null&&(t=!!["parent","country","uk"].includes(s[1].role)),t?Ia:wa}let l=a(r,-1),o=l(r);return{c(){e=W("g"),o.c(),this.h()},l(s){e=L(s,"g",{transform:!0,opacity:!0});var f=I(e);o.l(f),f.forEach(b),this.h()},h(){c(e,"transform",n="translate("+r[2](r[11].xDomainNumb)+","+r[3](r[11].value)+")"),c(e,"opacity",i=r[0]===void 0?["similar","sameRegion"].includes(r[1].role)?.75:1:.15)},m(s,f){N(s,e,f),o.m(e,null)},p(s,f){l===(l=a(s,f))&&o?o.p(s,f):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null))),f&14&&n!==(n="translate("+s[2](s[11].xDomainNumb)+","+s[3](s[11].value)+")")&&c(e,"transform",n),f&3&&i!==(i=s[0]===void 0?["similar","sameRegion"].includes(s[1].role)?.75:1:.15)&&c(e,"opacity",i)},d(s){s&&b(e),o.d()}}}function wa(r){let e;return{c(){e=W("circle"),this.h()},l(t){e=L(t,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(e).forEach(b),this.h()},h(){c(e,"r",4),c(e,"stroke","white"),c(e,"stroke-width","1.5px"),c(e,"fill",r[6])},m(t,n){N(t,e,n)},p(t,n){n&64&&c(e,"fill",t[6])},d(t){t&&b(e)}}}function Ia(r){let e,t;return{c(){e=W("rect"),this.h()},l(n){e=L(n,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),I(e).forEach(b),this.h()},h(){c(e,"transform",t=["country","uk"].includes(r[1].role)?"rotate(45)":null),c(e,"x","-4"),c(e,"y","-4"),c(e,"width","8"),c(e,"height","8"),c(e,"fill",r[6]),c(e,"stroke","white"),c(e,"stroke-width","1.5px")},m(n,i){N(n,e,i)},p(n,i){i&2&&t!==(t=["country","uk"].includes(n[1].role)?"rotate(45)":null)&&c(e,"transform",t),i&64&&c(e,"fill",n[6])},d(n){n&&b(e)}}}function Or(r){let e=r[5]||r[11].xDomainNumb===r[4][1]&&!["similar","sameRegion"].includes(r[1].role),t,n=e&&Br(r);return{c(){n&&n.c(),t=ne()},l(i){n&&n.l(i),t=ne()},m(i,a){n&&n.m(i,a),N(i,t,a)},p(i,a){a&50&&(e=i[5]||i[11].xDomainNumb===i[4][1]&&!["similar","sameRegion"].includes(i[1].role)),e?n?n.p(i,a):(n=Br(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&b(t)}}}function Ra(r){let e,t,n,i,a,l,o,s,f,u,h=r[1].data,_=[];for(let d=0;d<h.length;d+=1)_[d]=Or(Lr(r,h,d));return{c(){e=W("path"),a=te();for(let d=0;d<_.length;d+=1)_[d].c();l=te(),o=W("path"),this.h()},l(d){e=L(d,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(e).forEach(b),a=re(d);for(let m=0;m<_.length;m+=1)_[m].l(d);l=re(d),o=L(d,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(o).forEach(b),this.h()},h(){c(e,"d",t=r[7](r[1].data)),c(e,"fill","none"),c(e,"stroke",r[6]),c(e,"stroke-width",n=["similar","sameRegion"].includes(r[1].role)?"2px":"3px"),c(e,"opacity",i=r[0]===void 0?["similar","sameRegion"].includes(r[1].role)?.75:1:.15),c(o,"d",s=r[7](r[1].data)),c(o,"fill","none"),c(o,"stroke","black"),c(o,"stroke-width","20px"),c(o,"opacity",0)},m(d,m){N(d,e,m),N(d,a,m);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(d,m);N(d,l,m),N(d,o,m),f||(u=[Me(o,"mouseenter",r[8]),Me(o,"mouseleave",r[9])],f=!0)},p(d,[m]){if(m&130&&t!==(t=d[7](d[1].data))&&c(e,"d",t),m&64&&c(e,"stroke",d[6]),m&2&&n!==(n=["similar","sameRegion"].includes(d[1].role)?"2px":"3px")&&c(e,"stroke-width",n),m&3&&i!==(i=d[0]===void 0?["similar","sameRegion"].includes(d[1].role)?.75:1:.15)&&c(e,"opacity",i),m&127){h=d[1].data;let g;for(g=0;g<h.length;g+=1){const v=Lr(d,h,g);_[g]?_[g].p(v,m):(_[g]=Or(v),_[g].c(),_[g].m(l.parentNode,l))}for(;g<_.length;g+=1)_[g].d(1);_.length=h.length}m&130&&s!==(s=d[7](d[1].data))&&c(o,"d",s)},i:oe,o:oe,d(d){d&&b(e),d&&b(a),Ae(_,d),d&&b(l),d&&b(o),f=!1,dt(u)}}}function Da(r,e,t){let n,i,{area:a,x:l,y:o,xDomain:s,showPoints:f,hoverId:u}=e;const h=()=>{t(0,u=a.areacd)},_=()=>{t(0,u=void 0)};return r.$$set=d=>{"area"in d&&t(1,a=d.area),"x"in d&&t(2,l=d.x),"y"in d&&t(3,o=d.y),"xDomain"in d&&t(4,s=d.xDomain),"showPoints"in d&&t(5,f=d.showPoints),"hoverId"in d&&t(0,u=d.hoverId)},r.$$.update=()=>{r.$$.dirty&12&&t(7,n=ri().x(d=>l(d.xDomainNumb)).y(d=>o(d.value))),r.$$.dirty&2&&t(6,i=ue[a.role in ue?a.role:"default"].color),r.$$.dirty&2&&ue[a.role in ue?a.role:"default"].contrast},[u,a,l,o,s,f,i,n,h,_]}class Ca extends de{constructor(e){super(),_e(this,e,Da,Ra,me,{area:1,x:2,y:3,xDomain:4,showPoints:5,hoverId:0})}}function Sr(r,e,t){const n=r.slice();return n[6]=e[t],n}function Vr(r){let e,t;return{c(){e=W("path"),this.h()},l(n){e=L(n,"path",{d:!0,stroke:!0,fill:!0,"pointer-events":!0,opacity:!0}),I(e).forEach(b),this.h()},h(){c(e,"d",t=r[4](r[3])),c(e,"stroke","none"),c(e,"fill",ue.selected.color),c(e,"pointer-events","none"),c(e,"opacity","0.25")},m(n,i){N(n,e,i)},p(n,i){i&24&&t!==(t=n[4](n[3]))&&c(e,"d",t)},d(n){n&&b(e)}}}function Ea(r){let e;return{c(){e=W("circle"),this.h()},l(t){e=L(t,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0,"pointer-events":!0}),I(e).forEach(b),this.h()},h(){c(e,"r",4),c(e,"stroke","white"),c(e,"stroke-width","1.5px"),c(e,"fill",ue.selected.color),c(e,"pointer-events","none")},m(t,n){N(t,e,n)},p:oe,d(t){t&&b(e)}}}function Ma(r){let e,t;return{c(){e=W("rect"),this.h()},l(n){e=L(n,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),I(e).forEach(b),this.h()},h(){c(e,"transform",t=["country","uk"].includes(r[0].role)?"rotate(45)":null),c(e,"x","-4"),c(e,"y","-4"),c(e,"width","8"),c(e,"height","8"),c(e,"fill",ue.selected.color),c(e,"stroke","white"),c(e,"stroke-width","1.5px"),c(e,"pointer-events","none")},m(n,i){N(n,e,i)},p(n,i){i&1&&t!==(t=["country","uk"].includes(n[0].role)?"rotate(45)":null)&&c(e,"transform",t)},d(n){n&&b(e)}}}function Fr(r){let e,t,n;function i(o,s){return s&1&&(t=null),t==null&&(t=!!["parent","country","uk"].includes(o[0].role)),t?Ma:Ea}let a=i(r,-1),l=a(r);return{c(){e=W("g"),l.c(),this.h()},l(o){e=L(o,"g",{transform:!0});var s=I(e);l.l(s),s.forEach(b),this.h()},h(){c(e,"transform",n="translate("+r[1](r[6].xDomainNumb)+","+r[2](r[6].value)+")")},m(o,s){N(o,e,s),l.m(e,null)},p(o,s){a===(a=i(o,s))&&l?l.p(o,s):(l.d(1),l=a(o),l&&(l.c(),l.m(e,null))),s&7&&n!==(n="translate("+o[1](o[6].xDomainNumb)+","+o[2](o[6].value)+")")&&c(e,"transform",n)},d(o){o&&b(e),l.d()}}}function Na(r){let e,t,n,i,a,l=r[3]&&Vr(r),o=r[0].data,s=[];for(let f=0;f<o.length;f+=1)s[f]=Fr(Sr(r,o,f));return{c(){l&&l.c(),e=te(),t=W("path"),i=te();for(let f=0;f<s.length;f+=1)s[f].c();a=ne(),this.h()},l(f){l&&l.l(f),e=re(f),t=L(f,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),I(t).forEach(b),i=re(f);for(let u=0;u<s.length;u+=1)s[u].l(f);a=ne(),this.h()},h(){c(t,"d",n=r[4](r[0].data)),c(t,"fill","none"),c(t,"stroke",ue.selected.color),c(t,"stroke-width","3px"),c(t,"pointer-events","none")},m(f,u){l&&l.m(f,u),N(f,e,u),N(f,t,u),N(f,i,u);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(f,u);N(f,a,u)},p(f,[u]){if(f[3]?l?l.p(f,u):(l=Vr(f),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),u&17&&n!==(n=f[4](f[0].data))&&c(t,"d",n),u&7){o=f[0].data;let h;for(h=0;h<o.length;h+=1){const _=Sr(f,o,h);s[h]?s[h].p(_,u):(s[h]=Fr(_),s[h].c(),s[h].m(a.parentNode,a))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}},i:oe,o:oe,d(f){l&&l.d(f),f&&b(e),f&&b(t),f&&b(i),Ae(s,f),f&&b(a)}}}function Pa(r,e,t){let n,i,{area:a,x:l,y:o,hoverId:s}=e;return r.$$set=f=>{"area"in f&&t(0,a=f.area),"x"in f&&t(1,l=f.x),"y"in f&&t(2,o=f.y),"hoverId"in f&&t(5,s=f.hoverId)},r.$$.update=()=>{r.$$.dirty&6&&t(4,n=ri().x(f=>l(f.xDomainNumb)).y(f=>o(f.value))),r.$$.dirty&1&&console.log(a.data),r.$$.dirty&1&&t(3,i=[...a.data.map(f=>({xDomainNumb:f.xDomainNumb,value:f.uci})),...[...a.data].reverse().map(f=>({xDomainNumb:f.xDomainNumb,value:f.lci}))].filter(f=>f.value!="NA")),r.$$.dirty&8&&console.log(i)},console.log("hello"),[a,l,o,i,n,s]}class Ta extends de{constructor(e){super(),_e(this,e,Pa,Na,me,{area:0,x:1,y:2,hoverId:5})}}function Hr(r,e,t){const n=r.slice();return n[8]=e[t],n[10]=t,n}function zr(r){let e,t,n,i,a=r[0]&&qr(r),l=r[4],o=[];for(let s=0;s<l.length;s+=1)o[s]=Gr(Hr(r,l,s));return{c(){e=W("g"),a&&a.c(),t=W("g");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=L(s,"g",{class:!0,transform:!0});var f=I(e);a&&a.l(f),t=L(f,"g",{});var u=I(t);for(let h=0;h<o.length;h+=1)o[h].l(u);u.forEach(b),f.forEach(b),this.h()},h(){c(e,"class","label-container"),c(e,"transform",i="translate("+(r[2]+10)+","+(r[1].y+(r[4].length===2?-10:0))+")")},m(s,f){N(s,e,f),a&&a.m(e,null),R(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);n=ze.observe(t,r[7].bind(t))},p(s,f){if(s[0]?a?a.p(s,f):(a=qr(s),a.c(),a.m(e,t)):a&&(a.d(1),a=null),f&48){l=s[4];let u;for(u=0;u<l.length;u+=1){const h=Hr(s,l,u);o[u]?o[u].p(h,f):(o[u]=Gr(h),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}f&22&&i!==(i="translate("+(s[2]+10)+","+(s[1].y+(s[4].length===2?-10:0))+")")&&c(e,"transform",i)},d(s){s&&b(e),a&&a.d(),Ae(o,s),n()}}}function qr(r){let e,t,n,i;return{c(){e=W("rect"),this.h()},l(a){e=L(a,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,fill:!0}),I(e).forEach(b),this.h()},h(){c(e,"x",-3),c(e,"width",t=r[0].width+6),c(e,"y",n=r[0].y-18),c(e,"height",i=r[0].height),c(e,"rx","2px"),c(e,"stroke","none"),c(e,"fill",r[6])},m(a,l){N(a,e,l)},p(a,l){l&1&&t!==(t=a[0].width+6)&&c(e,"width",t),l&1&&n!==(n=a[0].y-18)&&c(e,"y",n),l&1&&i!==(i=a[0].height)&&c(e,"height",i),l&64&&c(e,"fill",a[6])},d(a){a&&b(e)}}}function Gr(r){let e,t=r[8]+"",n;return{c(){e=W("text"),n=be(t),this.h()},l(i){e=L(i,"text",{y:!0,fill:!0});var a=I(e);n=ve(a,t),a.forEach(b),this.h()},h(){c(e,"y",18*r[10]),c(e,"fill",r[5])},m(i,a){N(i,e,a),R(e,n)},p(i,a){a&16&&t!==(t=i[8]+"")&&pe(n,t),a&32&&c(e,"fill",i[5])},d(i){i&&b(e)}}}function Wa(r){let e,t=(r[3]===r[1].datum.areacd||!r[3])&&zr(r);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,i){t&&t.m(n,i),N(n,e,i)},p(n,[i]){n[3]===n[1].datum.areacd||!n[3]?t?t.p(n,i):(t=zr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:oe,o:oe,d(n){t&&t.d(n),n&&b(e)}}}function La(r,e,t){let n,i,a,{label:l,chartWidth:o,labelRect:s,hoverId:f}=e;function u(){var h;s=(h=Fe.entries.get(this))==null?void 0:h.contentRect,t(0,s)}return r.$$set=h=>{"label"in h&&t(1,l=h.label),"chartWidth"in h&&t(2,o=h.chartWidth),"labelRect"in h&&t(0,s=h.labelRect),"hoverId"in h&&t(3,f=h.hoverId)},r.$$.update=()=>{r.$$.dirty&10&&t(6,n=ue[l.datum.areacd===f?"selected":l.datum.role in ue?l.datum.role:"default"].color),r.$$.dirty&10&&t(5,i=ue[l.datum.areacd===f?"selected":l.datum.role in ue?l.datum.role:"default"].contrast),r.$$.dirty&2&&t(4,a=l.datum.areanm.length>25?zn(l.datum.areanm,2):[l.datum.areanm])},[s,l,o,f,a,i,n,u]}let Ba=class extends de{constructor(e){super(),_e(this,e,La,Wa,me,{label:1,chartWidth:2,labelRect:0,hoverId:3})}};function Zr(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function Yr(r){let e,t,n,i;return{c(){e=W("rect"),this.h()},l(a){e=L(a,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,fill:!0}),I(e).forEach(b),this.h()},h(){c(e,"x",-3),c(e,"width",t=r[1].width+6),c(e,"y",n=r[1].y-18),c(e,"height",i=r[1].height),c(e,"rx","2px"),c(e,"stroke","none"),c(e,"fill",r[4])},m(a,l){N(a,e,l)},p(a,l){l&2&&t!==(t=a[1].width+6)&&c(e,"width",t),l&2&&n!==(n=a[1].y-18)&&c(e,"y",n),l&2&&i!==(i=a[1].height)&&c(e,"height",i),l&16&&c(e,"fill",a[4])},d(a){a&&b(e)}}}function jr(r){let e,t=r[9]+"",n;return{c(){e=W("text"),n=be(t),this.h()},l(i){e=L(i,"text",{y:!0,fill:!0});var a=I(e);n=ve(a,t),a.forEach(b),this.h()},h(){c(e,"y",18*r[11]),c(e,"fill",r[3])},m(i,a){N(i,e,a),R(e,n)},p(i,a){a&4&&t!==(t=i[9]+"")&&pe(n,t),a&8&&c(e,"fill",i[3])},d(i){i&&b(e)}}}function Oa(r){let e,t,n,i,a=r[1]&&Yr(r),l=r[2],o=[];for(let s=0;s<l.length;s+=1)o[s]=jr(Zr(r,l,s));return{c(){e=W("g"),a&&a.c(),t=W("g");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=L(s,"g",{class:!0,transform:!0});var f=I(e);a&&a.l(f),t=L(f,"g",{});var u=I(t);for(let h=0;h<o.length;h+=1)o[h].l(u);u.forEach(b),f.forEach(b),this.h()},h(){c(e,"class","label-container"),c(e,"transform",i="translate("+(r[0]+10)+","+(r[5]+(r[2].length===2?-10:0))+")")},m(s,f){N(s,e,f),a&&a.m(e,null),R(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);n=ze.observe(t,r[8].bind(t))},p(s,[f]){if(s[1]?a?a.p(s,f):(a=Yr(s),a.c(),a.m(e,t)):a&&(a.d(1),a=null),f&12){l=s[2];let u;for(u=0;u<l.length;u+=1){const h=Zr(s,l,u);o[u]?o[u].p(h,f):(o[u]=jr(h),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}f&5&&i!==(i="translate("+(s[0]+10)+","+(s[5]+(s[2].length===2?-10:0))+")")&&c(e,"transform",i)},i:oe,o:oe,d(s){s&&b(e),a&&a.d(),Ae(o,s),n()}}}function Sa(r,e,t){let n,i,a,{area:l,chartWidth:o,y:s}=e,f,u=s(l.data[0].value);function h(){var _;f=(_=Fe.entries.get(this))==null?void 0:_.contentRect,t(1,f)}return r.$$set=_=>{"area"in _&&t(6,l=_.area),"chartWidth"in _&&t(0,o=_.chartWidth),"y"in _&&t(7,s=_.y)},r.$$.update=()=>{r.$$.dirty&64&&t(2,a=l.areanm.length>25?zn(l.areanm,2):[l.areanm])},t(4,n=ue.selected.color),t(3,i=ue.selected.contrast),[o,f,a,i,n,u,l,s,h]}class Va extends de{constructor(e){super(),_e(this,e,Sa,Oa,me,{area:6,chartWidth:0,y:7})}}function Kr(r,e,t){const n=r.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function Xr(r){let e,t,n,i,a,l=r[2].metadata.prefix+We(r[10])+r[2].metadata.suffix+"",o,s,f;function u(){r[9].call(a,r[12])}return{c(){e=W("g"),t=W("line"),a=W("text"),o=be(l),this.h()},l(h){e=L(h,"g",{class:!0});var _=I(e);t=L(_,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),I(t).forEach(b),a=L(_,"text",{"text-anchor":!0,x:!0,y:!0});var d=I(a);o=ve(d,l),d.forEach(b),_.forEach(b),this.h()},h(){c(t,"x1","0"),c(t,"x2","-8"),c(t,"y1",n=r[1](r[10])),c(t,"y2",i=r[1](r[10])),c(t,"stroke","#222"),c(a,"text-anchor","end"),c(a,"x",-10),c(a,"y",s=r[1](r[10])+5),c(e,"class","tick")},m(h,_){N(h,e,_),R(e,t),R(e,a),R(a,o),f=ze.observe(a,u.bind(a))},p(h,_){r=h,_&10&&n!==(n=r[1](r[10]))&&c(t,"y1",n),_&10&&i!==(i=r[1](r[10]))&&c(t,"y2",i),_&12&&l!==(l=r[2].metadata.prefix+We(r[10])+r[2].metadata.suffix+"")&&pe(o,l),_&10&&s!==(s=r[1](r[10])+5)&&c(a,"y",s)},d(h){h&&b(e),f()}}}function Fa(r){let e,t,n,i,a=r[3],l=[];for(let o=0;o<a.length;o+=1)l[o]=Xr(Kr(r,a,o));return{c(){e=W("g"),t=W("line");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=L(o,"g",{class:!0});var s=I(e);t=L(s,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),I(t).forEach(b);for(let f=0;f<l.length;f+=1)l[f].l(s);s.forEach(b),this.h()},h(){c(t,"x1","0"),c(t,"x2","0"),c(t,"y1",n=r[1](r[0][1])),c(t,"y2",i=r[1](r[0][0])),c(t,"stroke","black"),c(e,"class","y-axis-container")},m(o,s){N(o,e,s),R(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null)},p(o,[s]){if(s&3&&n!==(n=o[1](o[0][1]))&&c(t,"y1",n),s&3&&i!==(i=o[1](o[0][0]))&&c(t,"y2",i),s&30){a=o[3];let f;for(f=0;f<a.length;f+=1){const u=Kr(o,a,f);l[f]?l[f].p(u,s):(l[f]=Xr(u),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=a.length}},i:oe,o:oe,d(o){o&&b(e),Ae(l,o)}}}function Ha(r,e,t){let n,i,a,{yDomainZeroBaseline:l,y:o,selectedIndicator:s,yAxisMaxTickWidth:f}=e,u=[],h=[];function _(d){var m;h[d]=(m=Fe.entries.get(this))==null?void 0:m.contentRect,t(4,h)}return r.$$set=d=>{"yDomainZeroBaseline"in d&&t(0,l=d.yDomainZeroBaseline),"y"in d&&t(1,o=d.y),"selectedIndicator"in d&&t(2,s=d.selectedIndicator),"yAxisMaxTickWidth"in d&&t(5,f=d.yAxisMaxTickWidth)},r.$$.update=()=>{if(r.$$.dirty&1&&t(8,n=Math.abs(l[1]-l[0])),r.$$.dirty&256&&t(7,i=10**Math.floor(Math.log10(n))),r.$$.dirty&384&&t(6,a=n/i<=1.5?i/5:n/i<=3?i/2:n/i<=6?i:i*2),r.$$.dirty&73){t(3,u=[]);for(let d=Math.ceil(l[0]);d<=Math.floor(l[1]);d++)d%a==0&&u.push(d)}r.$$.dirty&16&&console.log(h),r.$$.dirty&48&&t(5,f=h.length>0?Math.max(...h.map(d=>d.width)):f)},[l,o,s,u,h,f,a,i,n,_]}class za extends de{constructor(e){super(),_e(this,e,Ha,Fa,me,{yDomainZeroBaseline:0,y:1,selectedIndicator:2,yAxisMaxTickWidth:5})}}function Ur(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function Qr(r){let e,t,n,i,a,l=r[9].label+"",o,s,f=r[4]&&Jr(r);return{c(){e=W("g"),t=W("line"),a=W("text"),o=be(l),f&&f.c(),this.h()},l(u){e=L(u,"g",{class:!0});var h=I(e);t=L(h,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),I(t).forEach(b),a=L(h,"text",{"text-anchor":!0,y:!0,x:!0});var _=I(a);o=ve(_,l),_.forEach(b),f&&f.l(h),h.forEach(b),this.h()},h(){c(t,"y1","0"),c(t,"y2","8"),c(t,"x1",n=r[1](r[9].xDomainNumb)),c(t,"x2",i=r[1](r[9].xDomainNumb)),c(t,"stroke","black"),c(a,"text-anchor","middle"),c(a,"y",25),c(a,"x",s=r[1](r[9].xDomainNumb)),c(e,"class","tick")},m(u,h){N(u,e,h),R(e,t),R(e,a),R(a,o),f&&f.m(e,null)},p(u,h){h&6&&n!==(n=u[1](u[9].xDomainNumb))&&c(t,"x1",n),h&6&&i!==(i=u[1](u[9].xDomainNumb))&&c(t,"x2",i),h&4&&l!==(l=u[9].label+"")&&pe(o,l),h&6&&s!==(s=u[1](u[9].xDomainNumb))&&c(a,"x",s),u[4]?f?f.p(u,h):(f=Jr(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&b(e),f&&f.d()}}}function Jr(r){let e,t,n,i;return{c(){e=W("line"),this.h()},l(a){e=L(a,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,opacity:!0}),I(e).forEach(b),this.h()},h(){c(e,"y1","0"),c(e,"y2",t=-r[3]),c(e,"x1",n=r[1](r[9])),c(e,"x2",i=r[1](r[9])),c(e,"stroke","black"),c(e,"opacity","0.1")},m(a,l){N(a,e,l)},p(a,l){l&8&&t!==(t=-a[3])&&c(e,"y2",t),l&6&&n!==(n=a[1](a[9]))&&c(e,"x1",n),l&6&&i!==(i=a[1](a[9]))&&c(e,"x2",i)},d(a){a&&b(e)}}}function xr(r){let e=r[5].includes(parseInt(r[9].xDomainNumb)),t,n=e&&Qr(r);return{c(){n&&n.c(),t=ne()},l(i){n&&n.l(i),t=ne()},m(i,a){n&&n.m(i,a),N(i,t,a)},p(i,a){a&36&&(e=i[5].includes(parseInt(i[9].xDomainNumb))),e?n?n.p(i,a):(n=Qr(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&b(t)}}}function qa(r){let e,t,n,i,a,l=r[2],o=[];for(let s=0;s<l.length;s+=1)o[s]=xr(Ur(r,l,s));return{c(){e=W("g"),t=W("line");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=L(s,"g",{class:!0,transform:!0});var f=I(e);t=L(f,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),I(t).forEach(b);for(let u=0;u<o.length;u+=1)o[u].l(f);f.forEach(b),this.h()},h(){c(t,"y1","0"),c(t,"y2","0"),c(t,"x1",n=r[1](r[0][0])),c(t,"x2",i=r[1](r[0][1])),c(t,"stroke","black"),c(e,"class","x-axis-container"),c(e,"transform",a="translate(0,"+r[3]+")")},m(s,f){N(s,e,f),R(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null)},p(s,[f]){if(f&3&&n!==(n=s[1](s[0][0]))&&c(t,"x1",n),f&3&&i!==(i=s[1](s[0][1]))&&c(t,"x2",i),f&62){l=s[2];let u;for(u=0;u<l.length;u+=1){const h=Ur(s,l,u);o[u]?o[u].p(h,f):(o[u]=xr(h),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}f&8&&a!==(a="translate(0,"+s[3]+")")&&c(e,"transform",a)},i:oe,o:oe,d(s){s&&b(e),Ae(o,s)}}}function Ga(r,e,t){let n,i,a,{xDomain:l,x:o,filteredPeriodsArray:s,chartHeight:f,gridlines:u=!1}=e;const h=(_,d,m)=>{const g=[];for(let v=d;v>=_;v-=m)g.push(parseInt(v));return g};return r.$$set=_=>{"xDomain"in _&&t(0,l=_.xDomain),"x"in _&&t(1,o=_.x),"filteredPeriodsArray"in _&&t(2,s=_.filteredPeriodsArray),"chartHeight"in _&&t(3,f=_.chartHeight),"gridlines"in _&&t(4,u=_.gridlines)},r.$$.update=()=>{r.$$.dirty&1&&t(7,n=Math.abs(l[1]-l[0])),r.$$.dirty&128&&t(6,i=n>=15?5:n>=6?2:1),r.$$.dirty&65&&t(5,a=h(l[0],l[1],i))},[l,o,s,f,u,a,i,n]}let Za=class extends de{constructor(e){super(),_e(this,e,Ga,qa,me,{xDomain:0,x:1,filteredPeriodsArray:2,chartHeight:3,gridlines:4})}};function $r(r,e,t){const n=r.slice();return n[33]=e[t],n[34]=e,n[35]=t,n}function en(r,e,t){const n=r.slice();return n[36]=e[t],n[38]=t,n}function tn(r,e,t){const n=r.slice();return n[36]=e[t],n[38]=t,n}function rn(r){let e,t,n;function i(l){r[28](l)}let a={xDomain:r[11],area:r[36],x:r[14],y:r[5],showPoints:r[8].length<4};return r[12]!==void 0&&(a.hoverId=r[12]),e=new Ca({props:a}),ie.push(()=>le(e,"hoverId",i)),{c(){Q(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,o){x(e,l,o),n=!0},p(l,o){const s={};o[0]&2048&&(s.xDomain=l[11]),o[0]&256&&(s.area=l[36]),o[0]&16384&&(s.x=l[14]),o[0]&32&&(s.y=l[5]),o[0]&256&&(s.showPoints=l[8].length<4),!t&&o[0]&4096&&(t=!0,s.hoverId=l[12],ae(()=>t=!1)),e.$set(s)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){$(e,l)}}}function nn(r){let e,t;return e=new Ta({props:{hoverId:r[12],xDomain:r[11],area:r[36],x:r[14],y:r[5]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&4096&&(a.hoverId=n[12]),i[0]&2048&&(a.xDomain=n[11]),i[0]&256&&(a.area=n[36]),i[0]&16384&&(a.x=n[14]),i[0]&32&&(a.y=n[5]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function ln(r){let e,t,n=r[12]===r[36].areacd&&nn(r);return{c(){n&&n.c(),e=ne()},l(i){n&&n.l(i),e=ne()},m(i,a){n&&n.m(i,a),N(i,e,a),t=!0},p(i,a){i[12]===i[36].areacd?n?(n.p(i,a),a[0]&4352&&w(n,1)):(n=nn(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(ce(),M(n,1,1,()=>{n=null}),he())},i(i){t||(w(n),t=!0)},o(i){M(n),t=!1},d(i){n&&n.d(i),i&&b(e)}}}function an(r){let e,t,n=r[13],i=[];for(let l=0;l<n.length;l+=1)i[l]=on($r(r,n,l));const a=l=>M(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ne()},l(l){for(let o=0;o<i.length;o+=1)i[o].l(l);e=ne()},m(l,o){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(l,o);N(l,e,o),t=!0},p(l,o){if(o[0]&13328){n=l[13];let s;for(s=0;s<n.length;s+=1){const f=$r(l,n,s);i[s]?(i[s].p(f,o),w(i[s],1)):(i[s]=on(f),i[s].c(),w(i[s],1),i[s].m(e.parentNode,e))}for(ce(),s=n.length;s<i.length;s+=1)a(s);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)M(i[o]);t=!1},d(l){Ae(i,l),l&&b(e)}}}function on(r){let e,t,n,i;function a(s){r[29](s)}function l(s){r[30](s,r[35])}let o={chartWidth:r[10],label:r[33]};return r[12]!==void 0&&(o.hoverId=r[12]),r[4][r[35]]!==void 0&&(o.labelRect=r[4][r[35]]),e=new Ba({props:o}),ie.push(()=>le(e,"hoverId",a)),ie.push(()=>le(e,"labelRect",l)),{c(){Q(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,f){x(e,s,f),i=!0},p(s,f){r=s;const u={};f[0]&1024&&(u.chartWidth=r[10]),f[0]&8192&&(u.label=r[33]),!t&&f[0]&4096&&(t=!0,u.hoverId=r[12],ae(()=>t=!1)),!n&&f[0]&16&&(n=!0,u.labelRect=r[4][r[35]],ae(()=>n=!1)),e.$set(u)},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){$(e,s)}}}function sn(r){let e,t;return e=new Va({props:{area:r[8].find(r[31]),chartWidth:r[10],y:r[5]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&4352&&(a.area=n[8].find(n[31])),i[0]&1024&&(a.chartWidth=n[10]),i[0]&32&&(a.y=n[5]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ya(r){let e,t,n,i,a,l,o,s,f,u,h,_,d;function m(p){r[27](p)}let g={y:r[5],yDomainZeroBaseline:r[9],selectedIndicator:r[1]};r[3]!==void 0&&(g.yAxisMaxTickWidth=r[3]),a=new za({props:g}),ie.push(()=>le(a,"yAxisMaxTickWidth",m)),o=new Za({props:{x:r[14],xDomain:r[11],filteredPeriodsArray:r[0],chartHeight:r[6]}});let v=[...r[8]].reverse(),A=[];for(let p=0;p<v.length;p+=1)A[p]=rn(tn(r,v,p));const y=p=>M(A[p],1,1,()=>{A[p]=null});let V=r[8],P=[];for(let p=0;p<V.length;p+=1)P[p]=ln(en(r,V,p));const z=p=>M(P[p],1,1,()=>{P[p]=null});let S=r[13].length<8&&an(r),E=r[12]&&sn(r);return{c(){e=j("div"),t=W("svg"),n=W("g"),i=W("rect"),Q(a.$$.fragment),Q(o.$$.fragment);for(let p=0;p<A.length;p+=1)A[p].c();s=ne();for(let p=0;p<P.length;p+=1)P[p].c();f=ne(),S&&S.c(),u=ne(),E&&E.c(),this.h()},l(p){e=K(p,"DIV",{class:!0});var k=I(e);t=L(k,"svg",{width:!0,height:!0});var Z=I(t);n=L(Z,"g",{transform:!0});var q=I(n);i=L(q,"rect",{width:!0,height:!0,fill:!0,opacity:!0}),I(i).forEach(b),J(a.$$.fragment,q),J(o.$$.fragment,q);for(let G=0;G<A.length;G+=1)A[G].l(q);s=ne();for(let G=0;G<P.length;G+=1)P[G].l(q);f=ne(),S&&S.l(q),u=ne(),E&&E.l(q),q.forEach(b),Z.forEach(b),k.forEach(b),this.h()},h(){c(i,"width",r[10]),c(i,"height",r[6]),c(i,"fill","black"),c(i,"opacity","0.02"),c(n,"transform",h="translate("+r[7].left+","+r[7].top+")"),c(t,"width",r[2]),c(t,"height",r[15]),c(e,"class","svg-container svelte-v9gq7q"),_t(()=>r[32].call(e))},m(p,k){N(p,e,k),R(e,t),R(t,n),R(n,i),x(a,n,null),x(o,n,null);for(let Z=0;Z<A.length;Z+=1)A[Z]&&A[Z].m(n,null);R(n,s);for(let Z=0;Z<P.length;Z+=1)P[Z]&&P[Z].m(n,null);R(n,f),S&&S.m(n,null),R(n,u),E&&E.m(n,null),_=Dt(e,r[32].bind(e)),d=!0},p(p,k){(!d||k[0]&1024)&&c(i,"width",p[10]),(!d||k[0]&64)&&c(i,"height",p[6]);const Z={};k[0]&32&&(Z.y=p[5]),k[0]&512&&(Z.yDomainZeroBaseline=p[9]),k[0]&2&&(Z.selectedIndicator=p[1]),!l&&k[0]&8&&(l=!0,Z.yAxisMaxTickWidth=p[3],ae(()=>l=!1)),a.$set(Z);const q={};if(k[0]&16384&&(q.x=p[14]),k[0]&2048&&(q.xDomain=p[11]),k[0]&1&&(q.filteredPeriodsArray=p[0]),k[0]&64&&(q.chartHeight=p[6]),o.$set(q),k[0]&22816){v=[...p[8]].reverse();let G;for(G=0;G<v.length;G+=1){const D=tn(p,v,G);A[G]?(A[G].p(D,k),w(A[G],1)):(A[G]=rn(D),A[G].c(),w(A[G],1),A[G].m(n,s))}for(ce(),G=v.length;G<A.length;G+=1)y(G);he()}if(k[0]&22816){V=p[8];let G;for(G=0;G<V.length;G+=1){const D=en(p,V,G);P[G]?(P[G].p(D,k),w(P[G],1)):(P[G]=ln(D),P[G].c(),w(P[G],1),P[G].m(n,f))}for(ce(),G=V.length;G<P.length;G+=1)z(G);he()}p[13].length<8?S?(S.p(p,k),k[0]&8192&&w(S,1)):(S=an(p),S.c(),w(S,1),S.m(n,u)):S&&(ce(),M(S,1,1,()=>{S=null}),he()),p[12]?E?(E.p(p,k),k[0]&4096&&w(E,1)):(E=sn(p),E.c(),w(E,1),E.m(n,null)):E&&(ce(),M(E,1,1,()=>{E=null}),he()),(!d||k[0]&128&&h!==(h="translate("+p[7].left+","+p[7].top+")"))&&c(n,"transform",h),(!d||k[0]&4)&&c(t,"width",p[2])},i(p){if(!d){w(a.$$.fragment,p),w(o.$$.fragment,p);for(let k=0;k<v.length;k+=1)w(A[k]);for(let k=0;k<V.length;k+=1)w(P[k]);w(S),w(E),d=!0}},o(p){M(a.$$.fragment,p),M(o.$$.fragment,p),A=A.filter(Boolean);for(let k=0;k<A.length;k+=1)M(A[k]);P=P.filter(Boolean);for(let k=0;k<P.length;k+=1)M(P[k]);M(S),M(E),d=!1},d(p){p&&b(e),$(a),$(o),Ae(A,p),Ae(P,p),S&&S.d(),E&&E.d(),_()}}}function ja(r,e,t){let n,i,a,l,o,s,f,u,h,_,d,m,g,v,A,{filteredPeriodsArray:y,visibleAreasWithData:V,visiblesAreasWithDataCodes:P,visibleAreaTypesWithData:z,filteredIndicatorDataForVisibleAreas:S,selectedArea:E,selectedIndicator:p,selectedIndicatorCalculations:k}=e,Z=1e3,q=500,G=10,D;function U(C){G=C,t(3,G)}function Y(C){D=C,t(12,D)}function F(C){D=C,t(12,D)}function ye(C,ee){r.$$.not_equal(A[ee],C)&&(A[ee]=C,t(4,A))}const O=C=>C.areacd===D;function Ce(){Z=this.clientWidth,t(2,Z)}return r.$$set=C=>{"filteredPeriodsArray"in C&&t(0,y=C.filteredPeriodsArray),"visibleAreasWithData"in C&&t(16,V=C.visibleAreasWithData),"visiblesAreasWithDataCodes"in C&&t(17,P=C.visiblesAreasWithDataCodes),"visibleAreaTypesWithData"in C&&t(18,z=C.visibleAreaTypesWithData),"filteredIndicatorDataForVisibleAreas"in C&&t(19,S=C.filteredIndicatorDataForVisibleAreas),"selectedArea"in C&&t(20,E=C.selectedArea),"selectedIndicator"in C&&t(1,p=C.selectedIndicator),"selectedIndicatorCalculations"in C&&t(21,k=C.selectedIndicatorCalculations)},r.$$.update=()=>{r.$$.dirty[0]&16&&t(26,n=A.length===0?0:Math.max(...A.map(C=>C.width))),r.$$.dirty[0]&67108872&&t(7,i={top:10,right:n+20,bottom:30,left:20+G}),r.$$.dirty[0]&132&&t(10,a=Z-i.left-i.right),r.$$.dirty[0]&128&&t(6,l=q-i.top-i.bottom),r.$$.dirty[0]&1&&t(11,o=[y[y.length-1].xDomainNumb,y[0].xDomainNumb]),r.$$.dirty[0]&524288&&t(25,s=[...S.map(C=>C.value),...S.map(C=>C.lci),...S.map(C=>C.uci)].filter(C=>C!="NA")),r.$$.dirty[0]&589824&&t(8,f=V.map(C=>({...C,data:S.filter(ee=>ee.areacd===C.areacd)}))),r.$$.dirty[0]&33554432&&t(24,u=[.95*Math.min(...s),1.05*Math.max(...s)]),r.$$.dirty[0]&18874368&&t(23,h=k?[Math.min(u[0],k.med-3*k.mad),Math.max(u[1],parseFloat(k.med)+3*k.mad)]:u),r.$$.dirty[0]&8388610&&t(9,_=p.metadata.zeroBaseline==="T"?[0,h[1]]:p.metadata.canBeNegative==="F"?[Math.max(0,h[0]),h[1]]:h),r.$$.dirty[0]&3072&&t(14,d=Ye().domain(o).range([0,a])),r.$$.dirty[0]&576&&t(5,m=Ye().domain(_).range([l,0])),r.$$.dirty[0]&256&&t(22,g=f.map(C=>({targetY:C.data[0].value,areacd:C.areacd,areanm:C.areanm,role:C.role}))),r.$$.dirty[0]&4194528&&t(13,v=xn(g.filter(C=>!["similar","sameRegion"].includes(C.role)),[-i.top,l],C=>m(C.targetY)+6,C=>C.areanm.length>25?52:26))},t(4,A=[]),[y,p,Z,G,A,m,l,i,f,_,a,o,D,v,d,q,V,P,z,S,E,k,g,h,u,s,n,U,Y,F,ye,O,Ce]}class Ka extends de{constructor(e){super(),_e(this,e,ja,Ya,me,{filteredPeriodsArray:0,visibleAreasWithData:16,visiblesAreasWithDataCodes:17,visibleAreaTypesWithData:18,filteredIndicatorDataForVisibleAreas:19,selectedArea:20,selectedIndicator:1,selectedIndicatorCalculations:21},null,[-1,-1])}}function fn(r,e,t){const n=r.slice();return n[10]=e[t],n[12]=t,n}function un(r){let e,t,n,i,a,l,o="<"+r[2].metadata.prefix+We(r[6][0])+r[2].metadata.suffix,s,f;return{c(){e=W("g"),t=W("path"),i=W("line"),a=W("line"),l=W("text"),s=be(o),this.h()},l(u){e=L(u,"g",{transform:!0});var h=I(e);t=L(h,"path",{d:!0,stroke:!0,fill:!0}),I(t).forEach(b),i=L(h,"line",{x1:!0,x2:!0,stroke:!0}),I(i).forEach(b),a=L(h,"line",{y1:!0,y2:!0,stroke:!0}),I(a).forEach(b),l=L(h,"text",{x:!0,"text-anchor":!0,y:!0});var _=I(l);s=ve(_,o),_.forEach(b),h.forEach(b),this.h()},h(){c(t,"d",n="M 15 0 l"+(r[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(r[5]/4-20)+" 0"),c(t,"stroke","#222"),c(t,"fill","none"),c(i,"x1","-3"),c(i,"x2","3"),c(i,"stroke","#222"),c(a,"y1","0"),c(a,"y2","8"),c(a,"stroke","#222"),c(l,"x","-20"),c(l,"text-anchor","start"),c(l,"y",24),c(e,"transform",f="translate("+-r[5]/2+",0)")},m(u,h){N(u,e,h),R(e,t),R(e,i),R(e,a),R(e,l),R(l,s)},p(u,h){h&32&&n!==(n="M 15 0 l"+(u[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(u[5]/4-20)+" 0")&&c(t,"d",n),h&68&&o!==(o="<"+u[2].metadata.prefix+We(u[6][0])+u[2].metadata.suffix)&&pe(s,o),h&32&&f!==(f="translate("+-u[5]/2+",0)")&&c(e,"transform",f)},d(u){u&&b(e)}}}function cn(r){let e,t,n,i,a,l,o,s=">"+r[2].metadata.prefix+We(r[6][r[6].length-1])+r[2].metadata.suffix,f,u;return{c(){e=W("g"),t=W("path"),a=W("line"),l=W("line"),o=W("text"),f=be(s),this.h()},l(h){e=L(h,"g",{transform:!0});var _=I(e);t=L(_,"path",{transform:!0,d:!0,stroke:!0,fill:!0}),I(t).forEach(b),a=L(_,"line",{x1:!0,x2:!0,stroke:!0}),I(a).forEach(b),l=L(_,"line",{y1:!0,y2:!0,stroke:!0}),I(l).forEach(b),o=L(_,"text",{x:!0,"text-anchor":!0,y:!0});var d=I(o);f=ve(d,s),d.forEach(b),_.forEach(b),this.h()},h(){c(t,"transform",n="translate("+-r[5]/2+",0)"),c(t,"d",i="M 15 0 l"+(r[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(r[5]/4-20)+" 0"),c(t,"stroke","#222"),c(t,"fill","none"),c(a,"x1","-3"),c(a,"x2","3"),c(a,"stroke","#222"),c(l,"y1","0"),c(l,"y2","8"),c(l,"stroke","#222"),c(o,"x","20"),c(o,"text-anchor","end"),c(o,"y",24),c(e,"transform",u="translate("+(r[3]+r[5]/2)+",0)")},m(h,_){N(h,e,_),R(e,t),R(e,a),R(e,l),R(e,o),R(o,f)},p(h,_){_&32&&n!==(n="translate("+-h[5]/2+",0)")&&c(t,"transform",n),_&32&&i!==(i="M 15 0 l"+(h[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(h[5]/4-20)+" 0")&&c(t,"d",i),_&68&&s!==(s=">"+h[2].metadata.prefix+We(h[6][h[6].length-1])+h[2].metadata.suffix)&&pe(f,s),_&40&&u!==(u="translate("+(h[3]+h[5]/2)+",0)")&&c(e,"transform",u)},d(h){h&&b(e)}}}function hn(r){let e,t,n,i,a,l=r[2].metadata.prefix+We(r[10])+r[2].metadata.suffix+"",o,s;return{c(){e=W("g"),t=W("line"),a=W("text"),o=be(l),this.h()},l(f){e=L(f,"g",{class:!0});var u=I(e);t=L(u,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),I(t).forEach(b),a=L(u,"text",{"text-anchor":!0,y:!0,x:!0});var h=I(a);o=ve(h,l),h.forEach(b),u.forEach(b),this.h()},h(){c(t,"y1","0"),c(t,"y2","8"),c(t,"x1",n=r[1](r[10])),c(t,"x2",i=r[1](r[10])),c(t,"stroke","#222"),c(a,"text-anchor","middle"),c(a,"y",24),c(a,"x",s=r[1](r[10])),c(e,"class","tick")},m(f,u){N(f,e,u),R(e,t),R(e,a),R(a,o)},p(f,u){u&66&&n!==(n=f[1](f[10]))&&c(t,"x1",n),u&66&&i!==(i=f[1](f[10]))&&c(t,"x2",i),u&68&&l!==(l=f[2].metadata.prefix+We(f[10])+f[2].metadata.suffix+"")&&pe(o,l),u&66&&s!==(s=f[1](f[10]))&&c(a,"x",s)},d(f){f&&b(e)}}}function dn(r){let e,t=(!r[4][1]||r[12]!=r[6].length-1)&&(!r[4][0]||r[12]!=0)&&hn(r);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,i){t&&t.m(n,i),N(n,e,i)},p(n,i){(!n[4][1]||n[12]!=n[6].length-1)&&(!n[4][0]||n[12]!=0)?t?t.p(n,i):(t=hn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&b(e)}}}function Xa(r){let e,t,n,i,a,l,o=r[4][0]&&un(r),s=r[4][1]&&cn(r),f=r[6],u=[];for(let h=0;h<f.length;h+=1)u[h]=dn(fn(r,f,h));return{c(){e=W("g"),t=W("line"),o&&o.c(),a=ne(),s&&s.c(),l=ne();for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=L(h,"g",{class:!0});var _=I(e);t=L(_,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),I(t).forEach(b),o&&o.l(_),a=ne(),s&&s.l(_),l=ne();for(let d=0;d<u.length;d+=1)u[d].l(_);_.forEach(b),this.h()},h(){c(t,"y1","0"),c(t,"y2","0"),c(t,"x1",n=r[1](r[0][1])),c(t,"x2",i=r[1](r[0][0])),c(t,"stroke","black"),c(e,"class","y-axis-container")},m(h,_){N(h,e,_),R(e,t),o&&o.m(e,null),R(e,a),s&&s.m(e,null),R(e,l);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null)},p(h,[_]){if(_&3&&n!==(n=h[1](h[0][1]))&&c(t,"x1",n),_&3&&i!==(i=h[1](h[0][0]))&&c(t,"x2",i),h[4][0]?o?o.p(h,_):(o=un(h),o.c(),o.m(e,a)):o&&(o.d(1),o=null),h[4][1]?s?s.p(h,_):(s=cn(h),s.c(),s.m(e,l)):s&&(s.d(1),s=null),_&86){f=h[6];let d;for(d=0;d<f.length;d+=1){const m=fn(h,f,d);u[d]?u[d].p(m,_):(u[d]=dn(m),u[d].c(),u[d].m(e,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=f.length}},i:oe,o:oe,d(h){h&&b(e),o&&o.d(),s&&s.d(),Ae(u,h)}}}function Ua(r,e,t){let n,i,a,{xDomainZeroBaselineTicked:l,x:o,selectedIndicator:s,chartWidth:f,valuesOutsideXDomain:u,spaceForOutliers:h}=e,_=[];return r.$$set=d=>{"xDomainZeroBaselineTicked"in d&&t(0,l=d.xDomainZeroBaselineTicked),"x"in d&&t(1,o=d.x),"selectedIndicator"in d&&t(2,s=d.selectedIndicator),"chartWidth"in d&&t(3,f=d.chartWidth),"valuesOutsideXDomain"in d&&t(4,u=d.valuesOutsideXDomain),"spaceForOutliers"in d&&t(5,h=d.spaceForOutliers)},r.$$.update=()=>{if(r.$$.dirty&1&&t(9,n=Math.abs(l[1]-l[0])),r.$$.dirty&512&&t(8,i=10**Math.floor(Math.log10(n))),r.$$.dirty&768&&t(7,a=n/i<=1.5?i/5:n/i<=3?i/2:n/i<=6?i:i*2),r.$$.dirty&193){t(6,_=[]);for(let d=Math.ceil(l[0]);d<=Math.floor(l[1]);d++)d%a==0&&_.push(d)}r.$$.dirty&1&&console.log(l)},[l,o,s,f,u,h,_,a,i,n]}class Qa extends de{constructor(e){super(),_e(this,e,Ua,Xa,me,{xDomainZeroBaselineTicked:0,x:1,selectedIndicator:2,chartWidth:3,valuesOutsideXDomain:4,spaceForOutliers:5})}}function Ja(r){let e;return{c(){e=W("circle"),this.h()},l(t){e=L(t,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(e).forEach(b),this.h()},h(){c(e,"r",7),c(e,"stroke","white"),c(e,"stroke-width","1.5px"),c(e,"fill",r[3])},m(t,n){N(t,e,n)},p(t,n){n&8&&c(e,"fill",t[3])},d(t){t&&b(e)}}}function xa(r){let e,t;return{c(){e=W("rect"),this.h()},l(n){e=L(n,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),I(e).forEach(b),this.h()},h(){c(e,"transform",t=["country","uk"].includes(r[0].datum.role)?"rotate(45)":null),c(e,"x","-7"),c(e,"y","-7"),c(e,"width","14"),c(e,"height","14"),c(e,"fill",r[3]),c(e,"stroke","white"),c(e,"stroke-width","1.5px")},m(n,i){N(n,e,i)},p(n,i){i&1&&t!==(t=["country","uk"].includes(n[0].datum.role)?"rotate(45)":null)&&c(e,"transform",t),i&8&&c(e,"fill",n[3])},d(n){n&&b(e)}}}function $a(r){let e,t,n,i;function a(s,f){return f&1&&(t=null),t==null&&(t=!!["parent","country","uk"].includes(s[0].datum.role)),t?xa:Ja}let l=a(r,-1),o=l(r);return{c(){e=W("g"),o.c(),this.h()},l(s){e=L(s,"g",{transform:!0,opacity:!0});var f=I(e);o.l(f),f.forEach(b),this.h()},h(){c(e,"transform",n="translate("+r[0].x+","+(r[1]-r[0].y)+")"),c(e,"opacity",i=r[2]?.2:1)},m(s,f){N(s,e,f),o.m(e,null)},p(s,[f]){l===(l=a(s,f))&&o?o.p(s,f):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null))),f&3&&n!==(n="translate("+s[0].x+","+(s[1]-s[0].y)+")")&&c(e,"transform",n),f&4&&i!==(i=s[2]?.2:1)&&c(e,"opacity",i)},i:oe,o:oe,d(s){s&&b(e),o.d()}}}function eo(r,e,t){let n,{circle:i,chartHeight:a,hoverId:l}=e;return r.$$set=o=>{"circle"in o&&t(0,i=o.circle),"chartHeight"in o&&t(1,a=o.chartHeight),"hoverId"in o&&t(2,l=o.hoverId)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=ue[i.datum.role in ue?i.datum.role:"default"].color),r.$$.dirty&1&&ue[i.datum.role in ue?i.datum.role:"default"].contrast},[i,a,l,n]}class to extends de{constructor(e){super(),_e(this,e,eo,$a,me,{circle:0,chartHeight:1,hoverId:2})}}function _n(r,e,t){const n=r.slice();return n[7]=e[t],n[9]=t,n}function mn(r){let e,t,n,i,a,l=r[2]&&gn(r),o=r[3],s=[];for(let f=0;f<o.length;f+=1)s[f]=bn(_n(r,o,f));return{c(){e=W("g"),l&&l.c(),t=W("g");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=L(f,"g",{class:!0,transform:!0,opacity:!0});var u=I(e);l&&l.l(u),t=L(u,"g",{});var h=I(t);for(let _=0;_<s.length;_+=1)s[_].l(h);h.forEach(b),u.forEach(b),this.h()},h(){c(e,"class","label-container"),c(e,"transform",i="translate("+r[0].y+",0)"),c(e,"opacity",a=r[1]?.2:1)},m(f,u){N(f,e,u),l&&l.m(e,null),R(e,t);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(t,null);n=ze.observe(t,r[6].bind(t))},p(f,u){if(f[2]?l?l.p(f,u):(l=gn(f),l.c(),l.m(e,t)):l&&(l.d(1),l=null),u&24){o=f[3];let h;for(h=0;h<o.length;h+=1){const _=_n(f,o,h);s[h]?s[h].p(_,u):(s[h]=bn(_),s[h].c(),s[h].m(t,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}u&1&&i!==(i="translate("+f[0].y+",0)")&&c(e,"transform",i),u&2&&a!==(a=f[1]?.2:1)&&c(e,"opacity",a)},d(f){f&&b(e),l&&l.d(),Ae(s,f),n()}}}function gn(r){let e,t,n,i,a;return{c(){e=W("rect"),this.h()},l(l){e=L(l,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,fill:!0}),I(e).forEach(b),this.h()},h(){c(e,"x",t=-3-r[2].width/2),c(e,"width",n=r[2].width+6),c(e,"y",i=r[2].y-18),c(e,"height",a=r[2].height),c(e,"rx","2px"),c(e,"stroke","none"),c(e,"fill",r[5])},m(l,o){N(l,e,o)},p(l,o){o&4&&t!==(t=-3-l[2].width/2)&&c(e,"x",t),o&4&&n!==(n=l[2].width+6)&&c(e,"width",n),o&4&&i!==(i=l[2].y-18)&&c(e,"y",i),o&4&&a!==(a=l[2].height)&&c(e,"height",a),o&32&&c(e,"fill",l[5])},d(l){l&&b(e)}}}function bn(r){let e,t=r[7]+"",n;return{c(){e=W("text"),n=be(t),this.h()},l(i){e=L(i,"text",{"text-anchor":!0,y:!0,fill:!0});var a=I(e);n=ve(a,t),a.forEach(b),this.h()},h(){c(e,"text-anchor","middle"),c(e,"y",18*r[9]),c(e,"fill",r[4])},m(i,a){N(i,e,a),R(e,n)},p(i,a){a&8&&t!==(t=i[7]+"")&&pe(n,t),a&16&&c(e,"fill",i[4])},d(i){i&&b(e)}}}function ro(r){let e,t=!r[1]&&mn(r);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,i){t&&t.m(n,i),N(n,e,i)},p(n,[i]){n[1]?t&&(t.d(1),t=null):t?t.p(n,i):(t=mn(n),t.c(),t.m(e.parentNode,e))},i:oe,o:oe,d(n){t&&t.d(n),n&&b(e)}}}function no(r,e,t){let n,i,a,{label:l,hoverId:o}=e,s;function f(){var u;s=(u=Fe.entries.get(this))==null?void 0:u.contentRect,t(2,s)}return r.$$set=u=>{"label"in u&&t(0,l=u.label),"hoverId"in u&&t(1,o=u.hoverId)},r.$$.update=()=>{r.$$.dirty&3&&t(5,n=ue[l.datum.datum.areacd===o?"selected":l.datum.datum.role in ue?l.datum.datum.role:"default"].color),r.$$.dirty&3&&t(4,i=ue[l.datum.datum.areacd===o?"selected":l.datum.datum.role in ue?l.datum.datum.role:"default"].contrast),r.$$.dirty&1&&t(3,a=[l.datum.datum.areanm])},[l,o,s,a,i,n,f]}class io extends de{constructor(e){super(),_e(this,e,no,ro,me,{label:0,hoverId:1})}}function vn(r,e,t){const n=r.slice();return n[31]=e[t],n[33]=t,n}function An(r,e,t){const n=r.slice();return n[34]=e[t],n[36]=t,n}function pn(r,e,t){const n=r.slice();return n[31]=e[t],n}function yn(r,e,t){const n=r.slice();return n[31]=e[t],n}function kn(r,e,t){const n=r.slice();return n[31]=e[t],n[33]=t,n}function wn(r){let e,t,n,i=r[5].includes("sameRegion"),a,l,o,s,f,u,h,_=r[0]==="localAuthorities"&&In(r),d=i&&Dn(r),m=r[8],g=[];for(let E=0;E<m.length;E+=1)g[E]=En(pn(r,m,E));const v=E=>M(g[E],1,1,()=>{g[E]=null});let A=r[13],y=[];for(let E=0;E<A.length;E+=1)y[E]=Mn(An(r,A,E));const V=E=>M(y[E],1,1,()=>{y[E]=null});let P=r[10].filter(r[29]),z=[];for(let E=0;E<P.length;E+=1)z[E]=Nn(vn(r,P,E));const S=E=>M(z[E],1,1,()=>{z[E]=null});return{c(){e=W("svg"),t=W("g"),_&&_.c(),n=ne(),d&&d.c(),a=W("g");for(let E=0;E<g.length;E+=1)g[E].c();l=W("g");for(let E=0;E<y.length;E+=1)y[E].c();s=W("g");for(let E=0;E<z.length;E+=1)z[E].c();this.h()},l(E){e=L(E,"svg",{width:!0,height:!0,class:!0});var p=I(e);t=L(p,"g",{transform:!0});var k=I(t);_&&_.l(k),n=ne(),d&&d.l(k),a=L(k,"g",{class:!0,transform:!0});var Z=I(a);for(let D=0;D<g.length;D+=1)g[D].l(Z);Z.forEach(b),l=L(k,"g",{class:!0,transform:!0});var q=I(l);for(let D=0;D<y.length;D+=1)y[D].l(q);q.forEach(b),s=L(k,"g",{class:!0});var G=I(s);for(let D=0;D<z.length;D+=1)z[D].l(G);G.forEach(b),k.forEach(b),p.forEach(b),this.h()},h(){c(a,"class","primary-circles-group"),c(a,"transform","translate(0,0)"),c(l,"class","labels-group"),c(l,"transform",o="translate(0,"+(r[9]+33)+")"),c(s,"class","selected-label-group"),c(t,"transform",f="translate("+(r[1].left+(r[4][0]?r[2]:0))+","+r[1].top+")"),c(e,"width",r[3]),c(e,"height",u=r[11]+(r[8].length>0?10:0)),c(e,"class","svelte-lk7tnk")},m(E,p){N(E,e,p),R(e,t),_&&_.m(t,null),R(t,n),d&&d.m(t,null),R(t,a);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(a,null);R(t,l);for(let k=0;k<y.length;k+=1)y[k]&&y[k].m(l,null);R(t,s);for(let k=0;k<z.length;k+=1)z[k]&&z[k].m(s,null);h=!0},p(E,p){if(E[0]==="localAuthorities"?_?(_.p(E,p),p[0]&1&&w(_,1)):(_=In(E),_.c(),w(_,1),_.m(t,n)):_&&(ce(),M(_,1,1,()=>{_=null}),he()),p[0]&32&&(i=E[5].includes("sameRegion")),i?d?d.p(E,p):(d=Dn(E),d.c(),d.m(t,a)):d&&(d.d(1),d=null),p[0]&4864){m=E[8];let k;for(k=0;k<m.length;k+=1){const Z=pn(E,m,k);g[k]?(g[k].p(Z,p),w(g[k],1)):(g[k]=En(Z),g[k].c(),w(g[k],1),g[k].m(a,null))}for(ce(),k=m.length;k<g.length;k+=1)v(k);he()}if(p[0]&12288){A=E[13];let k;for(k=0;k<A.length;k+=1){const Z=An(E,A,k);y[k]?(y[k].p(Z,p),w(y[k],1)):(y[k]=Mn(Z),y[k].c(),w(y[k],1),y[k].m(l,null))}for(ce(),k=A.length;k<y.length;k+=1)V(k);he()}if((!h||p[0]&512&&o!==(o="translate(0,"+(E[9]+33)+")"))&&c(l,"transform",o),p[0]&21632){P=E[10].filter(E[29]);let k;for(k=0;k<P.length;k+=1){const Z=vn(E,P,k);z[k]?(z[k].p(Z,p),w(z[k],1)):(z[k]=Nn(Z),z[k].c(),w(z[k],1),z[k].m(s,null))}for(ce(),k=P.length;k<z.length;k+=1)S(k);he()}(!h||p[0]&22&&f!==(f="translate("+(E[1].left+(E[4][0]?E[2]:0))+","+E[1].top+")"))&&c(t,"transform",f),(!h||p[0]&8)&&c(e,"width",E[3]),(!h||p[0]&2304&&u!==(u=E[11]+(E[8].length>0?10:0)))&&c(e,"height",u)},i(E){if(!h){w(_);for(let p=0;p<m.length;p+=1)w(g[p]);for(let p=0;p<A.length;p+=1)w(y[p]);for(let p=0;p<P.length;p+=1)w(z[p]);h=!0}},o(E){M(_),g=g.filter(Boolean);for(let p=0;p<g.length;p+=1)M(g[p]);y=y.filter(Boolean);for(let p=0;p<y.length;p+=1)M(y[p]);z=z.filter(Boolean);for(let p=0;p<z.length;p+=1)M(z[p]);h=!1},d(E){E&&b(e),_&&_.d(),d&&d.d(),Ae(g,E),Ae(y,E),Ae(z,E)}}}function In(r){let e,t,n=r[10],i=[];for(let l=0;l<n.length;l+=1)i[l]=Rn(kn(r,n,l));const a=l=>M(i[l],1,1,()=>{i[l]=null});return{c(){e=W("g");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){e=L(l,"g",{class:!0,opacity:!0});var o=I(e);for(let s=0;s<i.length;s+=1)i[s].l(o);o.forEach(b),this.h()},h(){c(e,"class","background-circles-group"),c(e,"opacity","0.7")},m(l,o){N(l,e,o);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);t=!0},p(l,o){if(o[0]&21504){n=l[10];let s;for(s=0;s<n.length;s+=1){const f=kn(l,n,s);i[s]?(i[s].p(f,o),w(i[s],1)):(i[s]=Rn(f),i[s].c(),w(i[s],1),i[s].m(e,null))}for(ce(),s=n.length;s<i.length;s+=1)a(s);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)M(i[o]);t=!1},d(l){l&&b(e),Ae(i,l)}}}function Rn(r){let e,t,n;function i(l){r[27](l)}let a={length:r[10].length,index:r[33],circle:r[31],y:r[14]};return r[12]!==void 0&&(a.hoverId=r[12]),e=new Un({props:a}),ie.push(()=>le(e,"hoverId",i)),{c(){Q(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,o){x(e,l,o),n=!0},p(l,o){const s={};o[0]&1024&&(s.length=l[10].length),o[0]&1024&&(s.circle=l[31]),o[0]&16384&&(s.y=l[14]),!t&&o[0]&4096&&(t=!0,s.hoverId=l[12],ae(()=>t=!1)),e.$set(s)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){$(e,l)}}}function Dn(r){let e,t=r[10].filter(r[28]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Cn(yn(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=ne()},l(i){for(let a=0;a<n.length;a+=1)n[a].l(i);e=ne()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);N(i,e,a)},p(i,a){if(a[0]&17472){t=i[10].filter(i[28]);let l;for(l=0;l<t.length;l+=1){const o=yn(i,t,l);n[l]?n[l].p(o,a):(n[l]=Cn(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(i){Ae(n,i),i&&b(e)}}}function Cn(r){let e,t,n;return{c(){e=W("circle"),this.h()},l(i){e=L(i,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,"fill-opacity":!0,"stroke-width":!0,"pointer-events":!0}),I(e).forEach(b),this.h()},h(){c(e,"cx",t=r[31].x),c(e,"cy",n=r[14](r[31].y)),c(e,"r","7"),c(e,"stroke","white"),c(e,"fill","#545454"),c(e,"fill-opacity","1"),c(e,"stroke-width","1.5px"),c(e,"pointer-events","none")},m(i,a){N(i,e,a)},p(i,a){a[0]&1088&&t!==(t=i[31].x)&&c(e,"cx",t),a[0]&17472&&n!==(n=i[14](i[31].y))&&c(e,"cy",n)},d(i){i&&b(e)}}}function En(r){let e,t;return e=new to({props:{hoverId:r[12],circle:r[31],chartHeight:r[9]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&4096&&(a.hoverId=n[12]),i[0]&256&&(a.circle=n[31]),i[0]&512&&(a.chartHeight=n[9]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Mn(r){let e,t;return e=new io({props:{hoverId:r[12],label:r[34]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&4096&&(a.hoverId=n[12]),i[0]&8192&&(a.label=n[34]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Nn(r){let e,t;return e=new Xn({props:{selectedIndicator:r[7],circle:r[31],y:r[14]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&128&&(a.selectedIndicator=n[7]),i[0]&5120&&(a.circle=n[31]),i[0]&16384&&(a.y=n[14]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function lo(r){let e,t,n=(r[0]==="localAuthorities"||r[8].length>0)&&wn(r);return{c(){n&&n.c(),e=ne()},l(i){n&&n.l(i),e=ne()},m(i,a){n&&n.m(i,a),N(i,e,a),t=!0},p(i,a){i[0]==="localAuthorities"||i[8].length>0?n?(n.p(i,a),a[0]&257&&w(n,1)):(n=wn(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(ce(),M(n,1,1,()=>{n=null}),he())},i(i){t||(w(n),t=!0)},o(i){M(n),t=!1},d(i){n&&n.d(i),i&&b(e)}}}function ao(r,e,t){let n,i,a,l,o,s,f,u,h,_,d,{selectedArea:m,geogLevel:g,filteredIndicatorData:v,padding:A,chartWidth:y,spaceForOutliers:V,x:P,xDomainZeroBaselineTicked:z,width:S,valuesOutsideXDomain:E,visiblesAreasWithDataCodes:p,visibleAreasWithData:k,chosenRelatedAreasArray:Z,sameRegionAreasCodes:q,selectedIndicator:G}=e,D=Pe("areasArray"),U;function Y(O){U=O,t(12,U)}const F=O=>q.includes(O.datum.areacd),ye=O=>O.datum.areacd===U;return r.$$set=O=>{"selectedArea"in O&&t(15,m=O.selectedArea),"geogLevel"in O&&t(0,g=O.geogLevel),"filteredIndicatorData"in O&&t(16,v=O.filteredIndicatorData),"padding"in O&&t(1,A=O.padding),"chartWidth"in O&&t(17,y=O.chartWidth),"spaceForOutliers"in O&&t(2,V=O.spaceForOutliers),"x"in O&&t(18,P=O.x),"xDomainZeroBaselineTicked"in O&&t(19,z=O.xDomainZeroBaselineTicked),"width"in O&&t(3,S=O.width),"valuesOutsideXDomain"in O&&t(4,E=O.valuesOutsideXDomain),"visiblesAreasWithDataCodes"in O&&t(20,p=O.visiblesAreasWithDataCodes),"visibleAreasWithData"in O&&t(21,k=O.visibleAreasWithData),"chosenRelatedAreasArray"in O&&t(5,Z=O.chosenRelatedAreasArray),"sameRegionAreasCodes"in O&&t(6,q=O.sameRegionAreasCodes),"selectedIndicator"in O&&t(7,G=O.selectedIndicator)},r.$$.update=()=>{r.$$.dirty[0]&32769&&t(26,n=D.filter(O=>g==="localAuthorities"?["lower","upper"].includes(m.geogLevel)?m.geogLevel===O.geogLevel:O.geogLevel==="lower":["country","region","other"].includes(O.geogLevel)).map(O=>O.areacd)),r.$$.dirty[0]&68091908&&t(24,l=v.filter(O=>n.includes(O.areacd)).map(O=>({...O,xPosition:O.value<z[0]?-V/2:O.value>z[1]?y+V/2:P(O.value)}))),r.$$.dirty[0]&16777216&&t(10,f=new wt(l,5,O=>O.xPosition).oneSided().calculateYPositions().sort((O,Ce)=>Math.random()-Math.random())),r.$$.dirty[0]&1024&&console.log(f),r.$$.dirty[0]&1&&t(11,i={localAuthorities:250,countriesAndRegions:40}[g]),r.$$.dirty[0]&2050&&t(9,a=i-A.top-A.bottom),r.$$.dirty[0]&16777216&&t(25,o=l.map(O=>O.areacd)),r.$$.dirty[0]&52428800&&t(23,s=k.filter(O=>o.includes(O.areacd)&&!["similar","sameRegion"].includes(O.role)).map((O,Ce)=>({...O,value:l.find(C=>C.areacd===O.areacd).value}))),r.$$.dirty[0]&8650752&&t(8,u=new wt(s,8,O=>P(O.value)).oneSided().calculateYPositions()),r.$$.dirty[0]&1024&&t(22,h=[0,Math.max(...f.map(O=>O.y))]),r.$$.dirty[0]&4194816&&t(14,_=Ye().domain(h).range([a,0])),r.$$.dirty[0]&131332&&t(13,d=xn(u,[-V,y+V],O=>O.x,O=>20+O.datum.areanm.length*9))},[g,A,V,S,E,Z,q,G,u,a,f,i,U,d,_,m,v,y,P,z,p,k,h,s,l,o,n,Y,F,ye]}class oo extends de{constructor(e){super(),_e(this,e,ao,lo,me,{selectedArea:15,geogLevel:0,filteredIndicatorData:16,padding:1,chartWidth:17,spaceForOutliers:2,x:18,xDomainZeroBaselineTicked:19,width:3,valuesOutsideXDomain:4,visiblesAreasWithDataCodes:20,visibleAreasWithData:21,chosenRelatedAreasArray:5,sameRegionAreasCodes:6,selectedIndicator:7},null,[-1,-1])}}function Pn(r,e,t){const n=r.slice();return n[26]=e[t],n}function Tn(r){let e,t;return e=new oo({props:{selectedIndicator:r[4],selectedArea:r[0],geogLevel:r[26],valuesOutsideXDomain:r[10],filteredIndicatorData:r[3],padding:r[12],chartWidth:r[8],spaceForOutliers:r[11],x:r[13],xDomainZeroBaselineTicked:r[9],width:r[7],visiblesAreasWithDataCodes:r[2],visibleAreasWithData:r[1],chosenRelatedAreasArray:r[5],sameRegionAreasCodes:r[6]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i&16&&(a.selectedIndicator=n[4]),i&1&&(a.selectedArea=n[0]),i&1024&&(a.valuesOutsideXDomain=n[10]),i&8&&(a.filteredIndicatorData=n[3]),i&4096&&(a.padding=n[12]),i&256&&(a.chartWidth=n[8]),i&2048&&(a.spaceForOutliers=n[11]),i&8192&&(a.x=n[13]),i&512&&(a.xDomainZeroBaselineTicked=n[9]),i&128&&(a.width=n[7]),i&4&&(a.visiblesAreasWithDataCodes=n[2]),i&2&&(a.visibleAreasWithData=n[1]),i&32&&(a.chosenRelatedAreasArray=n[5]),i&64&&(a.sameRegionAreasCodes=n[6]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function so(r){let e,t,n,i,a,l,o,s,f,u=["localAuthorities","countriesAndRegions"],h=[];for(let d=0;d<2;d+=1)h[d]=Tn(Pn(r,u,d));const _=d=>M(h[d],1,1,()=>{h[d]=null});return l=new Qa({props:{valuesOutsideXDomain:r[10],spaceForOutliers:r[11],x:r[13],xDomainZeroBaselineTicked:r[9],selectedIndicator:r[4],chartWidth:r[8]}}),{c(){e=j("div"),t=j("div");for(let d=0;d<2;d+=1)h[d].c();n=te(),i=W("svg"),a=W("g"),Q(l.$$.fragment),this.h()},l(d){e=K(d,"DIV",{class:!0});var m=I(e);t=K(m,"DIV",{class:!0});var g=I(t);for(let y=0;y<2;y+=1)h[y].l(g);g.forEach(b),n=re(m),i=L(m,"svg",{width:!0,height:!0});var v=I(i);a=L(v,"g",{transform:!0});var A=I(a);J(l.$$.fragment,A),A.forEach(b),v.forEach(b),m.forEach(b),this.h()},h(){c(t,"class","beeswarms-container"),c(a,"transform",o="translate("+(r[12].left+(r[10][0]?r[11]:0))+",25)"),c(i,"width",r[7]),c(i,"height",fo),c(e,"class","svgs-container svelte-1uzu4sd"),_t(()=>r[25].call(e))},m(d,m){N(d,e,m),R(e,t);for(let g=0;g<2;g+=1)h[g]&&h[g].m(t,null);R(e,n),R(e,i),R(i,a),x(l,a,null),s=Dt(e,r[25].bind(e)),f=!0},p(d,[m]){if(m&16383){u=["localAuthorities","countriesAndRegions"];let v;for(v=0;v<2;v+=1){const A=Pn(d,u,v);h[v]?(h[v].p(A,m),w(h[v],1)):(h[v]=Tn(A),h[v].c(),w(h[v],1),h[v].m(t,null))}for(ce(),v=2;v<2;v+=1)_(v);he()}const g={};m&1024&&(g.valuesOutsideXDomain=d[10]),m&2048&&(g.spaceForOutliers=d[11]),m&8192&&(g.x=d[13]),m&512&&(g.xDomainZeroBaselineTicked=d[9]),m&16&&(g.selectedIndicator=d[4]),m&256&&(g.chartWidth=d[8]),l.$set(g),(!f||m&7168&&o!==(o="translate("+(d[12].left+(d[10][0]?d[11]:0))+",25)"))&&c(a,"transform",o),(!f||m&128)&&c(i,"width",d[7])},i(d){if(!f){for(let m=0;m<2;m+=1)w(h[m]);w(l.$$.fragment,d),f=!0}},o(d){h=h.filter(Boolean);for(let m=0;m<2;m+=1)M(h[m]);M(l.$$.fragment,d),f=!1},d(d){d&&b(e),Ae(h,d),$(l),s()}}}let fo=50;function uo(r,e,t){let n,i,a,l,o,s,f,u,h,_,d,m,g,{sameGeogLevelAreasCodes:v,selectedArea:A,visibleAreasWithData:y,visiblesAreasWithDataCodes:V,filteredIndicatorDataForVisibleAreas:P,filteredIndicatorData:z,selectedIndicator:S,selectedIndicatorCalculations:E,chosenRelatedAreasArray:p,sameRegionAreasCodes:k}=e,Z=1e3,q=[];function G(){Z=this.clientWidth,t(7,Z)}return r.$$set=D=>{"sameGeogLevelAreasCodes"in D&&t(14,v=D.sameGeogLevelAreasCodes),"selectedArea"in D&&t(0,A=D.selectedArea),"visibleAreasWithData"in D&&t(1,y=D.visibleAreasWithData),"visiblesAreasWithDataCodes"in D&&t(2,V=D.visiblesAreasWithDataCodes),"filteredIndicatorDataForVisibleAreas"in D&&t(15,P=D.filteredIndicatorDataForVisibleAreas),"filteredIndicatorData"in D&&t(3,z=D.filteredIndicatorData),"selectedIndicator"in D&&t(4,S=D.selectedIndicator),"selectedIndicatorCalculations"in D&&t(16,E=D.selectedIndicatorCalculations),"chosenRelatedAreasArray"in D&&t(5,p=D.chosenRelatedAreasArray),"sameRegionAreasCodes"in D&&t(6,k=D.sameRegionAreasCodes)},r.$$.update=()=>{if(r.$$.dirty&8&&t(18,d=z.map(D=>D.value)),r.$$.dirty&262144&&t(24,l=[.95*Math.min(...d),1.05*Math.max(...d)]),r.$$.dirty&16842752&&t(23,o=E?[E.med-3*E.mad,parseFloat(E.med)+3*E.mad]:l),r.$$.dirty&8388624&&t(19,s=S.metadata.canBeNegative==="F"?[Math.max(0,o[0]),o[1]]:o),r.$$.dirty&524288&&t(22,f=Math.abs(s[1]-s[0])),r.$$.dirty&4194304&&t(21,u=10**Math.floor(Math.log10(f))),r.$$.dirty&6291456&&t(20,h=f/u<=1.5?u/5:f/u<=3?u/2:f/u<=6?u:u*2),r.$$.dirty&1703936){t(17,q=[]);for(let D=Math.ceil(s[0]-h);D<=Math.floor(s[1]+h);D++)D%h==0&&q.push(D)}r.$$.dirty&655376&&t(9,_=q.length===0?s:[S.metadata.canBeNegative==="F"?Math.max(0,q[0]):q[0],q[q.length-1]]),r.$$.dirty&262656&&t(10,m=[d.some(D=>D<_[0]),d.some(D=>D>_[1])]),r.$$.dirty&7296&&t(8,a=Z-n.left-n.right-(m[0]?i:0)-(m[1]?i:0)),r.$$.dirty&768&&t(13,g=Ye().domain(_).range([0,a]))},t(12,n={top:15,right:30,bottom:15,left:30}),t(11,i=90),[A,y,V,z,S,p,k,Z,a,_,m,i,n,g,v,P,E,q,d,s,h,u,f,o,l,G]}class co extends de{constructor(e){super(),_e(this,e,uo,so,me,{sameGeogLevelAreasCodes:14,selectedArea:0,visibleAreasWithData:1,visiblesAreasWithDataCodes:2,filteredIndicatorDataForVisibleAreas:15,filteredIndicatorData:3,selectedIndicator:4,selectedIndicatorCalculations:16,chosenRelatedAreasArray:5,sameRegionAreasCodes:6})}}function ho(r){let e,t;return e=new co({props:{sameRegionAreasCodes:r[8],selectedArea:r[6],sameGeogLevelAreasCodes:r[11],visibleAreasWithData:r[14],visiblesAreasWithDataCodes:r[24],filteredIndicatorDataForVisibleAreas:r[23],filteredIndicatorData:r[13],selectedIndicator:r[16],selectedIndicatorCalculations:r[28].find(r[43]),chosenRelatedAreasArray:r[1]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&256&&(a.sameRegionAreasCodes=n[8]),i[0]&64&&(a.selectedArea=n[6]),i[0]&2048&&(a.sameGeogLevelAreasCodes=n[11]),i[0]&16384&&(a.visibleAreasWithData=n[14]),i[0]&16777216&&(a.visiblesAreasWithDataCodes=n[24]),i[0]&8388608&&(a.filteredIndicatorDataForVisibleAreas=n[23]),i[0]&8192&&(a.filteredIndicatorData=n[13]),i[0]&65536&&(a.selectedIndicator=n[16]),i[0]&134283264&&(a.selectedIndicatorCalculations=n[28].find(n[43])),i[0]&2&&(a.chosenRelatedAreasArray=n[1]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function _o(r){let e,t;return e=new Ka({props:{filteredPeriodsArray:r[18],visibleAreaTypesWithData:r[25],visibleAreasWithData:r[14],visiblesAreasWithDataCodes:r[24],filteredIndicatorDataForVisibleAreas:r[23],selectedArea:r[6],selectedIndicator:r[16],selectedIndicatorCalculations:r[28].find(r[42])}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&262144&&(a.filteredPeriodsArray=n[18]),i[0]&33554432&&(a.visibleAreaTypesWithData=n[25]),i[0]&16384&&(a.visibleAreasWithData=n[14]),i[0]&16777216&&(a.visiblesAreasWithDataCodes=n[24]),i[0]&8388608&&(a.filteredIndicatorDataForVisibleAreas=n[23]),i[0]&64&&(a.selectedArea=n[6]),i[0]&65536&&(a.selectedIndicator=n[16]),i[0]&134283328&&(a.selectedIndicatorCalculations=n[28].find(n[42])),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function mo(r){let e,t,n,i,a,l,o,s,f,u,h,_,d,m,g,v,A,y,V,P,z;function S(C){r[33](C)}let E={name:"select-main-chart-type",optionsArray:r[21]};r[20]!==void 0&&(E.chosenId=r[20]),e=new Vl({props:E}),ie.push(()=>le(e,"chosenId",S));function p(C){r[34](C)}let k={name:"select-indicator",optionsArray:r[22]};r[12]!==void 0&&(k.chosenId=r[12]),a=new zl({props:k}),ie.push(()=>le(a,"chosenId",p)),s=new Zl({props:{subtitleText:r[16].metadata.subtitle+", "+(r[17]?r[27].label:r[26].label+" to "+r[27].label),additionalText:r[16].metadata.additionalDescription.split("|")}});function Z(C){r[36](C)}function q(C){r[37](C)}function G(C){r[38](C)}function D(C){r[39](C)}function U(C){r[40](C)}function Y(C){r[41](C)}let F={selectedArea:r[6],sameRegionsLabel:r[10],areasCodesForAreasWithData:r[15],selectedAndRelatedAreas:r[7],selectedAndRelatedAreasCodes:r[9],sameRegionAreasCodes:r[8],visibleAreaTypesWithData:r[25].filter(r[35])};r[0]!==void 0&&(F.chosenParentAreasArray=r[0]),r[1]!==void 0&&(F.chosenRelatedAreasArray=r[1]),r[2]!==void 0&&(F.chosenSameRegionArray=r[2]),r[3]!==void 0&&(F.chosenCountriesArray=r[3]),r[4]!==void 0&&(F.chosenRegionsArray=r[4]),r[5]!==void 0&&(F.chosenAllOtherArray=r[5]),u=new ca({props:F}),ie.push(()=>le(u,"chosenParentAreasArray",Z)),ie.push(()=>le(u,"chosenRelatedAreasArray",q)),ie.push(()=>le(u,"chosenSameRegionArray",G)),ie.push(()=>le(u,"chosenCountriesArray",D)),ie.push(()=>le(u,"chosenRegionsArray",U)),ie.push(()=>le(u,"chosenAllOtherArray",Y));const ye=[_o,ho],O=[];function Ce(C,ee){return C[19].label==="Time series"?0:C[19].label==="Distribution"?1:-1}return~(V=Ce(r))&&(P=O[V]=ye[V](r)),{c(){Q(e.$$.fragment),n=te(),i=j("div"),Q(a.$$.fragment),o=te(),Q(s.$$.fragment),f=te(),Q(u.$$.fragment),A=te(),y=j("div"),P&&P.c(),this.h()},l(C){J(e.$$.fragment,C),n=re(C),i=K(C,"DIV",{class:!0});var ee=I(i);J(a.$$.fragment,ee),o=re(ee),J(s.$$.fragment,ee),f=re(ee),J(u.$$.fragment,ee),A=re(ee),y=K(ee,"DIV",{class:!0});var ke=I(y);P&&P.l(ke),ke.forEach(b),ee.forEach(b),this.h()},h(){c(y,"class","chart-container"),c(i,"class","main-chart-container svelte-1y5b3rv")},m(C,ee){x(e,C,ee),N(C,n,ee),N(C,i,ee),x(a,i,null),R(i,o),x(s,i,null),R(i,f),x(u,i,null),R(i,A),R(i,y),~V&&O[V].m(y,null),z=!0},p(C,ee){const ke={};ee[0]&2097152&&(ke.optionsArray=C[21]),!t&&ee[0]&1048576&&(t=!0,ke.chosenId=C[20],ae(()=>t=!1)),e.$set(ke);const Ne={};ee[0]&4194304&&(Ne.optionsArray=C[22]),!l&&ee[0]&4096&&(l=!0,Ne.chosenId=C[12],ae(()=>l=!1)),a.$set(Ne);const ge={};ee[0]&201523200&&(ge.subtitleText=C[16].metadata.subtitle+", "+(C[17]?C[27].label:C[26].label+" to "+C[27].label)),ee[0]&65536&&(ge.additionalText=C[16].metadata.additionalDescription.split("|")),s.$set(ge);const se={};ee[0]&64&&(se.selectedArea=C[6]),ee[0]&1024&&(se.sameRegionsLabel=C[10]),ee[0]&32768&&(se.areasCodesForAreasWithData=C[15]),ee[0]&128&&(se.selectedAndRelatedAreas=C[7]),ee[0]&512&&(se.selectedAndRelatedAreasCodes=C[9]),ee[0]&256&&(se.sameRegionAreasCodes=C[8]),ee[0]&33554496&&(se.visibleAreaTypesWithData=C[25].filter(C[35])),!h&&ee[0]&1&&(h=!0,se.chosenParentAreasArray=C[0],ae(()=>h=!1)),!_&&ee[0]&2&&(_=!0,se.chosenRelatedAreasArray=C[1],ae(()=>_=!1)),!d&&ee[0]&4&&(d=!0,se.chosenSameRegionArray=C[2],ae(()=>d=!1)),!m&&ee[0]&8&&(m=!0,se.chosenCountriesArray=C[3],ae(()=>m=!1)),!g&&ee[0]&16&&(g=!0,se.chosenRegionsArray=C[4],ae(()=>g=!1)),!v&&ee[0]&32&&(v=!0,se.chosenAllOtherArray=C[5],ae(()=>v=!1)),u.$set(se);let T=V;V=Ce(C),V===T?~V&&O[V].p(C,ee):(P&&(ce(),M(O[T],1,1,()=>{O[T]=null}),he()),~V?(P=O[V],P?P.p(C,ee):(P=O[V]=ye[V](C),P.c()),w(P,1),P.m(y,null)):P=null)},i(C){z||(w(e.$$.fragment,C),w(a.$$.fragment,C),w(s.$$.fragment,C),w(u.$$.fragment,C),w(P),z=!0)},o(C){M(e.$$.fragment,C),M(a.$$.fragment,C),M(s.$$.fragment,C),M(u.$$.fragment,C),M(P),z=!1},d(C){$(e,C),C&&b(n),C&&b(i),$(a),$(s),$(u),~V&&O[V].d()}}}function go(r,e,t){let n,i,a,l,o,s,f,u,h,_,d,m,g,v,A,y,{selectedArea:V,selectedAndRelatedAreas:P,visibleAreaTypes:z,visibleAreas:S,visibleAreasCodes:E,sameRegionAreasCodes:p,selectedAndRelatedAreasCodes:k,sameRegionsLabel:Z,sameGeogLevelAreasCodes:q}=e,{chosenParentAreasArray:G,chosenRelatedAreasArray:D,chosenSameRegionArray:U,chosenCountriesArray:Y,chosenRegionsArray:F,chosenAllOtherArray:ye}=e,O=Pe("combinedDataObject"),Ce=Pe("indicatorsObject"),C=Pe("indicatorsCodeLabelArray"),ee;Hn(()=>{t(12,ee=n[0])});let ke=Pe("periodsLookupArray"),Ne=Pe("indicatorsCalculationsArray");function ge(B){o=B,t(20,o),t(21,l),t(18,a),t(47,ke),t(16,i),t(12,ee),t(45,Ce),t(22,n),t(46,C),t(44,O),t(6,V)}function se(B){ee=B,t(12,ee)}const T=B=>B.areacd!=V.areacd;function H(B){G=B,t(0,G)}function nt(B){D=B,t(1,D)}function we(B){U=B,t(2,U)}function Ie(B){Y=B,t(3,Y)}function Re(B){F=B,t(4,F)}function De(B){ye=B,t(5,ye)}const X=B=>i.code===B.code&&u.xDomainNumb===B.period&&B.geog_level===V.geogLevel,fe=B=>i.code===B.code&&u.xDomainNumb===B.period&&B.geog_level==="lower";return r.$$set=B=>{"selectedArea"in B&&t(6,V=B.selectedArea),"selectedAndRelatedAreas"in B&&t(7,P=B.selectedAndRelatedAreas),"visibleAreaTypes"in B&&t(29,z=B.visibleAreaTypes),"visibleAreas"in B&&t(30,S=B.visibleAreas),"visibleAreasCodes"in B&&t(31,E=B.visibleAreasCodes),"sameRegionAreasCodes"in B&&t(8,p=B.sameRegionAreasCodes),"selectedAndRelatedAreasCodes"in B&&t(9,k=B.selectedAndRelatedAreasCodes),"sameRegionsLabel"in B&&t(10,Z=B.sameRegionsLabel),"sameGeogLevelAreasCodes"in B&&t(11,q=B.sameGeogLevelAreasCodes),"chosenParentAreasArray"in B&&t(0,G=B.chosenParentAreasArray),"chosenRelatedAreasArray"in B&&t(1,D=B.chosenRelatedAreasArray),"chosenSameRegionArray"in B&&t(2,U=B.chosenSameRegionArray),"chosenCountriesArray"in B&&t(3,Y=B.chosenCountriesArray),"chosenRegionsArray"in B&&t(4,F=B.chosenRegionsArray),"chosenAllOtherArray"in B&&t(5,ye=B.chosenAllOtherArray)},r.$$.update=()=>{r.$$.dirty[0]&64&&t(22,n=C.filter(B=>O[B.code].filter(Le=>Le.areacd===V.areacd).length>0)),r.$$.dirty[0]&4198400&&t(16,i=ee?Ce[ee.code]:Ce[n[0].code]),r.$$.dirty[0]&65536&&t(18,a=ke.filter(B=>B.periodGroup===i.periodGroup&B.xDomainNumb>=i.minXDomainNumb&B.xDomainNumb<=i.maxXDomainNumb)),r.$$.dirty[0]&262144&&t(21,l=ci.filter(B=>B.multiYear!="Yes"|a.length>1)),r.$$.dirty[0]&3145728&&t(20,o=l.find(B=>B.id==o)==null?l[0].id:o),r.$$.dirty[0]&3145728&&t(19,s=l.find(B=>B.id==o)),r.$$.dirty[0]&786432&&t(17,f=s==null?void 0:s.multiYear=="No"||s.multiYear=="Either"&&a.length===1),r.$$.dirty[0]&262144&&t(27,u=a[0]),r.$$.dirty[0]&262144&&t(26,h=a[a.length-1]),r.$$.dirty[0]&65536&&t(32,_=O[i.code]),r.$$.dirty[0]&458752|r.$$.dirty[1]&2&&t(13,d=_.filter(B=>B.value!="NA"&&a.filter(Le=>f?Le.xDomainNumb==i.maxXDomainNumb:!0).map(Le=>Le.xDomainNumb).includes(B.xDomainNumb))),r.$$.dirty[0]&8192&&t(15,m=[...new Set(d.map(B=>B.areacd))]),r.$$.dirty[0]&536903680&&t(25,g=z.filter(B=>"areacd"in B?m.includes(B.areacd):!0)),r.$$.dirty[0]&1073774592&&t(14,v=S.filter(B=>m.includes(B.areacd))),r.$$.dirty[0]&16384&&t(24,A=v.map(B=>B.areacd)),r.$$.dirty[0]&8192|r.$$.dirty[1]&1&&t(23,y=d.filter(B=>E.includes(B.areacd)))},[G,D,U,Y,F,ye,V,P,p,k,Z,q,ee,d,v,m,i,f,a,s,o,l,n,y,A,g,h,u,Ne,z,S,E,_,ge,se,T,H,nt,we,Ie,Re,De,X,fe]}class bo extends de{constructor(e){super(),_e(this,e,go,mo,me,{selectedArea:6,selectedAndRelatedAreas:7,visibleAreaTypes:29,visibleAreas:30,visibleAreasCodes:31,sameRegionAreasCodes:8,selectedAndRelatedAreasCodes:9,sameRegionsLabel:10,sameGeogLevelAreasCodes:11,chosenParentAreasArray:0,chosenRelatedAreasArray:1,chosenSameRegionArray:2,chosenCountriesArray:3,chosenRegionsArray:4,chosenAllOtherArray:5},null,[-1,-1])}}function Wn(r,e,t){const n=r.slice();return n[40]=e[t],n[42]=t,n}function vo(r){let e,t=r[8].areanm+"",n;return{c(){e=be("Get localised data, insights and trends for "),n=be(t)},l(i){e=ve(i,"Get localised data, insights and trends for "),n=ve(i,t)},m(i,a){N(i,e,a),N(i,n,a)},p(i,a){a[0]&256&&t!==(t=i[8].areanm+"")&&pe(n,t)},d(i){i&&b(e),i&&b(n)}}}function Ao(r){let e,t;return e=new si({props:{$$slots:{default:[vo]},$$scope:{ctx:r}}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&256|i[1]&4096&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function Ln(r){let e,t;return e=new Wl({props:{topic:r[40],selectedArea:r[8],sameGeogLevelAreasCodes:r[14]}}),{c(){Q(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const a={};i[0]&256&&(a.selectedArea=n[8]),i[0]&16384&&(a.sameGeogLevelAreasCodes=n[14]),e.$set(a)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){$(e,n)}}}function po(r){let e,t,n,i,a,l,o,s;function f(v){r[31](v)}function u(v){r[32](v)}function h(v){r[33](v)}function _(v){r[34](v)}function d(v){r[35](v)}function m(v){r[36](v)}let g={selectedArea:r[8],sameGeogLevelAreasCodes:r[14],sameRegionsLabel:r[7],selectedAndRelatedAreas:r[9],visibleAreas:r[6],visibleAreaTypes:r[11],visibleAreasCodes:r[10],sameRegionAreasCodes:r[12],selectedAndRelatedAreasCodes:r[13]};return r[0]!==void 0&&(g.chosenParentAreasArray=r[0]),r[1]!==void 0&&(g.chosenRelatedAreasArray=r[1]),r[2]!==void 0&&(g.chosenSameRegionArray=r[2]),r[3]!==void 0&&(g.chosenCountriesArray=r[3]),r[4]!==void 0&&(g.chosenRegionsArray=r[4]),r[5]!==void 0&&(g.chosenAllOtherArray=r[5]),e=new bo({props:g}),ie.push(()=>le(e,"chosenParentAreasArray",f)),ie.push(()=>le(e,"chosenRelatedAreasArray",u)),ie.push(()=>le(e,"chosenSameRegionArray",h)),ie.push(()=>le(e,"chosenCountriesArray",_)),ie.push(()=>le(e,"chosenRegionsArray",d)),ie.push(()=>le(e,"chosenAllOtherArray",m)),{c(){Q(e.$$.fragment)},l(v){J(e.$$.fragment,v)},m(v,A){x(e,v,A),s=!0},p(v,A){const y={};A[0]&256&&(y.selectedArea=v[8]),A[0]&16384&&(y.sameGeogLevelAreasCodes=v[14]),A[0]&128&&(y.sameRegionsLabel=v[7]),A[0]&512&&(y.selectedAndRelatedAreas=v[9]),A[0]&64&&(y.visibleAreas=v[6]),A[0]&2048&&(y.visibleAreaTypes=v[11]),A[0]&1024&&(y.visibleAreasCodes=v[10]),A[0]&4096&&(y.sameRegionAreasCodes=v[12]),A[0]&8192&&(y.selectedAndRelatedAreasCodes=v[13]),!t&&A[0]&1&&(t=!0,y.chosenParentAreasArray=v[0],ae(()=>t=!1)),!n&&A[0]&2&&(n=!0,y.chosenRelatedAreasArray=v[1],ae(()=>n=!1)),!i&&A[0]&4&&(i=!0,y.chosenSameRegionArray=v[2],ae(()=>i=!1)),!a&&A[0]&8&&(a=!0,y.chosenCountriesArray=v[3],ae(()=>a=!1)),!l&&A[0]&16&&(l=!0,y.chosenRegionsArray=v[4],ae(()=>l=!1)),!o&&A[0]&32&&(o=!0,y.chosenAllOtherArray=v[5],ae(()=>o=!1)),e.$set(y)},i(v){s||(w(e.$$.fragment,v),s=!0)},o(v){M(e.$$.fragment,v),s=!1},d(v){$(e,v)}}}function yo(r){let e,t;return{c(){e=j("p"),t=be("Here, you can find information and links to the data.")},l(n){e=K(n,"P",{});var i=I(e);t=ve(i,"Here, you can find information and links to the data."),i.forEach(b)},m(n,i){N(n,e,i),R(e,t)},p:oe,d(n){n&&b(e)}}}function ko(r){let e,t,n,i,a,l=r[15],o=[];for(let f=0;f<l.length;f+=1)o[f]=Ln(Wn(r,l,f));const s=f=>M(o[f],1,1,()=>{o[f]=null});return t=new vt({props:{title:"Select an indicator",$$slots:{default:[po]},$$scope:{ctx:r}}}),i=new vt({props:{title:"Get the data",$$slots:{default:[yo]},$$scope:{ctx:r}}}),{c(){for(let f=0;f<o.length;f+=1)o[f].c();e=te(),Q(t.$$.fragment),n=te(),Q(i.$$.fragment)},l(f){for(let u=0;u<o.length;u+=1)o[u].l(f);e=re(f),J(t.$$.fragment,f),n=re(f),J(i.$$.fragment,f)},m(f,u){for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(f,u);N(f,e,u),x(t,f,u),N(f,n,u),x(i,f,u),a=!0},p(f,u){if(u[0]&49408){l=f[15];let d;for(d=0;d<l.length;d+=1){const m=Wn(f,l,d);o[d]?(o[d].p(m,u),w(o[d],1)):(o[d]=Ln(m),o[d].c(),w(o[d],1),o[d].m(e.parentNode,e))}for(ce(),d=l.length;d<o.length;d+=1)s(d);he()}const h={};u[0]&32767|u[1]&4096&&(h.$$scope={dirty:u,ctx:f}),t.$set(h);const _={};u[1]&4096&&(_.$$scope={dirty:u,ctx:f}),i.$set(_)},i(f){if(!a){for(let u=0;u<l.length;u+=1)w(o[u]);w(t.$$.fragment,f),w(i.$$.fragment,f),a=!0}},o(f){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)M(o[u]);M(t.$$.fragment,f),M(i.$$.fragment,f),a=!1},d(f){Ae(o,f),f&&b(e),$(t,f),f&&b(n),$(i,f)}}}function wo(r){let e,t,n,i,a,l,o,s;return e=new ai({props:{links:[{label:"Home",href:"/"},{label:"Explore subnational statistics",href:`${it}/`},{label:"Find a local area",href:`${it}/areas`},{label:r[8].areanm}],background:"#eaeaea"}}),n=new oi({props:{title:r[8].areanm,background:"#eaeaea",$$slots:{default:[Ao]},$$scope:{ctx:r}}}),a=new ui({}),o=new fi({props:{contentsLabel:"Explore this area",$$slots:{default:[ko]},$$scope:{ctx:r}}}),{c(){Q(e.$$.fragment),t=te(),Q(n.$$.fragment),i=te(),Q(a.$$.fragment),l=te(),Q(o.$$.fragment)},l(f){J(e.$$.fragment,f),t=re(f),J(n.$$.fragment,f),i=re(f),J(a.$$.fragment,f),l=re(f),J(o.$$.fragment,f)},m(f,u){x(e,f,u),N(f,t,u),x(n,f,u),N(f,i,u),x(a,f,u),N(f,l,u),x(o,f,u),s=!0},p(f,u){const h={};u[0]&256&&(h.links=[{label:"Home",href:"/"},{label:"Explore subnational statistics",href:`${it}/`},{label:"Find a local area",href:`${it}/areas`},{label:f[8].areanm}]),e.$set(h);const _={};u[0]&256&&(_.title=f[8].areanm),u[0]&256|u[1]&4096&&(_.$$scope={dirty:u,ctx:f}),n.$set(_);const d={};u[0]&32767|u[1]&4096&&(d.$$scope={dirty:u,ctx:f}),o.$set(d)},i(f){s||(w(e.$$.fragment,f),w(n.$$.fragment,f),w(a.$$.fragment,f),w(o.$$.fragment,f),s=!0)},o(f){M(e.$$.fragment,f),M(n.$$.fragment,f),M(a.$$.fragment,f),M(o.$$.fragment,f),s=!1},d(f){$(e,f),f&&b(t),$(n,f),f&&b(i),$(a,f),f&&b(l),$(o,f)}}}function Io(r,e,t){let n,i,a,l,o,s,f,u,h,_,d,m,g,v,A,y,V,P,z,S,E,p,k,{data:Z}=e,q=Pe("areasArray"),G=[],D=[],U=[],Y=[],F=[],ye=[],O=Pe("similarAreasLookupObject");Hn(()=>{t(0,G=[s==null?void 0:s.areacd,f==null?void 0:f.areacd])});let Ce=Pe("topicsArray");function C(T){G=T,t(0,G)}function ee(T){D=T,t(1,D)}function ke(T){U=T,t(2,U)}function Ne(T){Y=T,t(3,Y)}function ge(T){F=T,t(4,F)}function se(T){ye=T,t(5,ye)}return r.$$set=T=>{"data"in T&&t(16,Z=T.data)},r.$$.update=()=>{r.$$.dirty[0]&65536&&t(8,n=q.find(T=>T.areacd===Z.areacd)),r.$$.dirty[0]&256&&t(30,i=q.filter(T=>T.geogLevel===n.geogLevel)),r.$$.dirty[0]&1073741824&&t(14,a=i.map(T=>T.areacd)),r.$$.dirty[0]&256&&t(7,l=di(n.geogLevel,n.parentnm)),r.$$.dirty[0]&60&&t(28,o=[...Y,...F,...U,...ye]),r.$$.dirty[0]&256&&t(18,s=q.find(T=>T.areacd==n.parentcd)),r.$$.dirty[0]&256&&t(17,f=q.find(T=>T.areacd==n.countrycd&&T.areacd!=n.parentcd)),r.$$.dirty[0]&256&&t(29,u=q.find(T=>T.areacd==="K02000001"&&T.areacd!=n.parentcd&&T.areacd!=n.countrycd)),r.$$.dirty[0]&537264384&&t(9,h=[n,s,f,u].filter(T=>T!=null).map(T=>({...T,role:T.areacd===n.areacd?"main":T.areacd===n.parentcd?"parent":T.areacd===n.countrycd?"country":"uk"}))),r.$$.dirty[0]&512&&t(13,_=h.map(T=>T.areacd)),r.$$.dirty[0]&769&&t(22,d=h.filter(T=>G.includes(T.areacd)||T.areacd===n.areacd)),r.$$.dirty[0]&268435456&&t(21,m=q.filter(T=>o.includes(T.areacd)).map((T,H)=>({...T,role:"custom"+(H+1)}))),r.$$.dirty[0]&2097152&&t(24,g=m.map(T=>T.areacd)),r.$$.dirty[0]&256&&t(27,v=q.filter(T=>T.parentcd===n.parentcd&&T.areacd!=n.areacd)),r.$$.dirty[0]&134217728&&t(12,A=v.map(T=>T.areacd)),r.$$.dirty[0]&150994946&&t(20,y=v.filter(T=>!g.includes(T.areacd)&&D.includes("sameRegion")).map(T=>({...T,role:"sameRegion"}))),r.$$.dirty[0]&1048576&&t(23,V=y.map(T=>T.areacd)),r.$$.dirty[0]&256&&t(26,P=O[n.areacd].split("|")),r.$$.dirty[0]&67108864&&t(25,z=q.filter(T=>P.includes(T.areacd))),r.$$.dirty[0]&58720258&&t(19,S=z.filter(T=>!g.includes(T.areacd)&&!V.includes(T.areacd)&&D.includes("similar")).map(T=>({...T,role:"similar"}))),r.$$.dirty[0]&524288&&S.map(T=>T.areacd),r.$$.dirty[0]&7864320&&t(6,E=[...d,...m,...y,...S]),r.$$.dirty[0]&7864448&&t(11,p=[...d,...m,...y.length>0?[{label:l,role:"sameRegion"}]:[],...S.length>0?[{label:"Demographically similar areas",role:"similar"}]:[]]),r.$$.dirty[0]&64&&t(10,k=E.map(T=>T.areacd))},[G,D,U,Y,F,ye,E,l,n,h,k,p,A,_,a,Ce,Z,f,s,S,y,m,d,V,g,z,P,v,o,u,i,C,ee,ke,Ne,ge,se]}class Vo extends de{constructor(e){super(),_e(this,e,Io,wo,me,{data:16},null,[-1,-1])}}export{Vo as component};
