//js
import{S as fe,i as he,s as de,k as N,a as U,l as P,m as y,c as J,h as _,n as r,p as x,b as T,C as b,D as me,q as $,r as ee,u as we,W as Le,g as q,v as Re,f as Me,d as X,V as ve,U as ue,y as le,z as ae,A as ne,B as re,F as B,G as O,w as be,Q as ke,H as qe,R as pe,P as Hl,T as je,Y as Bl,X as Ge,e as Ee,a3 as Wl,o as Ol,$ as et,a4 as nt,a5 as Xl,a0 as ql,_ as Yl,a1 as xe,a2 as Je}from"../chunks/index.da7df310.js";import{b as $e}from"../chunks/paths.13552519.js";import{T as Ql,H as Zl,S as Ul}from"../chunks/Subhead.f3f9521d.js";import{a as Qe,l as Jl,M as xl,f as $l,b as ea,c as rt,A as it,s as Oe,H as ta,S as la,P as aa}from"../chunks/HorizontalBeeswarmKey.8b54cada.js";import{i as Pe,j as na,k as Ze,h as Ae,c as ra,r as ia}from"../chunks/config.09e429ba.js";import{a as Te,r as Be,c as oa,t as Ue,d as ot,b as sa}from"../chunks/utils.7a2ac3e5.js";import{S as ca}from"../chunks/Select.4e9371a5.js";function st(l){let e,t;return{c(){e=N("p"),t=$(l[8]),this.h()},l(a){e=P(a,"P",{class:!0,style:!0});var n=y(e);t=ee(n,l[8]),n.forEach(_),this.h()},h(){r(e,"class","mainText svelte-uxdwpk"),x(e,"font-size",l[8].length<=5?"18px":l[8].length<=6?"16px":l[8].length<=7?"14px":"12px")},m(a,n){T(a,e,n),b(e,t)},p(a,n){n&256&&we(t,a[8]),n&256&&x(e,"font-size",a[8].length<=5?"18px":a[8].length<=6?"16px":a[8].length<=7?"14px":"12px")},d(a){a&&_(e)}}}function ct(l){let e,t;return{c(){e=N("p"),t=$(l[7]),this.h()},l(a){e=P(a,"P",{class:!0,style:!0});var n=y(e);t=ee(n,l[7]),n.forEach(_),this.h()},h(){r(e,"class","secondaryText svelte-uxdwpk"),x(e,"font-size",l[2].length<=5?"12px":"10px"),x(e,"line-height",l[2].length<=5?"13px":"11px")},m(a,n){T(a,e,n),b(e,t)},p(a,n){n&128&&we(t,a[7]),n&4&&x(e,"font-size",a[2].length<=5?"12px":"10px"),n&4&&x(e,"line-height",a[2].length<=5?"13px":"11px")},d(a){a&&_(e)}}}function ua(l){let e,t=l[0].includes(0),a,n=l[3]!=null&l[4]!=null&l[0].includes(1)&l[0].includes(0),i,o=t&&st(l),f=n&&ct(l);return{c(){e=N("div"),o&&o.c(),a=U(),f&&f.c(),this.h()},l(s){e=P(s,"DIV",{class:!0,style:!0});var c=y(e);o&&o.l(c),a=J(c),f&&f.l(c),c.forEach(_),this.h()},h(){r(e,"class",i="cell-container "+(l[4]==null?"no-data":"")+" svelte-uxdwpk"),x(e,"background-color",l[9]),x(e,"color",l[1]===2&l[6]==="improving"&l[5]==="worse than average"?"black":"white")},m(s,c){T(s,e,c),o&&o.m(e,null),b(e,a),f&&f.m(e,null)},p(s,[c]){c&1&&(t=s[0].includes(0)),t?o?o.p(s,c):(o=st(s),o.c(),o.m(e,a)):o&&(o.d(1),o=null),c&25&&(n=s[3]!=null&s[4]!=null&s[0].includes(1)&s[0].includes(0)),n?f?f.p(s,c):(f=ct(s),f.c(),f.m(e,null)):f&&(f.d(1),f=null),c&16&&i!==(i="cell-container "+(s[4]==null?"no-data":"")+" svelte-uxdwpk")&&r(e,"class",i),c&512&&x(e,"background-color",s[9]),c&98&&x(e,"color",s[1]===2&s[6]==="improving"&s[5]==="worse than average"?"black":"white")},i:me,o:me,d(s){s&&_(e),o&&o.d(),f&&f.d()}}}function fa(l,e,t){let a,n,i,o,f,s,c,u,h,d,{calculations:g,indicatorMetadata:m,latestData:v,initialData:k,labelsArray:w,comparisonsId:V,rowNumb:I}=e,p=m.prefix===null?"":m.prefix,L=m.suffix===null?"":m.suffix;return l.$$set=D=>{"calculations"in D&&t(10,g=D.calculations),"indicatorMetadata"in D&&t(11,m=D.indicatorMetadata),"latestData"in D&&t(12,v=D.latestData),"initialData"in D&&t(13,k=D.initialData),"labelsArray"in D&&t(0,w=D.labelsArray),"comparisonsId"in D&&t(1,V=D.comparisonsId),"rowNumb"in D&&t(14,I=D.rowNumb)},l.$$.update=()=>{l.$$.dirty&4096&&t(4,a=v.length>0?v[0].value:null),l.$$.dirty&8192&&t(3,n=k.length>0?k[0].value:null),l.$$.dirty&24&&t(16,i=a!=null&n!=null?100*(a-n)/n:null),l.$$.dirty&1040&&t(15,o=a!=null?100*(a-g.medianValue)/g.medianValue:null),l.$$.dirty&67584&&t(6,f=i!=null?Math.abs(i)<m.similarThreshold?"similar":i>0?m.polarity==1?"improving":"worsening":m.polarity==1?"worsening":"improving":null),l.$$.dirty&34816&&t(5,s=o!=null?Math.abs(o)<m.similarThreshold?"similar":o>0?m.polarity==1?"better than average":"worse than average":m.polarity==1?"worse than average":"better than average":null),l.$$.dirty&98&&t(9,c=f==null&s==null?"grey":Pe[f!=null&[1,2].includes(V)?f:"similar"][s!=null&[0,2].includes(V)?s:"similar"]),l.$$.dirty&2064&&t(8,u=a!=null?p+Te(Be(a,m.decimalPlaces))+L:"No data"),l.$$.dirty&2056&&t(2,h=n!=null?p+Te(Be(n,m.decimalPlaces))+L:"No data"),l.$$.dirty&17420&&t(7,d=n!=null?I===0?"("+h+" in "+g.minXDomain+")":"("+h+")":"No data")},[w,V,h,n,a,s,f,d,u,c,g,m,v,k,I,o,i]}let ha=class extends fe{constructor(e){super(),he(this,e,fa,ua,de,{calculations:10,indicatorMetadata:11,latestData:12,initialData:13,labelsArray:0,comparisonsId:1,rowNumb:14})}};function ut(l,e,t){const a=l.slice();return a[14]=e[t],a[16]=t,a}function ft(l){let e,t,a,n;function i(...f){return l[11](l[14],...f)}function o(...f){return l[12](l[14],...f)}return t=new ha({props:{calculations:l[14],rowNumb:l[5],comparisonsId:l[0],labelsArray:l[1],indicatorMetadata:l[2].find(i),latestData:l[4].filter(o),initialData:"indicator-"+l[14].id in l[3]?l[3]["indicator-"+l[14].id].filter(l[13]):[]}}),{c(){e=N("div"),le(t.$$.fragment),a=U(),this.h()},l(f){e=P(f,"DIV",{class:!0});var s=y(e);ae(t.$$.fragment,s),a=J(s),s.forEach(_),this.h()},h(){r(e,"class",Le("cell column"+l[16])+" svelte-17hudsm")},m(f,s){T(f,e,s),ne(t,e,null),b(e,a),n=!0},p(f,s){l=f;const c={};s&128&&(c.calculations=l[14]),s&32&&(c.rowNumb=l[5]),s&1&&(c.comparisonsId=l[0]),s&2&&(c.labelsArray=l[1]),s&132&&(c.indicatorMetadata=l[2].find(i)),s&208&&(c.latestData=l[4].filter(o)),s&200&&(c.initialData="indicator-"+l[14].id in l[3]?l[3]["indicator-"+l[14].id].filter(l[13]):[]),t.$set(c)},i(f){n||(q(t.$$.fragment,f),n=!0)},o(f){X(t.$$.fragment,f),n=!1},d(f){f&&_(e),re(t)}}}function da(l){let e,t,a,n=l[8].find(l[10]).areanm+"",i,o,f,s,c=l[7],u=[];for(let d=0;d<c.length;d+=1)u[d]=ft(ut(l,c,d));const h=d=>X(u[d],1,1,()=>{u[d]=null});return{c(){e=N("div"),t=N("div"),a=N("p"),i=$(n),o=U();for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=P(d,"DIV",{class:!0,style:!0});var g=y(e);t=P(g,"DIV",{class:!0,style:!0});var m=y(t);a=P(m,"P",{class:!0});var v=y(a);i=ee(v,n),v.forEach(_),m.forEach(_),o=J(g);for(let k=0;k<u.length;k+=1)u[k].l(g);g.forEach(_),this.h()},h(){r(a,"class","svelte-17hudsm"),r(t,"class","areasColumn svelte-17hudsm"),r(t,"style","width: 200px"),r(e,"class",f=Le("row cellRow"+l[5])+" svelte-17hudsm"),x(e,"background-color",l[5]%2===0?"#fafafa":"#ffffff")},m(d,g){T(d,e,g),b(e,t),b(t,a),b(a,i),b(e,o);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null);s=!0},p(d,[g]){if((!s||g&64)&&n!==(n=d[8].find(d[10]).areanm+"")&&we(i,n),g&255){c=d[7];let m;for(m=0;m<c.length;m+=1){const v=ut(d,c,m);u[m]?(u[m].p(v,g),q(u[m],1)):(u[m]=ft(v),u[m].c(),q(u[m],1),u[m].m(e,null))}for(Re(),m=c.length;m<u.length;m+=1)h(m);Me()}(!s||g&32&&f!==(f=Le("row cellRow"+d[5])+" svelte-17hudsm"))&&r(e,"class",f),(!s||g&32)&&x(e,"background-color",d[5]%2===0?"#fafafa":"#ffffff")},i(d){if(!s){for(let g=0;g<c.length;g+=1)q(u[g]);s=!0}},o(d){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)X(u[g]);s=!1},d(d){d&&_(e),ve(u,d)}}}function ma(l,e,t){let{chosenId1:a,chosenId2:n,chosenId3:i,indicatorsMetadata:o,initialData:f,latestData:s,j:c,row:u,indicatorsCalculations:h}=e,d=ue("areas");const g=w=>w.areacd===u.areacd,m=(w,V)=>V.code==w.code,v=(w,V)=>w.id==V.id&u.areacd==V.areacd,k=w=>w.areacd==u.areacd;return l.$$set=w=>{"chosenId1"in w&&t(9,a=w.chosenId1),"chosenId2"in w&&t(0,n=w.chosenId2),"chosenId3"in w&&t(1,i=w.chosenId3),"indicatorsMetadata"in w&&t(2,o=w.indicatorsMetadata),"initialData"in w&&t(3,f=w.initialData),"latestData"in w&&t(4,s=w.latestData),"j"in w&&t(5,c=w.j),"row"in w&&t(6,u=w.row),"indicatorsCalculations"in w&&t(7,h=w.indicatorsCalculations)},l.$$.update=()=>{l.$$.dirty&64&&console.log(u)},[n,i,o,f,s,c,u,h,d,a,g,m,v,k]}let _a=class extends fe{constructor(e){super(),he(this,e,ma,da,de,{chosenId1:9,chosenId2:0,chosenId3:1,indicatorsMetadata:2,initialData:3,latestData:4,j:5,row:6,indicatorsCalculations:7})}};function ga(l){let e,t,a;return{c(){e=N("div"),t=B("svg"),a=B("path"),this.h()},l(n){e=P(n,"DIV",{class:!0});var i=y(e);t=O(i,"svg",{width:!0,height:!0,class:!0,viewBox:!0,style:!0});var o=y(t);a=O(o,"path",{d:!0}),y(a).forEach(_),o.forEach(_),i.forEach(_),this.h()},h(){r(a,"d","M24.15 34q.65 0 1.075-.425.425-.425.425-1.075v-9.05q0-.6-.45-1.025Q24.75 22 24.15 22q-.65 0-1.075.425-.425.425-.425 1.075v9.05q0 .6.45 1.025.45.425 1.05.425ZM24 18.3q.7 0 1.175-.45.475-.45.475-1.15t-.475-1.2Q24.7 15 24 15q-.7 0-1.175.5-.475.5-.475 1.2t.475 1.15q.475.45 1.175.45ZM24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 4.25-1.55 7.9-1.55 3.65-4.25 6.35-2.7 2.7-6.35 4.225Q28.2 44 24 44Zm0-20Zm0 17q7 0 12-5t5-12q0-7-5-12T24 7q-7 0-12 5T7 24q0 7 5 12t12 5Z"),r(t,"width","20"),r(t,"height","20"),r(t,"class","c h-16 w-16 inline svelte-nloqxl"),r(t,"viewBox","0 0 48 48"),x(t,"transform","rotate(0deg)"),r(e,"class","infoCell svelte-185pa6q")},m(n,i){T(n,e,i),b(e,t),b(t,a)},p:me,i:me,o:me,d(n){n&&_(e)}}}class tt extends fe{constructor(e){super(),he(this,e,null,ga,de,{})}}function ht(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function dt(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function mt(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function _t(l){let e,t,a=l[6].label+"",n,i;return{c(){e=N("div"),t=N("p"),n=$(a),i=U(),this.h()},l(o){e=P(o,"DIV",{class:!0});var f=y(e);t=P(f,"P",{class:!0});var s=y(t);n=ee(s,a),i=J(s),s.forEach(_),f.forEach(_),this.h()},h(){r(t,"class","svelte-15wb3yy"),r(e,"class",Le("headerCell column"+l[8])+" svelte-15wb3yy")},m(o,f){T(o,e,f),b(e,t),b(t,n),b(t,i)},p(o,f){f&4&&a!==(a=o[6].label+"")&&we(n,a)},d(o){o&&_(e)}}}function gt(l){let e,t;return e=new tt({}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function vt(l){let e,t="(compared to "+l[3].find(n).label+")",a;function n(...i){return l[5](l[6],...i)}return{c(){e=N("p"),a=$(t),this.h()},l(i){e=P(i,"P",{class:!0});var o=y(e);a=ee(o,t),o.forEach(_),this.h()},h(){r(e,"class","initial-year-label svelte-15wb3yy")},m(i,o){T(i,e,o),b(e,a)},p(i,o){l=i,o&4&&t!==(t="(compared to "+l[3].find(n).label+")")&&we(a,t)},d(i){i&&_(e)}}}function bt(l){let e,t,a=l[3].find(s).label+"",n,i,o=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0),f;function s(...u){return l[4](l[6],...u)}let c=o&&vt(l);return{c(){e=N("div"),t=N("p"),n=$(a),i=U(),c&&c.c(),f=U(),this.h()},l(u){e=P(u,"DIV",{class:!0});var h=y(e);t=P(h,"P",{class:!0});var d=y(t);n=ee(d,a),d.forEach(_),i=J(h),c&&c.l(h),f=J(h),h.forEach(_),this.h()},h(){r(t,"class","latest-year-label svelte-15wb3yy"),r(e,"class",Le("yearCell column"+l[8])+" svelte-15wb3yy")},m(u,h){T(u,e,h),b(e,t),b(t,n),b(e,i),c&&c.m(e,null),b(e,f)},p(u,h){l=u,h&4&&a!==(a=l[3].find(s).label+"")&&we(n,a),h&7&&(o=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0)),o?c?c.p(l,h):(c=vt(l),c.c(),c.m(e,f)):c&&(c.d(1),c=null)},d(u){u&&_(e),c&&c.d()}}}function va(l){let e,t,a,n,i,o,f,s,c,u,h,d,g=l[2],m=[];for(let p=0;p<g.length;p+=1)m[p]=_t(mt(l,g,p));let v=l[2],k=[];for(let p=0;p<v.length;p+=1)k[p]=gt(dt(l,v,p));const w=p=>X(k[p],1,1,()=>{k[p]=null});let V=l[2],I=[];for(let p=0;p<V.length;p+=1)I[p]=bt(ht(l,V,p));return{c(){e=N("div"),t=N("div"),a=U();for(let p=0;p<m.length;p+=1)m[p].c();n=U(),i=N("div"),o=N("div"),f=U();for(let p=0;p<k.length;p+=1)k[p].c();s=U(),c=N("div"),u=N("div"),h=U();for(let p=0;p<I.length;p+=1)I[p].c();this.h()},l(p){e=P(p,"DIV",{class:!0});var L=y(e);t=P(L,"DIV",{class:!0,style:!0});var D=y(t);D.forEach(_),a=J(L);for(let A=0;A<m.length;A+=1)m[A].l(L);L.forEach(_),n=J(p),i=P(p,"DIV",{class:!0});var M=y(i);o=P(M,"DIV",{class:!0,style:!0});var Q=y(o);Q.forEach(_),f=J(M);for(let A=0;A<k.length;A+=1)k[A].l(M);M.forEach(_),s=J(p),c=P(p,"DIV",{class:!0});var E=y(c);u=P(E,"DIV",{class:!0,style:!0});var S=y(u);S.forEach(_),h=J(E);for(let A=0;A<I.length;A+=1)I[A].l(E);E.forEach(_),this.h()},h(){r(t,"class","areasColumn svelte-15wb3yy"),r(t,"style","width: 200px"),r(e,"class","row headerRow svelte-15wb3yy"),r(o,"class","areasColumn svelte-15wb3yy"),r(o,"style","width: 200px"),r(i,"class","row headerRow svelte-15wb3yy"),r(u,"class","areasColumn svelte-15wb3yy"),r(u,"style","width: 200px"),r(c,"class","row headerRow svelte-15wb3yy")},m(p,L){T(p,e,L),b(e,t),b(e,a);for(let D=0;D<m.length;D+=1)m[D]&&m[D].m(e,null);T(p,n,L),T(p,i,L),b(i,o),b(i,f);for(let D=0;D<k.length;D+=1)k[D]&&k[D].m(i,null);T(p,s,L),T(p,c,L),b(c,u),b(c,h);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(c,null);d=!0},p(p,[L]){if(L&4){g=p[2];let D;for(D=0;D<g.length;D+=1){const M=mt(p,g,D);m[D]?m[D].p(M,L):(m[D]=_t(M),m[D].c(),m[D].m(e,null))}for(;D<m.length;D+=1)m[D].d(1);m.length=g.length}if(L&4){const D=v.length;v=p[2];let M;for(M=D;M<v.length;M+=1)dt(p,v,M),k[M]?q(k[M],1):(k[M]=gt(),k[M].c(),q(k[M],1),k[M].m(i,null));for(Re(),M=v.length;M<k.length;M+=1)w(M);Me()}if(L&15){V=p[2];let D;for(D=0;D<V.length;D+=1){const M=ht(p,V,D);I[D]?I[D].p(M,L):(I[D]=bt(M),I[D].c(),I[D].m(c,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=V.length}},i(p){if(!d){for(let L=0;L<v.length;L+=1)q(k[L]);d=!0}},o(p){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)X(k[L]);d=!1},d(p){p&&_(e),ve(m,p),p&&_(n),p&&_(i),ve(k,p),p&&_(s),p&&_(c),ve(I,p)}}}function ba(l,e,t){let{chosenId2:a,chosenId3:n,indicatorsCalculations:i}=e,o=ue("periodsLookup");const f=(c,u)=>u.xDomainNumb==c.maxXDomain,s=(c,u)=>u.xDomainNumb==c.minXDomain;return l.$$set=c=>{"chosenId2"in c&&t(0,a=c.chosenId2),"chosenId3"in c&&t(1,n=c.chosenId3),"indicatorsCalculations"in c&&t(2,i=c.indicatorsCalculations)},[a,n,i,o,f,s]}let ka=class extends fe{constructor(e){super(),he(this,e,ba,va,de,{chosenId2:0,chosenId3:1,indicatorsCalculations:2})}};function kt(l,e,t){const a=l.slice();return a[9]=e[t],a[11]=t,a}function pt(l){let e,t;return e=new _a({props:{row:l[9],j:l[11],chosenId1:l[3],chosenId2:l[4],chosenId3:l[5],indicatorsCalculations:l[7],indicatorsMetadata:l[6],initialData:l[1],latestData:l[0]}}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p(a,n){const i={};n&4&&(i.row=a[9]),n&8&&(i.chosenId1=a[3]),n&16&&(i.chosenId2=a[4]),n&32&&(i.chosenId3=a[5]),n&2&&(i.initialData=a[1]),n&1&&(i.latestData=a[0]),e.$set(i)},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function pa(l){let e,t,a,n;t=new ka({props:{indicatorsCalculations:l[7],chosenId2:l[4],chosenId3:l[5]}});let i=l[2],o=[];for(let s=0;s<i.length;s+=1)o[s]=pt(kt(l,i,s));const f=s=>X(o[s],1,1,()=>{o[s]=null});return{c(){e=N("div"),le(t.$$.fragment),a=U();for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=P(s,"DIV",{class:!0});var c=y(e);ae(t.$$.fragment,c),a=J(c);for(let u=0;u<o.length;u+=1)o[u].l(c);c.forEach(_),this.h()},h(){r(e,"class","grid-container svelte-k2j273")},m(s,c){T(s,e,c),ne(t,e,null),b(e,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);n=!0},p(s,[c]){const u={};if(c&16&&(u.chosenId2=s[4]),c&32&&(u.chosenId3=s[5]),t.$set(u),c&255){i=s[2];let h;for(h=0;h<i.length;h+=1){const d=kt(s,i,h);o[h]?(o[h].p(d,c),q(o[h],1)):(o[h]=pt(d),o[h].c(),q(o[h],1),o[h].m(e,null))}for(Re(),h=i.length;h<o.length;h+=1)f(h);Me()}},i(s){if(!n){q(t.$$.fragment,s);for(let c=0;c<i.length;c+=1)q(o[c]);n=!0}},o(s){X(t.$$.fragment,s),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)X(o[c]);n=!1},d(s){s&&_(e),re(t),ve(o,s)}}}function wa(l,e,t){let{indicatorsList:a,latestData:n,initialData:i,selectedAreas:o,chosenId1:f,chosenId2:s,chosenId3:c}=e,u=ue("indicatorsMetadata"),h=ue("indicatorsCalculations").filter(d=>a.includes(d.id));return h.forEach((d,g)=>{d.medianValue=d.ltCount>200?d.ltMedian:d.utCount>140?d.utMedian:d.ukValue!="NA"?d.ukValue:d.gbValue!="NA"?d.gbValue:d.ewValue!="NA"?d.ewValue:d.engValue!="NA"?d.engValue:null,d.label=u.find(m=>m.code==d.code).label}),l.$$set=d=>{"indicatorsList"in d&&t(8,a=d.indicatorsList),"latestData"in d&&t(0,n=d.latestData),"initialData"in d&&t(1,i=d.initialData),"selectedAreas"in d&&t(2,o=d.selectedAreas),"chosenId1"in d&&t(3,f=d.chosenId1),"chosenId2"in d&&t(4,s=d.chosenId2),"chosenId3"in d&&t(5,c=d.chosenId3)},l.$$.update=()=>{l.$$.dirty&4&&console.log(o)},[n,i,o,f,s,c,u,h,a]}let ya=class extends fe{constructor(e){super(),he(this,e,wa,pa,de,{indicatorsList:8,latestData:0,initialData:1,selectedAreas:2,chosenId1:3,chosenId2:4,chosenId3:5})}};function Da(l){let e,t,a,n,i,o,f,s,c;function u(w){l[39](w)}function h(w){l[40](w)}function d(w){l[41](w)}function g(w){l[42](w)}function m(w){l[43](w)}function v(w){l[44](w)}let k={id:l[2],container:l[3],items:l[4],placeholder:l[5],isMulti:l[10],isSearchable:l[6],groupBy:l[22],loadOptions:l[9],getSelectionLabel:l[12],getOptionLabel:l[21],itemFilter:l[19],ariaValues:l[25],ariaListOpen:l[26],ariaFocused:l[27],noOptionsMessage:l[20],indicatorSvg:l[23],containerStyles:l[24],optionIdentifier:l[8],showIndicator:!0,isClearable:l[7]?!l[10]:!1};return l[15]!==void 0&&(k.isFocused=l[15]),l[0]!==void 0&&(k.value=l[0]),l[16]!==void 0&&(k.listOpen=l[16]),l[1]!==void 0&&(k.filterText=l[1]),l[13]!==void 0&&(k.isWaiting=l[13]),l[17]!==void 0&&(k.handleClear=l[17]),t=new ca({props:k}),be.push(()=>ke(t,"isFocused",u)),be.push(()=>ke(t,"value",h)),be.push(()=>ke(t,"listOpen",d)),be.push(()=>ke(t,"filterText",g)),be.push(()=>ke(t,"isWaiting",m)),be.push(()=>ke(t,"handleClear",v)),t.$on("select",l[28]),t.$on("clear",l[45]),t.$on("loaded",l[46]),t.$on("error",l[47]),{c(){e=N("div"),le(t.$$.fragment),this.h()},l(w){e=P(w,"DIV",{class:!0});var V=y(e);ae(t.$$.fragment,V),V.forEach(_),this.h()},h(){r(e,"class","selectbox svelte-gskmgd"),qe(e,"multi-selected",l[0]&&l[10]),qe(e,"focused",l[15]),qe(e,"selected",l[0]&&!l[16]&&!l[10]),x(e,"--borderColor",l[11]),x(e,"--firstItem",l[18](0)),x(e,"--secondItem",l[18](1)),x(e,"--thirdItem",l[18](2)),x(e,"--fourthItem",l[18](3)),x(e,"--fifthItem",l[18](4)),x(e,"--sixthItem",l[18](5)),x(e,"--seventhItem",l[18](6)),x(e,"--eighthItem",l[18](7)),x(e,"--ninethItem",l[18](8)),x(e,"--tenthItem",l[18](9))},m(w,V){T(w,e,V),ne(t,e,null),l[48](e),c=!0},p(w,V){const I={};V[0]&4&&(I.id=w[2]),V[0]&8&&(I.container=w[3]),V[0]&16&&(I.items=w[4]),V[0]&32&&(I.placeholder=w[5]),V[0]&1024&&(I.isMulti=w[10]),V[0]&64&&(I.isSearchable=w[6]),V[0]&512&&(I.loadOptions=w[9]),V[0]&4096&&(I.getSelectionLabel=w[12]),V[0]&524288&&(I.itemFilter=w[19]),V[0]&1048576&&(I.noOptionsMessage=w[20]),V[0]&256&&(I.optionIdentifier=w[8]),V[0]&1152&&(I.isClearable=w[7]?!w[10]:!1),!a&&V[0]&32768&&(a=!0,I.isFocused=w[15],pe(()=>a=!1)),!n&&V[0]&1&&(n=!0,I.value=w[0],pe(()=>n=!1)),!i&&V[0]&65536&&(i=!0,I.listOpen=w[16],pe(()=>i=!1)),!o&&V[0]&2&&(o=!0,I.filterText=w[1],pe(()=>o=!1)),!f&&V[0]&8192&&(f=!0,I.isWaiting=w[13],pe(()=>f=!1)),!s&&V[0]&131072&&(s=!0,I.handleClear=w[17],pe(()=>s=!1)),t.$set(I),(!c||V[0]&1025)&&qe(e,"multi-selected",w[0]&&w[10]),(!c||V[0]&32768)&&qe(e,"focused",w[15]),(!c||V[0]&66561)&&qe(e,"selected",w[0]&&!w[16]&&!w[10]),V[0]&2048&&x(e,"--borderColor",w[11]),V[0]&262144&&x(e,"--firstItem",w[18](0)),V[0]&262144&&x(e,"--secondItem",w[18](1)),V[0]&262144&&x(e,"--thirdItem",w[18](2)),V[0]&262144&&x(e,"--fourthItem",w[18](3)),V[0]&262144&&x(e,"--fifthItem",w[18](4)),V[0]&262144&&x(e,"--sixthItem",w[18](5)),V[0]&262144&&x(e,"--seventhItem",w[18](6)),V[0]&262144&&x(e,"--eighthItem",w[18](7)),V[0]&262144&&x(e,"--ninethItem",w[18](8)),V[0]&262144&&x(e,"--tenthItem",w[18](9))},i(w){c||(q(t.$$.fragment,w),c=!0)},o(w){X(t.$$.fragment,w),c=!1},d(w){w&&_(e),re(t),l[48](null)}}}function Ia(l,e,t){let a,n,i;const o='<svg viewBox="0 0 20 20" fill-rule="evenodd"><path d="M0,8a8,8,0,1,0,16,0a8,8,0,1,0,-16,0ZM3,8a5,5,0,1,0,10,0a5,5,0,1,0,-10,0Z"/><path d="M18,20L20,18L14,12L12,14Z"/></svg>',f='<svg viewBox="0 0 20 20"><path d="M1,6L19,6L10,15Z"/></svg>',s=Hl();let{id:c=""}=e,{container:u=void 0}=e,{mode:h="default"}=e,{items:d}=e,{placeholder:g="Select one..."}=e,{value:m=null}=e,{filterText:v=""}=e,{isSearchable:k=!0}=e,{isClearable:w=!0}=e,{autoClear:V=!1}=e,{idKey:I="value"}=e,{labelKey:p="label"}=e,{groupKey:L=null}=e,{groupItems:D=!1}=e,{loadOptions:M=void 0}=e,{fontSize:Q="1em"}=e,{height:E=42}=e,{isMulti:S=!1}=e,{maxSelected:A=4}=e,{colors:G=["#206095","#a8bd3a","#871a5b","#27a0cc"]}=e,{darkMode:Y=!1}=e,{borderColor:K=Y?"white":"#206095"}=e;const Z=L&&!D?W=>`${W[p]} <span class="group">${W[L]}</span>`:W=>W[p];let{getSelectionLabel:F=W=>W?Z(W):null}=e;const C=D&&L?W=>W[L]:void 0,z=h=="search"?o:f,R=`--inputFontSize: ${Q}; --groupTitleFontSize: ${Q}; --height: ${E}px; font-size: ${Q};`,ie=W=>`${W}, selected.`,oe=(W,ze)=>`You are currently focused on ${W}. There are ${ze} results available.`,ce=()=>"Select is focused, type to refine list, press down to open the menu.";let H,j,te,_e,se;const De=W=>new Promise(ze=>setTimeout(ze,W));async function ge(W){if(s("select",W.detail),V)se();else if(w){await De(10);let ze=H.getElementsByClassName("clearSelect")[0];ze&&(ze.tabIndex=0,ze.onkeypress=Xe=>{Xe.key=="Enter"&&se()},ze.removeAttribute("aria-hidden"),ze.setAttribute("aria-label","Clear selection"))}}function ye(W){j=W,t(15,j)}function Ve(W){m=W,t(0,m)}function Se(W){te=W,t(16,te)}function Ce(W){v=W,t(1,v)}function Fe(W){_e=W,t(13,_e)}function Ie(W){se=W,t(17,se)}function Ne(W){je.call(this,l,W)}function We(W){je.call(this,l,W)}function Ke(W){je.call(this,l,W)}function Gl(W){be[W?"unshift":"push"](()=>{H=W,t(14,H)})}return l.$$set=W=>{"id"in W&&t(2,c=W.id),"container"in W&&t(3,u=W.container),"mode"in W&&t(29,h=W.mode),"items"in W&&t(4,d=W.items),"placeholder"in W&&t(5,g=W.placeholder),"value"in W&&t(0,m=W.value),"filterText"in W&&t(1,v=W.filterText),"isSearchable"in W&&t(6,k=W.isSearchable),"isClearable"in W&&t(7,w=W.isClearable),"autoClear"in W&&t(30,V=W.autoClear),"idKey"in W&&t(8,I=W.idKey),"labelKey"in W&&t(31,p=W.labelKey),"groupKey"in W&&t(32,L=W.groupKey),"groupItems"in W&&t(33,D=W.groupItems),"loadOptions"in W&&t(9,M=W.loadOptions),"fontSize"in W&&t(34,Q=W.fontSize),"height"in W&&t(35,E=W.height),"isMulti"in W&&t(10,S=W.isMulti),"maxSelected"in W&&t(36,A=W.maxSelected),"colors"in W&&t(37,G=W.colors),"darkMode"in W&&t(38,Y=W.darkMode),"borderColor"in W&&t(11,K=W.borderColor),"getSelectionLabel"in W&&t(12,F=W.getSelectionLabel)},l.$$.update=()=>{l.$$.dirty[0]&536879106&&t(20,a=_e?"Loading...":h=="search"&&v.length<3?"Enter 3 or more characters for suggestions":`No results match ${v}`),l.$$.dirty[0]&536870915|l.$$.dirty[1]&33&&t(19,n=Array.isArray(m)&&m.length>=A||h=="search"&&v.length<3?(W,ze,Xe)=>!1:(W,ze,Xe)=>`${Xe[p]}`.match(new RegExp(`\\b${ze}`,"i"))),l.$$.dirty[1]&64&&t(18,i=W=>G[W%G.length])},[m,v,c,u,d,g,k,w,I,M,S,K,F,_e,H,j,te,se,i,n,a,Z,C,z,R,ie,oe,ce,ge,h,V,p,L,D,Q,E,A,G,Y,ye,Ve,Se,Ce,Fe,Ie,Ne,We,Ke,Gl]}class Ea extends fe{constructor(e){super(),he(this,e,Ia,Da,de,{id:2,container:3,mode:29,items:4,placeholder:5,value:0,filterText:1,isSearchable:6,isClearable:7,autoClear:30,idKey:8,labelKey:31,groupKey:32,groupItems:33,loadOptions:9,fontSize:34,height:35,isMulti:10,maxSelected:36,colors:37,darkMode:38,borderColor:11,getSelectionLabel:12},null,[-1,-1])}}function La(l){let e,t,a,n;function i(f){l[5](f)}let o={id:"multi",idKey:"areacd",labelKey:"areanm",groupKey:"parentnm",items:l[2],isMulti:!0,maxSelected:l[1].length,placeholder:"Select areas",colors:l[1]};return l[0].custom!==void 0&&(o.value=l[0].custom),t=new Ea({props:o}),be.push(()=>ke(t,"value",i)),t.$on("select",l[3]),{c(){e=N("form"),le(t.$$.fragment),this.h()},l(f){e=P(f,"FORM",{class:!0});var s=y(e);ae(t.$$.fragment,s),s.forEach(_),this.h()},h(){r(e,"class","svelte-gcqbil")},m(f,s){T(f,e,s),ne(t,e,null),n=!0},p(f,[s]){const c={};s&2&&(c.maxSelected=f[1].length),s&2&&(c.colors=f[1]),!a&&s&1&&(a=!0,c.value=f[0].custom,pe(()=>a=!1)),t.$set(c)},i(f){n||(q(t.$$.fragment,f),n=!0)},o(f){X(t.$$.fragment,f),n=!1},d(f){f&&_(e),re(t)}}}function Va(l,e,t){let{areasWithData:a,checkboxedRoles:n,colors:i=4}=e,o=ue("areasParentsLookup"),f=ue("areas"),s=o.filter(h=>a.includes(h.areacd));s.forEach(h=>{h.areanm=f.find(d=>d.areacd===h.areacd).areanm,h.parentnm=f.find(d=>h.parentcd===d.areacd)===void 0?"":f.find(d=>h.parentcd===d.areacd).areanm});function c(h){h.detail&&h.detail}function u(h){l.$$.not_equal(n.custom,h)&&(n.custom=h,t(0,n))}return l.$$set=h=>{"areasWithData"in h&&t(4,a=h.areasWithData),"checkboxedRoles"in h&&t(0,n=h.checkboxedRoles),"colors"in h&&t(1,i=h.colors)},[n,i,s,c,a,u]}class Kl extends fe{constructor(e){super(),he(this,e,Va,La,de,{areasWithData:4,checkboxedRoles:0,colors:1})}}function wt(l,e,t){const a=l.slice();return a[8]=e[t],a[10]=t,a}function Ra(l){let e,t=l[8]+"",a;return{c(){e=N("p"),a=$(t),this.h()},l(n){e=P(n,"P",{style:!0,class:!0});var i=y(e);a=ee(i,t),i.forEach(_),this.h()},h(){x(e,"font-size",l[4]),r(e,"class","svelte-1ib2ryh")},m(n,i){T(n,e,i),b(e,a)},p(n,i){i&2&&t!==(t=n[8]+"")&&we(a,t),i&16&&x(e,"font-size",n[4])},d(n){n&&_(e)}}}function Ma(l){let e,t,a=l[8]+"",n,i;return{c(){e=N("div"),t=N("p"),n=$(a),this.h()},l(o){e=P(o,"DIV",{class:!0,style:!0});var f=y(e);t=P(f,"P",{style:!0,class:!0});var s=y(t);n=ee(s,a),s.forEach(_),f.forEach(_),this.h()},h(){x(t,"font-size",l[4]),r(t,"class","svelte-1ib2ryh"),r(e,"class","optionLabel svelte-1ib2ryh"),r(e,"style",i="background-color: "+(l[0]===l[10]?"white":"#e3e3e3"))},m(o,f){T(o,e,f),b(e,t),b(t,n)},p(o,f){f&2&&a!==(a=o[8]+"")&&we(n,a),f&16&&x(t,"font-size",o[4]),f&1&&i!==(i="background-color: "+(o[0]===o[10]?"white":"#e3e3e3"))&&r(e,"style",i)},d(o){o&&_(e)}}}function yt(l){let e,t,a,n,i,o,f,s;function c(d,g){return d[5]?Ma:Ra}let u=c(l),h=u(l);return o=Bl(l[7][0]),{c(){e=N("label"),t=N("input"),n=U(),h.c(),i=U(),this.h()},l(d){e=P(d,"LABEL",{style:!0,class:!0});var g=y(e);t=P(g,"INPUT",{style:!0,type:!0,name:!0}),n=J(g),h.l(g),i=J(g),g.forEach(_),this.h()},h(){r(t,"style",a="display: "+(l[5]?"none":null)),r(t,"type","radio"),t.__value=l[10],t.value=t.__value,r(t,"name",l[2]),x(e,"margin-bottom",l[3]),r(e,"class","svelte-1ib2ryh"),o.p(t)},m(d,g){T(d,e,g),b(e,t),t.checked=t.__value===l[0],b(e,n),h.m(e,null),b(e,i),f||(s=Ge(t,"change",l[6]),f=!0)},p(d,g){g&32&&a!==(a="display: "+(d[5]?"none":null))&&r(t,"style",a),g&4&&r(t,"name",d[2]),g&3&&(t.checked=t.__value===d[0]),u===(u=c(d))&&h?h.p(d,g):(h.d(1),h=u(d),h&&(h.c(),h.m(e,i))),g&8&&x(e,"margin-bottom",d[3])},d(d){d&&_(e),h.d(),o.r(),f=!1,s()}}}function Ca(l){let e,t=l[1],a=[];for(let n=0;n<t.length;n+=1)a[n]=yt(wt(l,t,n));return{c(){e=N("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=P(n,"DIV",{class:!0,style:!0});var i=y(e);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(_),this.h()},h(){r(e,"class","radio-container svelte-1ib2ryh"),x(e,"flex-direction",l[5]?"row":"column")},m(n,i){T(n,e,i);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null)},p(n,[i]){if(i&63){t=n[1];let o;for(o=0;o<t.length;o+=1){const f=wt(n,t,o);a[o]?a[o].p(f,i):(a[o]=yt(f),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=t.length}i&32&&x(e,"flex-direction",n[5]?"row":"column")},i:me,o:me,d(n){n&&_(e),ve(a,n)}}}function Aa(l,e,t){let{optionsArray:a,chosenId:n,name:i,marginBottom:o=null,fontSize:f=null,asButtons:s=!1}=e;const c=[[]];function u(){n=this.__value,t(0,n)}return l.$$set=h=>{"optionsArray"in h&&t(1,a=h.optionsArray),"chosenId"in h&&t(0,n=h.chosenId),"name"in h&&t(2,i=h.name),"marginBottom"in h&&t(3,o=h.marginBottom),"fontSize"in h&&t(4,f=h.fontSize),"asButtons"in h&&t(5,s=h.asButtons)},[n,a,i,o,f,s,u,c]}class He extends fe{constructor(e){super(),he(this,e,Aa,Ca,de,{optionsArray:1,chosenId:0,name:2,marginBottom:3,fontSize:4,asButtons:5})}}function Dt(l){let e,t,a,n;function i(f){l[7](f)}let o={areasWithData:l[4],colors:Array.from({length:8},Sa)};return l[0]!==void 0&&(o.checkboxedRoles=l[0]),t=new Kl({props:o}),be.push(()=>ke(t,"checkboxedRoles",i)),{c(){e=N("div"),le(t.$$.fragment),this.h()},l(f){e=P(f,"DIV",{class:!0});var s=y(e);ae(t.$$.fragment,s),s.forEach(_),this.h()},h(){r(e,"class","select-areas-container")},m(f,s){T(f,e,s),ne(t,e,null),n=!0},p(f,s){const c={};!a&&s&1&&(a=!0,c.checkboxedRoles=f[0],pe(()=>a=!1)),t.$set(c)},i(f){n||(q(t.$$.fragment,f),n=!0)},o(f){X(t.$$.fragment,f),n=!1},d(f){f&&_(e),re(t)}}}function za(l){let e,t,a,n,i;function o(c){l[6](c)}let f={optionsArray:l[3],name:l[2]};l[1]!==void 0&&(f.chosenId=l[1]),t=new He({props:f}),be.push(()=>ke(t,"chosenId",o));let s=l[1]===1&&Dt(l);return{c(){e=N("div"),le(t.$$.fragment),n=U(),s&&s.c(),this.h()},l(c){e=P(c,"DIV",{class:!0});var u=y(e);ae(t.$$.fragment,u),n=J(u),s&&s.l(u),u.forEach(_),this.h()},h(){r(e,"class","selection-box-container svelte-ycbie2")},m(c,u){T(c,e,u),ne(t,e,null),b(e,n),s&&s.m(e,null),i=!0},p(c,[u]){const h={};u&4&&(h.name=c[2]),!a&&u&2&&(a=!0,h.chosenId=c[1],pe(()=>a=!1)),t.$set(h),c[1]===1?s?(s.p(c,u),u&2&&q(s,1)):(s=Dt(c),s.c(),q(s,1),s.m(e,null)):s&&(Re(),X(s,1,1,()=>{s=null}),Me())},i(c){i||(q(t.$$.fragment,c),q(s),i=!0)},o(c){X(t.$$.fragment,c),X(s),i=!1},d(c){c&&_(e),re(t),s&&s.d()}}}const Sa=()=>"#003C57";function Fa(l,e,t){let{latestData:a,checkboxedRoles:n,chosenId:i,radioName:o}=e,f=["Compare countries and regions of the UK","Select local areas of interest"],s=[...new Set(a.map(h=>h.areacd))];function c(h){i=h,t(1,i)}function u(h){n=h,t(0,n)}return l.$$set=h=>{"latestData"in h&&t(5,a=h.latestData),"checkboxedRoles"in h&&t(0,n=h.checkboxedRoles),"chosenId"in h&&t(1,i=h.chosenId),"radioName"in h&&t(2,o=h.radioName)},[n,i,o,f,s,a,c,u]}class lt extends fe{constructor(e){super(),he(this,e,Fa,za,de,{latestData:5,checkboxedRoles:0,chosenId:1,radioName:2})}}function It(l,e,t){const a=l.slice();return a[1]=e[t],a[3]=t,a}function Et(l,e,t){const a=l.slice();return a[4]=e[t],a[6]=t,a}function Lt(l){let e,t;return{c(){e=B("rect"),this.h()},l(a){e=O(a,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),y(e).forEach(_),this.h()},h(){r(e,"transform","translate("+(l[3]==0?-1:l[3]==2?1:0)+","+(l[6]==0?-1:l[6]==2?1:0)+")"),r(e,"x",l[3]*40),r(e,"y",l[6]*40),r(e,"width","40"),r(e,"height","40"),r(e,"stroke","none"),r(e,"fill",t=Pe[l[1]][l[4]]),r(e,"opacity","1")},m(a,n){T(a,e,n)},p(a,n){n&1&&t!==(t=Pe[a[1]][a[4]])&&r(e,"fill",t)},d(a){a&&_(e)}}}function Vt(l){let e,t=l[0]==1?["similar"]:["better than average","similar","worse than average"],a=[];for(let n=0;n<t.length;n+=1)a[n]=Lt(Et(l,t,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=Ee()},l(n){for(let i=0;i<a.length;i+=1)a[i].l(n);e=Ee()},m(n,i){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(n,i);T(n,e,i)},p(n,i){if(i&1){t=n[0]==1?["similar"]:["better than average","similar","worse than average"];let o;for(o=0;o<t.length;o+=1){const f=Et(n,t,o);a[o]?a[o].p(f,i):(a[o]=Lt(f),a[o].c(),a[o].m(e.parentNode,e))}for(;o<a.length;o+=1)a[o].d(1);a.length=t.length}},d(n){ve(a,n),n&&_(e)}}}function Rt(l){let e,t,a,n,i,o,f,s,c,u,h;return{c(){e=B("line"),t=B("path"),a=B("path"),n=B("text"),i=$("better than"),o=B("text"),f=$("average"),s=B("text"),c=$("worse than"),u=B("text"),h=$("average"),this.h()},l(d){e=O(d,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),y(e).forEach(_),t=O(d,"path",{d:!0,stroke:!0,fill:!0}),y(t).forEach(_),a=O(d,"path",{d:!0,stroke:!0,fill:!0}),y(a).forEach(_),n=O(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var g=y(n);i=ee(g,"better than"),g.forEach(_),o=O(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var m=y(o);f=ee(m,"average"),m.forEach(_),s=O(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var v=y(s);c=ee(v,"worse than"),v.forEach(_),u=O(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var k=y(u);h=ee(k,"average"),k.forEach(_),this.h()},h(){r(e,"x1","-20"),r(e,"x2","-20"),r(e,"y1","10"),r(e,"y2","110"),r(e,"stroke","black"),r(e,"stroke-width","2px"),r(t,"d","M-20 5 l5 5 l-10 0 z"),r(t,"stroke","none"),r(t,"fill","black"),r(a,"d","M-20 115 l5 -5 l-10 0 z"),r(a,"stroke","none"),r(a,"fill","black"),r(n,"x","-30"),r(n,"y","10"),r(n,"text-anchor","end"),r(n,"font-size","14px"),r(n,"stroke-width","0.25px"),r(n,"stroke","black"),r(n,"fill","black"),r(o,"x","-30"),r(o,"y","24"),r(o,"text-anchor","end"),r(o,"font-size","14px"),r(o,"stroke-width","0.25px"),r(o,"stroke","black"),r(o,"fill","black"),r(s,"x","-30"),r(s,"y","110"),r(s,"text-anchor","end"),r(s,"font-size","14px"),r(s,"stroke-width","0.25px"),r(s,"stroke","black"),r(s,"fill","black"),r(u,"x","-30"),r(u,"y","124"),r(u,"text-anchor","end"),r(u,"font-size","14px"),r(u,"stroke-width","0.25px"),r(u,"stroke","black"),r(u,"fill","black")},m(d,g){T(d,e,g),T(d,t,g),T(d,a,g),T(d,n,g),b(n,i),T(d,o,g),b(o,f),T(d,s,g),b(s,c),T(d,u,g),b(u,h)},d(d){d&&_(e),d&&_(t),d&&_(a),d&&_(n),d&&_(o),d&&_(s),d&&_(u)}}}function Mt(l){let e,t,a,n,i,o,f,s,c;return{c(){e=B("g"),t=B("line"),a=B("path"),n=B("path"),i=B("text"),o=$("worsening"),f=B("text"),s=$("improving"),this.h()},l(u){e=O(u,"g",{transform:!0});var h=y(e);t=O(h,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0}),y(t).forEach(_),a=O(h,"path",{d:!0,stroke:!0,fill:!0}),y(a).forEach(_),n=O(h,"path",{d:!0,stroke:!0,fill:!0}),y(n).forEach(_),i=O(h,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var d=y(i);o=ee(d,"worsening"),d.forEach(_),f=O(h,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var g=y(f);s=ee(g,"improving"),g.forEach(_),h.forEach(_),this.h()},h(){r(t,"y1","140"),r(t,"y2","140"),r(t,"x1","10"),r(t,"x2","110"),r(t,"stroke","black"),r(t,"stroke-width","2px"),r(a,"d","M5 140 l5 -5 l0 10 z"),r(a,"stroke","none"),r(a,"fill","black"),r(n,"d","M115 140 l-5 -5 l0 10 z"),r(n,"stroke","none"),r(n,"fill","black"),r(i,"x","-5"),r(i,"y","160"),r(i,"text-anchor","middle"),r(i,"font-size","14px"),r(i,"stroke-width","0.25px"),r(i,"stroke","black"),r(i,"fill","black"),r(f,"x","110"),r(f,"y","160"),r(f,"text-anchor","middle"),r(f,"font-size","14px"),r(f,"stroke-width","0.25px"),r(f,"stroke","black"),r(f,"fill","black"),r(e,"transform",c=l[0]==2?null:"translate(0, -80)")},m(u,h){T(u,e,h),b(e,t),b(e,a),b(e,n),b(e,i),b(i,o),b(e,f),b(f,s)},p(u,h){h&1&&c!==(c=u[0]==2?null:"translate(0, -80)")&&r(e,"transform",c)},d(u){u&&_(e)}}}function Na(l){let e,t,a,n,i,o,f,s=l[0]==0?["similar"]:["worsening","similar","improving"],c=[];for(let d=0;d<s.length;d+=1)c[d]=Vt(It(l,s,d));let u=l[0]!=1&&Rt(),h=l[0]!=0&&Mt(l);return{c(){e=B("svg"),t=B("g");for(let d=0;d<c.length;d+=1)c[d].c();a=Ee(),u&&u.c(),n=Ee(),h&&h.c(),this.h()},l(d){e=O(d,"svg",{width:!0,height:!0,class:!0});var g=y(e);t=O(g,"g",{transform:!0});var m=y(t);for(let v=0;v<c.length;v+=1)c[v].l(m);a=Ee(),u&&u.l(m),n=Ee(),h&&h.l(m),m.forEach(_),g.forEach(_),this.h()},h(){r(t,"transform",i="translate("+(l[0]==1?60:120)+",20)"),r(e,"width",o=l[0]==2?280:l[0]==1?220:190),r(e,"height",f=l[0]==2?200:l[0]==1?120:165),r(e,"class","svelte-5r2hj0")},m(d,g){T(d,e,g),b(e,t);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(t,null);b(t,a),u&&u.m(t,null),b(t,n),h&&h.m(t,null)},p(d,[g]){if(g&1){s=d[0]==0?["similar"]:["worsening","similar","improving"];let m;for(m=0;m<s.length;m+=1){const v=It(d,s,m);c[m]?c[m].p(v,g):(c[m]=Vt(v),c[m].c(),c[m].m(t,a))}for(;m<c.length;m+=1)c[m].d(1);c.length=s.length}d[0]!=1?u||(u=Rt(),u.c(),u.m(t,n)):u&&(u.d(1),u=null),d[0]!=0?h?h.p(d,g):(h=Mt(d),h.c(),h.m(t,null)):h&&(h.d(1),h=null),g&1&&i!==(i="translate("+(d[0]==1?60:120)+",20)")&&r(t,"transform",i),g&1&&o!==(o=d[0]==2?280:d[0]==1?220:190)&&r(e,"width",o),g&1&&f!==(f=d[0]==2?200:d[0]==1?120:165)&&r(e,"height",f)},i:me,o:me,d(d){d&&_(e),ve(c,d),u&&u.d(),h&&h.d()}}}function Pa(l,e,t){let{chosenId:a}=e;return l.$$set=n=>{"chosenId"in n&&t(0,a=n.chosenId)},[a]}let Ta=class extends fe{constructor(e){super(),he(this,e,Pa,Na,de,{chosenId:0})}};function Ct(l,e,t){const a=l.slice();return a[7]=e[t],a[9]=t,a}function At(l){let e,t,a,n,i=l[7]+"",o,f,s,c,u;return s=Bl(l[6][0]),{c(){e=N("label"),t=N("input"),a=U(),n=N("p"),o=$(i),f=U(),this.h()},l(h){e=P(h,"LABEL",{style:!0,class:!0});var d=y(e);t=P(d,"INPUT",{type:!0,name:!0}),a=J(d),n=P(d,"P",{style:!0,class:!0});var g=y(n);o=ee(g,i),g.forEach(_),f=J(d),d.forEach(_),this.h()},h(){r(t,"type","checkbox"),t.__value=l[9],t.value=t.__value,r(t,"name",l[2]),x(n,"font-size",l[4]),r(n,"class","svelte-5ds7v7"),x(e,"margin-bottom",l[3]),r(e,"class","svelte-5ds7v7"),s.p(t)},m(h,d){T(h,e,d),b(e,t),t.checked=~(l[0]||[]).indexOf(t.__value),b(e,a),b(e,n),b(n,o),b(e,f),c||(u=Ge(t,"change",l[5]),c=!0)},p(h,d){d&4&&r(t,"name",h[2]),d&3&&(t.checked=~(h[0]||[]).indexOf(t.__value)),d&2&&i!==(i=h[7]+"")&&we(o,i),d&16&&x(n,"font-size",h[4]),d&8&&x(e,"margin-bottom",h[3])},d(h){h&&_(e),s.r(),c=!1,u()}}}function Ba(l){let e,t=l[1],a=[];for(let n=0;n<t.length;n+=1)a[n]=At(Ct(l,t,n));return{c(){e=N("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=P(n,"DIV",{class:!0});var i=y(e);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(_),this.h()},h(){r(e,"class","radio-container svelte-5ds7v7")},m(n,i){T(n,e,i);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null)},p(n,[i]){if(i&31){t=n[1];let o;for(o=0;o<t.length;o+=1){const f=Ct(n,t,o);a[o]?a[o].p(f,i):(a[o]=At(f),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=t.length}},i:me,o:me,d(n){n&&_(e),ve(a,n)}}}function Oa(l,e,t){let{optionsArray:a,chosenId:n,name:i,marginBottom:o=null,fontSize:f=null}=e;const s=[[]];function c(){n=Wl(s[0],this.__value,this.checked),t(0,n)}return l.$$set=u=>{"optionsArray"in u&&t(1,a=u.optionsArray),"chosenId"in u&&t(0,n=u.chosenId),"name"in u&&t(2,i=u.name),"marginBottom"in u&&t(3,o=u.marginBottom),"fontSize"in u&&t(4,f=u.fontSize)},[n,a,i,o,f,c,s]}class qa extends fe{constructor(e){super(),he(this,e,Oa,Ba,de,{optionsArray:1,chosenId:0,name:2,marginBottom:3,fontSize:4})}}function Ka(l){let e,t,a,n,i,o,f,s,c,u,h,d,g,m,v,k,w,V,I,p,L,D,M;function Q(Z){l[8](Z)}function E(Z){l[9](Z)}let S={radioName:"colouredBoxesRadio",latestData:l[2]};l[0]!==void 0&&(S.checkboxedRoles=l[0]),l[4]!==void 0&&(S.chosenId=l[4]),t=new lt({props:S}),be.push(()=>ke(t,"checkboxedRoles",Q)),be.push(()=>ke(t,"chosenId",E));function A(Z){l[10](Z)}let G={optionsArray:["Rank","Change over time","Both"],name:"dotPlotComparisonType",marginBottom:"0px",fontSize:"16px"};l[5]!==void 0&&(G.chosenId=l[5]),h=new He({props:G}),be.push(()=>ke(h,"chosenId",A));function Y(Z){l[11](Z)}let K={optionsArray:l[6].includes(0)?["For most recent year","For comparison year"]:["For most recent year"],name:"chosenComparison",marginBottom:"0px",fontSize:"16px"};return l[6]!==void 0&&(K.chosenId=l[6]),w=new qa({props:K}),be.push(()=>ke(w,"chosenId",Y)),p=new Ta({props:{chosenId:l[5]}}),D=new ya({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],selectedAreas:l[7],chosenId1:l[4],chosenId2:l[5],chosenId3:l[6]}}),{c(){e=N("div"),le(t.$$.fragment),i=U(),o=N("div"),f=N("div"),s=N("p"),c=$("Colour by:"),u=U(),le(h.$$.fragment),g=U(),m=N("p"),v=$("Show labels:"),k=U(),le(w.$$.fragment),I=U(),le(p.$$.fragment),L=U(),le(D.$$.fragment),this.h()},l(Z){e=P(Z,"DIV",{class:!0});var F=y(e);ae(t.$$.fragment,F),i=J(F),o=P(F,"DIV",{class:!0});var C=y(o);f=P(C,"DIV",{class:!0});var z=y(f);s=P(z,"P",{class:!0});var R=y(s);c=ee(R,"Colour by:"),R.forEach(_),u=J(z),ae(h.$$.fragment,z),g=J(z),m=P(z,"P",{style:!0,class:!0});var ie=y(m);v=ee(ie,"Show labels:"),ie.forEach(_),k=J(z),ae(w.$$.fragment,z),z.forEach(_),I=J(C),ae(p.$$.fragment,C),C.forEach(_),L=J(F),ae(D.$$.fragment,F),F.forEach(_),this.h()},h(){r(s,"class","svelte-rp9vsp"),x(m,"margin-top","12px"),r(m,"class","svelte-rp9vsp"),r(f,"class","selections-container svelte-rp9vsp"),r(o,"class","key-and-selections-container svelte-rp9vsp"),r(e,"class","key-indicators-coloured-boxes-option-1-container")},m(Z,F){T(Z,e,F),ne(t,e,null),b(e,i),b(e,o),b(o,f),b(f,s),b(s,c),b(f,u),ne(h,f,null),b(f,g),b(f,m),b(m,v),b(f,k),ne(w,f,null),b(o,I),ne(p,o,null),b(e,L),ne(D,e,null),M=!0},p(Z,[F]){const C={};F&4&&(C.latestData=Z[2]),!a&&F&1&&(a=!0,C.checkboxedRoles=Z[0],pe(()=>a=!1)),!n&&F&16&&(n=!0,C.chosenId=Z[4],pe(()=>n=!1)),t.$set(C);const z={};!d&&F&32&&(d=!0,z.chosenId=Z[5],pe(()=>d=!1)),h.$set(z);const R={};F&64&&(R.optionsArray=Z[6].includes(0)?["For most recent year","For comparison year"]:["For most recent year"]),!V&&F&64&&(V=!0,R.chosenId=Z[6],pe(()=>V=!1)),w.$set(R);const ie={};F&32&&(ie.chosenId=Z[5]),p.$set(ie);const oe={};F&2&&(oe.indicatorsList=Z[1]),F&4&&(oe.latestData=Z[2]),F&8&&(oe.initialData=Z[3]),F&128&&(oe.selectedAreas=Z[7]),F&16&&(oe.chosenId1=Z[4]),F&32&&(oe.chosenId2=Z[5]),F&64&&(oe.chosenId3=Z[6]),D.$set(oe)},i(Z){M||(q(t.$$.fragment,Z),q(h.$$.fragment,Z),q(w.$$.fragment,Z),q(p.$$.fragment,Z),q(D.$$.fragment,Z),M=!0)},o(Z){X(t.$$.fragment,Z),X(h.$$.fragment,Z),X(w.$$.fragment,Z),X(p.$$.fragment,Z),X(D.$$.fragment,Z),M=!1},d(Z){Z&&_(e),re(t),re(h),re(w),re(p),re(D)}}}function ja(l,e,t){let a,{indicatorsList:n,latestData:i,initialData:o,checkboxedRoles:f}=e,s=0,c=0,u=[0],d=ue("areasParentsLookup").filter(w=>["K02000001","E92000001"].includes(w.parentcd)&w.areacd!="E92000001");function g(w){f=w,t(0,f)}function m(w){s=w,t(4,s)}function v(w){c=w,t(5,c)}function k(w){u=w,t(6,u)}return l.$$set=w=>{"indicatorsList"in w&&t(1,n=w.indicatorsList),"latestData"in w&&t(2,i=w.latestData),"initialData"in w&&t(3,o=w.initialData),"checkboxedRoles"in w&&t(0,f=w.checkboxedRoles)},l.$$.update=()=>{l.$$.dirty&17&&t(7,a=s===0?d:f.custom==null||f.custom==null?[]:f.custom)},[f,n,i,o,s,c,u,a,g,m,v,k]}class Ga extends fe{constructor(e){super(),he(this,e,ja,Ka,de,{indicatorsList:1,latestData:2,initialData:3,checkboxedRoles:0})}}function zt(l,e,t){const a=l.slice();return a[0]=e[t],a[2]=t,a}function St(l,e,t){const a=l.slice();return a[3]=e[t],a[5]=t,a}function Ft(l){let e;return{c(){e=B("rect"),this.h()},l(t){e=O(t,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),y(e).forEach(_),this.h()},h(){r(e,"transform","translate("+(l[2]==0?-1:l[2]==2?1:0)+","+(l[5]==0?-1:l[5]==2?1:0)+")"),r(e,"x",l[2]*60),r(e,"y",l[5]*60),r(e,"width","60"),r(e,"height","60"),r(e,"stroke","none"),r(e,"fill",Pe[l[0]][l[3]]),r(e,"opacity","0.5")},m(t,a){T(t,e,a)},p:me,d(t){t&&_(e)}}}function Nt(l){let e,t=["better than average","worse than average"],a=[];for(let n=0;n<2;n+=1)a[n]=Ft(St(l,t,n));return{c(){for(let n=0;n<2;n+=1)a[n].c();e=Ee()},l(n){for(let i=0;i<2;i+=1)a[i].l(n);e=Ee()},m(n,i){for(let o=0;o<2;o+=1)a[o]&&a[o].m(n,i);T(n,e,i)},p(n,i){if(i&0){t=["better than average","worse than average"];let o;for(o=0;o<2;o+=1){const f=St(n,t,o);a[o]?a[o].p(f,i):(a[o]=Ft(f),a[o].c(),a[o].m(e.parentNode,e))}for(;o<2;o+=1)a[o].d(1)}},d(n){ve(a,n),n&&_(e)}}}function Ha(l){let e,t,a,n,i,o,f,s,c,u,h,d,g,m,v,k,w,V,I,p,L,D,M,Q,E,S,A,G,Y,K,Z=["worsening","improving"],F=[];for(let C=0;C<2;C+=1)F[C]=Nt(zt(l,Z,C));return{c(){e=B("svg"),t=B("g");for(let C=0;C<2;C+=1)F[C].c();a=B("circle"),n=B("circle"),i=B("path"),o=B("text"),f=$("A dot in this quadrant"),s=B("text"),c=$("means the area is above"),u=B("text"),h=$("average and improving."),d=B("line"),g=B("path"),m=B("path"),v=B("text"),k=$("better than"),w=B("text"),V=$("average"),I=B("text"),p=$("worse than"),L=B("text"),D=$("average"),M=B("g"),Q=B("line"),E=B("path"),S=B("path"),A=B("text"),G=$("worsening"),Y=B("text"),K=$("improving"),this.h()},l(C){e=O(C,"svg",{width:!0,height:!0,class:!0});var z=y(e);t=O(z,"g",{transform:!0});var R=y(t);for(let ye=0;ye<2;ye+=1)F[ye].l(R);a=O(R,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(a).forEach(_),n=O(R,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(n).forEach(_),i=O(R,"path",{transform:!0,d:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(i).forEach(_),o=O(R,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ie=y(o);f=ee(ie,"A dot in this quadrant"),ie.forEach(_),s=O(R,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var oe=y(s);c=ee(oe,"means the area is above"),oe.forEach(_),u=O(R,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ce=y(u);h=ee(ce,"average and improving."),ce.forEach(_),d=O(R,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),y(d).forEach(_),g=O(R,"path",{d:!0,stroke:!0,fill:!0}),y(g).forEach(_),m=O(R,"path",{d:!0,stroke:!0,fill:!0}),y(m).forEach(_),v=O(R,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var H=y(v);k=ee(H,"better than"),H.forEach(_),w=O(R,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var j=y(w);V=ee(j,"average"),j.forEach(_),I=O(R,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var te=y(I);p=ee(te,"worse than"),te.forEach(_),L=O(R,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var _e=y(L);D=ee(_e,"average"),_e.forEach(_),M=O(R,"g",{});var se=y(M);Q=O(se,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0}),y(Q).forEach(_),E=O(se,"path",{d:!0,stroke:!0,fill:!0}),y(E).forEach(_),S=O(se,"path",{d:!0,stroke:!0,fill:!0}),y(S).forEach(_),A=O(se,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var De=y(A);G=ee(De,"worsening"),De.forEach(_),Y=O(se,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ge=y(Y);K=ee(ge,"improving"),ge.forEach(_),se.forEach(_),R.forEach(_),z.forEach(_),this.h()},h(){r(a,"cy","30"),r(a,"cx","90"),r(a,"r","8"),r(a,"stroke","white"),r(a,"stroke-width","2px"),r(a,"fill","white"),r(n,"cy","30"),r(n,"cx","90"),r(n,"r","6"),r(n,"stroke","black"),r(n,"stroke-width","1.5px"),r(n,"fill",Pe.improving["better than average"]),r(i,"transform","translate(90,30)"),r(i,"d","M11.5 0.5 l6.5 -6.5 M12 0 l6 6 M17 0 l28 0 l0 10"),r(i,"stroke","black"),r(i,"stroke-width","1.5px"),r(i,"fill","none"),r(o,"transform","translate(90,30)"),r(o,"x","40"),r(o,"y","23"),r(o,"text-anchor","start"),r(o,"font-size","14px"),r(o,"stroke-width","0.25px"),r(o,"stroke","black"),r(o,"fill","black"),r(s,"transform","translate(90,30)"),r(s,"x","40"),r(s,"y","38"),r(s,"text-anchor","start"),r(s,"font-size","14px"),r(s,"stroke-width","0.25px"),r(s,"stroke","black"),r(s,"fill","black"),r(u,"transform","translate(90,30)"),r(u,"x","40"),r(u,"y","53"),r(u,"text-anchor","start"),r(u,"font-size","14px"),r(u,"stroke-width","0.25px"),r(u,"stroke","black"),r(u,"fill","black"),r(d,"x1","-20"),r(d,"x2","-20"),r(d,"y1","10"),r(d,"y2","110"),r(d,"stroke","black"),r(d,"stroke-width","2px"),r(g,"d","M-20 5 l5 5 l-10 0 z"),r(g,"stroke","none"),r(g,"fill","black"),r(m,"d","M-20 115 l5 -5 l-10 0 z"),r(m,"stroke","none"),r(m,"fill","black"),r(v,"x","-30"),r(v,"y","10"),r(v,"text-anchor","end"),r(v,"font-size","14px"),r(v,"stroke-width","0.25px"),r(v,"stroke","black"),r(v,"fill","black"),r(w,"x","-30"),r(w,"y","24"),r(w,"text-anchor","end"),r(w,"font-size","14px"),r(w,"stroke-width","0.25px"),r(w,"stroke","black"),r(w,"fill","black"),r(I,"x","-30"),r(I,"y","110"),r(I,"text-anchor","end"),r(I,"font-size","14px"),r(I,"stroke-width","0.25px"),r(I,"stroke","black"),r(I,"fill","black"),r(L,"x","-30"),r(L,"y","124"),r(L,"text-anchor","end"),r(L,"font-size","14px"),r(L,"stroke-width","0.25px"),r(L,"stroke","black"),r(L,"fill","black"),r(Q,"y1","140"),r(Q,"y2","140"),r(Q,"x1","10"),r(Q,"x2","110"),r(Q,"stroke","black"),r(Q,"stroke-width","2px"),r(E,"d","M5 140 l5 -5 l0 10 z"),r(E,"stroke","none"),r(E,"fill","black"),r(S,"d","M115 140 l-5 -5 l0 10 z"),r(S,"stroke","none"),r(S,"fill","black"),r(A,"x","-5"),r(A,"y","160"),r(A,"text-anchor","middle"),r(A,"font-size","14px"),r(A,"stroke-width","0.25px"),r(A,"stroke","black"),r(A,"fill","black"),r(Y,"x","110"),r(Y,"y","160"),r(Y,"text-anchor","middle"),r(Y,"font-size","14px"),r(Y,"stroke-width","0.25px"),r(Y,"stroke","black"),r(Y,"fill","black"),r(t,"transform","translate(120,20)"),r(e,"width","420"),r(e,"height","200"),r(e,"class","svelte-5r2hj0")},m(C,z){T(C,e,z),b(e,t);for(let R=0;R<2;R+=1)F[R]&&F[R].m(t,null);b(t,a),b(t,n),b(t,i),b(t,o),b(o,f),b(t,s),b(s,c),b(t,u),b(u,h),b(t,d),b(t,g),b(t,m),b(t,v),b(v,k),b(t,w),b(w,V),b(t,I),b(I,p),b(t,L),b(L,D),b(t,M),b(M,Q),b(M,E),b(M,S),b(M,A),b(A,G),b(M,Y),b(Y,K)},p(C,[z]){if(z&0){Z=["worsening","improving"];let R;for(R=0;R<2;R+=1){const ie=zt(C,Z,R);F[R]?F[R].p(ie,z):(F[R]=Nt(ie),F[R].c(),F[R].m(t,a))}for(;R<2;R+=1)F[R].d(1)}},i:me,o:me,d(C){C&&_(e),ve(F,C)}}}let Wa=class extends fe{constructor(e){super(),he(this,e,null,Ha,de,{})}};function Xa(l){let e,t,a;return{c(){e=N("div"),t=N("p"),a=$("No data"),this.h()},l(n){e=P(n,"DIV",{class:!0,style:!0});var i=y(e);t=P(i,"P",{class:!0,style:!0});var o=y(t);a=ee(o,"No data"),o.forEach(_),i.forEach(_),this.h()},h(){r(t,"class","mainText svelte-io2vqv"),x(t,"font-size","14px"),r(e,"class","cell-container no-data svelte-io2vqv"),x(e,"background-color","grey"),x(e,"color","white")},m(n,i){T(n,e,i),b(e,t),b(t,a)},p:me,d(n){n&&_(e)}}}function Ya(l){let e,t,a,n,i,o,f,s,c,u,h=l[6]!=null&&Pt();function d(v,k){return v[6]!=null?Za:Qa}let g=d(l),m=g(l);return{c(){e=B("svg"),t=B("rect"),a=B("line"),h&&h.c(),n=Ee(),m.c(),i=B("circle"),s=B("circle"),this.h()},l(v){e=O(v,"svg",{class:!0});var k=y(e);t=O(k,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),y(t).forEach(_),a=O(k,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),y(a).forEach(_),h&&h.l(k),n=Ee(),m.l(k),i=O(k,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(i).forEach(_),s=O(k,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(s).forEach(_),k.forEach(_),this.h()},h(){r(t,"x","0"),r(t,"y","0"),r(t,"width","60"),r(t,"height","60"),r(t,"fill","none"),r(t,"stroke","black"),r(t,"stroke-width","1px"),r(t,"opacity","0.25"),r(a,"x1","0"),r(a,"x2","60"),r(a,"y1","30"),r(a,"y2","30"),r(a,"stroke","black"),r(a,"stroke-width","1px"),r(a,"opacity","0.25"),r(i,"cy",o=l[5]===null?30:30+(l[0].polarity==1?-1:1)*28*l[5]/l[2]),r(i,"cx",f=l[6]===null||l[7]==null?30:30+(l[0].polarity==1?1:-1)*28*l[6]/l[1]),r(i,"r","8"),r(i,"stroke","white"),r(i,"stroke-width","2px"),r(i,"fill","white"),r(s,"cy",c=l[5]===null?30:30+(l[0].polarity==1?-1:1)*28*l[5]/l[2]),r(s,"cx",u=l[6]===null||l[7]==null?30:30+(l[0].polarity==1?1:-1)*28*l[6]/l[1]),r(s,"r","6"),r(s,"stroke","black"),r(s,"stroke-width","1.5px"),r(s,"fill",l[8]),r(e,"class","svelte-io2vqv")},m(v,k){T(v,e,k),b(e,t),b(e,a),h&&h.m(e,null),b(e,n),m.m(e,null),b(e,i),b(e,s)},p(v,k){v[6]!=null?h||(h=Pt(),h.c(),h.m(e,n)):h&&(h.d(1),h=null),g===(g=d(v))&&m?m.p(v,k):(m.d(1),m=g(v),m&&(m.c(),m.m(e,i))),k&37&&o!==(o=v[5]===null?30:30+(v[0].polarity==1?-1:1)*28*v[5]/v[2])&&r(i,"cy",o),k&195&&f!==(f=v[6]===null||v[7]==null?30:30+(v[0].polarity==1?1:-1)*28*v[6]/v[1])&&r(i,"cx",f),k&37&&c!==(c=v[5]===null?30:30+(v[0].polarity==1?-1:1)*28*v[5]/v[2])&&r(s,"cy",c),k&195&&u!==(u=v[6]===null||v[7]==null?30:30+(v[0].polarity==1?1:-1)*28*v[6]/v[1])&&r(s,"cx",u),k&256&&r(s,"fill",v[8])},d(v){v&&_(e),h&&h.d(),m.d()}}}function Pt(l){let e;return{c(){e=B("line"),this.h()},l(t){e=O(t,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),y(e).forEach(_),this.h()},h(){r(e,"x1","30"),r(e,"x2","30"),r(e,"y1","0"),r(e,"y2","60"),r(e,"stroke","black"),r(e,"stroke-width","1px"),r(e,"opacity","0.25")},m(t,a){T(t,e,a)},d(t){t&&_(e)}}}function Qa(l){let e,t,a;return{c(){e=B("line"),this.h()},l(n){e=O(n,"line",{x1:!0,x2:!0,y1:!0,y2:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),y(e).forEach(_),this.h()},h(){r(e,"x1","30"),r(e,"x2","30"),r(e,"y1",t=l[3]==="worse than average"?30:0),r(e,"y2",a=l[3]==="worse than average"?60:30),r(e,"width",30),r(e,"height","30"),r(e,"stroke","#b0b0b0"),r(e,"stroke-width","5px")},m(n,i){T(n,e,i)},p(n,i){i&8&&t!==(t=n[3]==="worse than average"?30:0)&&r(e,"y1",t),i&8&&a!==(a=n[3]==="worse than average"?60:30)&&r(e,"y2",a)},d(n){n&&_(e)}}}function Za(l){let e,t,a;return{c(){e=B("rect"),this.h()},l(n){e=O(n,"rect",{y:!0,x:!0,width:!0,height:!0,stroke:!0,fill:!0,"fill-opacity":!0,"stroke-width":!0}),y(e).forEach(_),this.h()},h(){r(e,"y",t=l[3]==="worse than average"?30:0),r(e,"x",a=l[4]==="improving"?30:0),r(e,"width",30),r(e,"height","30"),r(e,"stroke","#b0b0b0"),r(e,"fill",l[8]),r(e,"fill-opacity","0.1"),r(e,"stroke-width","1.5px")},m(n,i){T(n,e,i)},p(n,i){i&8&&t!==(t=n[3]==="worse than average"?30:0)&&r(e,"y",t),i&16&&a!==(a=n[4]==="improving"?30:0)&&r(e,"x",a),i&256&&r(e,"fill",n[8])},d(n){n&&_(e)}}}function Ua(l){let e;function t(i,o){return i[5]!=null||i[6]!=null?Ya:Xa}let a=t(l),n=a(l);return{c(){e=N("div"),n.c(),this.h()},l(i){e=P(i,"DIV",{class:!0});var o=y(e);n.l(o),o.forEach(_),this.h()},h(){r(e,"class","cell-container svelte-io2vqv")},m(i,o){T(i,e,o),n.m(e,null)},p(i,[o]){a===(a=t(i))&&n?n.p(i,o):(n.d(1),n=a(i),n&&(n.c(),n.m(e,null)))},i:me,o:me,d(i){i&&_(e),n.d()}}}function Ja(l,e,t){let a,n,i,o,f,s,c,{calculations:u,indicatorMetadata:h,latestData:d,initialData:g,maxChange:m,maxValueFromMedian:v}=e;return l.$$set=k=>{"calculations"in k&&t(9,u=k.calculations),"indicatorMetadata"in k&&t(0,h=k.indicatorMetadata),"latestData"in k&&t(10,d=k.latestData),"initialData"in k&&t(11,g=k.initialData),"maxChange"in k&&t(1,m=k.maxChange),"maxValueFromMedian"in k&&t(2,v=k.maxValueFromMedian)},l.$$.update=()=>{l.$$.dirty&1024&&t(7,a=d.length>0?d[0].value:null),l.$$.dirty&2048&&t(12,n=g.length>0?g[0].value:null),l.$$.dirty&4225&&t(6,i=a!=null&n!=null?(a-n)/(h.absoluteOrPercent=="A"?1:n/100):null),l.$$.dirty&641&&t(5,o=a!=null?(a-u.medianValue)/(h.absoluteOrPercent=="A"?1:u.medianValue/100):null),l.$$.dirty&65&&t(4,f=i!=null?i>0?h.polarity==1?"improving":"worsening":h.polarity==1?"worsening":"improving":null),l.$$.dirty&33&&t(3,s=o!=null?o>0?h.polarity==1?"better than average":"worse than average":h.polarity==1?"worse than average":"better than average":null),l.$$.dirty&24&&t(8,c=f==null&s==null?"grey":Pe[f??"similar"][s??"similar"])},[h,m,v,s,f,o,i,a,c,u,d,g,n]}let xa=class extends fe{constructor(e){super(),he(this,e,Ja,Ua,de,{calculations:9,indicatorMetadata:0,latestData:10,initialData:11,maxChange:1,maxValueFromMedian:2})}};function Tt(l,e,t){const a=l.slice();return a[14]=e[t],a[16]=t,a}function Bt(l){let e,t,a,n;function i(...f){return l[11](l[14],...f)}function o(...f){return l[12](l[14],...f)}return t=new xa({props:{calculations:l[14],indicatorMetadata:l[0].find(i),latestData:l[2].filter(o),initialData:"indicator-"+l[14].id in l[1]?l[1]["indicator-"+l[14].id].filter(l[13]):[],maxChange:l[6][l[16]],maxValueFromMedian:l[7][l[16]]}}),{c(){e=N("div"),le(t.$$.fragment),a=U(),this.h()},l(f){e=P(f,"DIV",{class:!0});var s=y(e);ae(t.$$.fragment,s),a=J(s),s.forEach(_),this.h()},h(){r(e,"class",Le("cell column"+l[16])+" svelte-17hudsm")},m(f,s){T(f,e,s),ne(t,e,null),b(e,a),n=!0},p(f,s){l=f;const c={};s&32&&(c.calculations=l[14]),s&33&&(c.indicatorMetadata=l[0].find(i)),s&52&&(c.latestData=l[2].filter(o)),s&50&&(c.initialData="indicator-"+l[14].id in l[1]?l[1]["indicator-"+l[14].id].filter(l[13]):[]),s&64&&(c.maxChange=l[6][l[16]]),s&128&&(c.maxValueFromMedian=l[7][l[16]]),t.$set(c)},i(f){n||(q(t.$$.fragment,f),n=!0)},o(f){X(t.$$.fragment,f),n=!1},d(f){f&&_(e),re(t)}}}function $a(l){let e,t,a,n=l[8].find(l[10]).areanm+"",i,o,f,s,c=l[5],u=[];for(let d=0;d<c.length;d+=1)u[d]=Bt(Tt(l,c,d));const h=d=>X(u[d],1,1,()=>{u[d]=null});return{c(){e=N("div"),t=N("div"),a=N("p"),i=$(n),o=U();for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=P(d,"DIV",{class:!0,style:!0});var g=y(e);t=P(g,"DIV",{class:!0,style:!0});var m=y(t);a=P(m,"P",{class:!0});var v=y(a);i=ee(v,n),v.forEach(_),m.forEach(_),o=J(g);for(let k=0;k<u.length;k+=1)u[k].l(g);g.forEach(_),this.h()},h(){r(a,"class","svelte-17hudsm"),r(t,"class","areasColumn svelte-17hudsm"),r(t,"style","width: 200px"),r(e,"class",f=Le("row cellRow"+l[3])+" svelte-17hudsm"),x(e,"background-color",l[3]%2===0?"#fafafa":"#ffffff")},m(d,g){T(d,e,g),b(e,t),b(t,a),b(a,i),b(e,o);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null);s=!0},p(d,[g]){if((!s||g&16)&&n!==(n=d[8].find(d[10]).areanm+"")&&we(i,n),g&247){c=d[5];let m;for(m=0;m<c.length;m+=1){const v=Tt(d,c,m);u[m]?(u[m].p(v,g),q(u[m],1)):(u[m]=Bt(v),u[m].c(),q(u[m],1),u[m].m(e,null))}for(Re(),m=c.length;m<u.length;m+=1)h(m);Me()}(!s||g&8&&f!==(f=Le("row cellRow"+d[3])+" svelte-17hudsm"))&&r(e,"class",f),(!s||g&8)&&x(e,"background-color",d[3]%2===0?"#fafafa":"#ffffff")},i(d){if(!s){for(let g=0;g<c.length;g+=1)q(u[g]);s=!0}},o(d){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)X(u[g]);s=!1},d(d){d&&_(e),ve(u,d)}}}function en(l,e,t){let{chosenId1:a,indicatorsMetadata:n,initialData:i,latestData:o,j:f,row:s,indicatorsCalculations:c,maxChangeArray:u,maxValueFromMedianArray:h}=e,d=ue("areas");console.log(u);const g=w=>w.areacd===s.areacd,m=(w,V)=>V.code==w.code,v=(w,V)=>w.id==V.id&s.areacd==V.areacd,k=w=>w.areacd==s.areacd;return l.$$set=w=>{"chosenId1"in w&&t(9,a=w.chosenId1),"indicatorsMetadata"in w&&t(0,n=w.indicatorsMetadata),"initialData"in w&&t(1,i=w.initialData),"latestData"in w&&t(2,o=w.latestData),"j"in w&&t(3,f=w.j),"row"in w&&t(4,s=w.row),"indicatorsCalculations"in w&&t(5,c=w.indicatorsCalculations),"maxChangeArray"in w&&t(6,u=w.maxChangeArray),"maxValueFromMedianArray"in w&&t(7,h=w.maxValueFromMedianArray)},[n,i,o,f,s,c,u,h,d,a,g,m,v,k]}let tn=class extends fe{constructor(e){super(),he(this,e,en,$a,de,{chosenId1:9,indicatorsMetadata:0,initialData:1,latestData:2,j:3,row:4,indicatorsCalculations:5,maxChangeArray:6,maxValueFromMedianArray:7})}};function Ot(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function qt(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function Kt(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function jt(l){let e,t,a=l[6].label+"",n,i;return{c(){e=N("div"),t=N("p"),n=$(a),i=U(),this.h()},l(o){e=P(o,"DIV",{class:!0});var f=y(e);t=P(f,"P",{class:!0});var s=y(t);n=ee(s,a),i=J(s),s.forEach(_),f.forEach(_),this.h()},h(){r(t,"class","svelte-4m9oqo"),r(e,"class",Le("headerCell column"+l[8])+" svelte-4m9oqo")},m(o,f){T(o,e,f),b(e,t),b(t,n),b(t,i)},p(o,f){f&4&&a!==(a=o[6].label+"")&&we(n,a)},d(o){o&&_(e)}}}function Gt(l){let e,t;return e=new tt({}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function Ht(l){let e,t="(compared to "+l[3].find(n).label+")",a;function n(...i){return l[5](l[6],...i)}return{c(){e=N("p"),a=$(t),this.h()},l(i){e=P(i,"P",{class:!0});var o=y(e);a=ee(o,t),o.forEach(_),this.h()},h(){r(e,"class","initial-year-label svelte-4m9oqo")},m(i,o){T(i,e,o),b(e,a)},p(i,o){l=i,o&4&&t!==(t="(compared to "+l[3].find(n).label+")")&&we(a,t)},d(i){i&&_(e)}}}function Wt(l){let e,t,a=l[3].find(s).label+"",n,i,o=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0),f;function s(...u){return l[4](l[6],...u)}let c=o&&Ht(l);return{c(){e=N("div"),t=N("p"),n=$(a),i=U(),c&&c.c(),f=U(),this.h()},l(u){e=P(u,"DIV",{class:!0});var h=y(e);t=P(h,"P",{class:!0});var d=y(t);n=ee(d,a),d.forEach(_),i=J(h),c&&c.l(h),f=J(h),h.forEach(_),this.h()},h(){r(t,"class","latest-year-label svelte-4m9oqo"),r(e,"class",Le("yearCell column"+l[8])+" svelte-4m9oqo")},m(u,h){T(u,e,h),b(e,t),b(t,n),b(e,i),c&&c.m(e,null),b(e,f)},p(u,h){l=u,h&4&&a!==(a=l[3].find(s).label+"")&&we(n,a),h&7&&(o=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0)),o?c?c.p(l,h):(c=Ht(l),c.c(),c.m(e,f)):c&&(c.d(1),c=null)},d(u){u&&_(e),c&&c.d()}}}function ln(l){let e,t,a,n,i,o,f,s,c,u,h,d,g=l[2],m=[];for(let p=0;p<g.length;p+=1)m[p]=jt(Kt(l,g,p));let v=l[2],k=[];for(let p=0;p<v.length;p+=1)k[p]=Gt(qt(l,v,p));const w=p=>X(k[p],1,1,()=>{k[p]=null});let V=l[2],I=[];for(let p=0;p<V.length;p+=1)I[p]=Wt(Ot(l,V,p));return{c(){e=N("div"),t=N("div"),a=U();for(let p=0;p<m.length;p+=1)m[p].c();n=U(),i=N("div"),o=N("div"),f=U();for(let p=0;p<k.length;p+=1)k[p].c();s=U(),c=N("div"),u=N("div"),h=U();for(let p=0;p<I.length;p+=1)I[p].c();this.h()},l(p){e=P(p,"DIV",{class:!0});var L=y(e);t=P(L,"DIV",{class:!0,style:!0});var D=y(t);D.forEach(_),a=J(L);for(let A=0;A<m.length;A+=1)m[A].l(L);L.forEach(_),n=J(p),i=P(p,"DIV",{class:!0});var M=y(i);o=P(M,"DIV",{class:!0,style:!0});var Q=y(o);Q.forEach(_),f=J(M);for(let A=0;A<k.length;A+=1)k[A].l(M);M.forEach(_),s=J(p),c=P(p,"DIV",{class:!0});var E=y(c);u=P(E,"DIV",{class:!0,style:!0});var S=y(u);S.forEach(_),h=J(E);for(let A=0;A<I.length;A+=1)I[A].l(E);E.forEach(_),this.h()},h(){r(t,"class","areasColumn svelte-4m9oqo"),r(t,"style","width: 200px"),r(e,"class","row headerRow svelte-4m9oqo"),r(o,"class","areasColumn svelte-4m9oqo"),r(o,"style","width: 200px"),r(i,"class","row headerRow svelte-4m9oqo"),r(u,"class","areasColumn svelte-4m9oqo"),r(u,"style","width: 200px"),r(c,"class","row headerRow svelte-4m9oqo")},m(p,L){T(p,e,L),b(e,t),b(e,a);for(let D=0;D<m.length;D+=1)m[D]&&m[D].m(e,null);T(p,n,L),T(p,i,L),b(i,o),b(i,f);for(let D=0;D<k.length;D+=1)k[D]&&k[D].m(i,null);T(p,s,L),T(p,c,L),b(c,u),b(c,h);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(c,null);d=!0},p(p,[L]){if(L&4){g=p[2];let D;for(D=0;D<g.length;D+=1){const M=Kt(p,g,D);m[D]?m[D].p(M,L):(m[D]=jt(M),m[D].c(),m[D].m(e,null))}for(;D<m.length;D+=1)m[D].d(1);m.length=g.length}if(L&4){const D=v.length;v=p[2];let M;for(M=D;M<v.length;M+=1)qt(p,v,M),k[M]?q(k[M],1):(k[M]=Gt(),k[M].c(),q(k[M],1),k[M].m(i,null));for(Re(),M=v.length;M<k.length;M+=1)w(M);Me()}if(L&15){V=p[2];let D;for(D=0;D<V.length;D+=1){const M=Ot(p,V,D);I[D]?I[D].p(M,L):(I[D]=Wt(M),I[D].c(),I[D].m(c,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=V.length}},i(p){if(!d){for(let L=0;L<v.length;L+=1)q(k[L]);d=!0}},o(p){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)X(k[L]);d=!1},d(p){p&&_(e),ve(m,p),p&&_(n),p&&_(i),ve(k,p),p&&_(s),p&&_(c),ve(I,p)}}}function an(l,e,t){let{chosenId2:a,chosenId3:n,indicatorsCalculations:i}=e,o=ue("periodsLookup");const f=(c,u)=>u.xDomainNumb==c.maxXDomain,s=(c,u)=>u.xDomainNumb==c.minXDomain;return l.$$set=c=>{"chosenId2"in c&&t(0,a=c.chosenId2),"chosenId3"in c&&t(1,n=c.chosenId3),"indicatorsCalculations"in c&&t(2,i=c.indicatorsCalculations)},[a,n,i,o,f,s]}let nn=class extends fe{constructor(e){super(),he(this,e,an,ln,de,{chosenId2:0,chosenId3:1,indicatorsCalculations:2})}};function Xt(l,e,t){const a=l.slice();return a[12]=e[t],a[14]=t,a}function Yt(l){let e,t;return e=new tn({props:{row:l[12],j:l[14],chosenId1:l[3],chosenId2:l[4],chosenId3:l[5],indicatorsCalculations:l[9],indicatorsMetadata:l[8],initialData:l[1],latestData:l[0],maxChangeArray:l[6],maxValueFromMedianArray:l[7]}}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p(a,n){const i={};n&4&&(i.row=a[12]),n&8&&(i.chosenId1=a[3]),n&16&&(i.chosenId2=a[4]),n&32&&(i.chosenId3=a[5]),n&2&&(i.initialData=a[1]),n&1&&(i.latestData=a[0]),n&64&&(i.maxChangeArray=a[6]),n&128&&(i.maxValueFromMedianArray=a[7]),e.$set(i)},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function rn(l){let e,t,a,n;t=new nn({props:{indicatorsCalculations:l[9],chosenId2:l[4],chosenId3:l[5]}});let i=l[2],o=[];for(let s=0;s<i.length;s+=1)o[s]=Yt(Xt(l,i,s));const f=s=>X(o[s],1,1,()=>{o[s]=null});return{c(){e=N("div"),le(t.$$.fragment),a=U();for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=P(s,"DIV",{class:!0});var c=y(e);ae(t.$$.fragment,c),a=J(c);for(let u=0;u<o.length;u+=1)o[u].l(c);c.forEach(_),this.h()},h(){r(e,"class","grid-container svelte-k2j273")},m(s,c){T(s,e,c),ne(t,e,null),b(e,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);n=!0},p(s,[c]){const u={};if(c&16&&(u.chosenId2=s[4]),c&32&&(u.chosenId3=s[5]),t.$set(u),c&1023){i=s[2];let h;for(h=0;h<i.length;h+=1){const d=Xt(s,i,h);o[h]?(o[h].p(d,c),q(o[h],1)):(o[h]=Yt(d),o[h].c(),q(o[h],1),o[h].m(e,null))}for(Re(),h=i.length;h<o.length;h+=1)f(h);Me()}},i(s){if(!n){q(t.$$.fragment,s);for(let c=0;c<i.length;c+=1)q(o[c]);n=!0}},o(s){X(t.$$.fragment,s),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)X(o[c]);n=!1},d(s){s&&_(e),re(t),ve(o,s)}}}function on(l,e,t){let a,n,{indicatorsList:i,latestData:o,initialData:f,selectedAreas:s,chosenId1:c,chosenId2:u,chosenId3:h,chosenId0:d}=e,g=ue("indicatorsMetadata"),m=ue("indicatorsCalculations").filter(v=>i.includes(v.id));return l.$$set=v=>{"indicatorsList"in v&&t(10,i=v.indicatorsList),"latestData"in v&&t(0,o=v.latestData),"initialData"in v&&t(1,f=v.initialData),"selectedAreas"in v&&t(2,s=v.selectedAreas),"chosenId1"in v&&t(3,c=v.chosenId1),"chosenId2"in v&&t(4,u=v.chosenId2),"chosenId3"in v&&t(5,h=v.chosenId3),"chosenId0"in v&&t(11,d=v.chosenId0)},l.$$.update=()=>{l.$$.dirty&2055&&m.forEach((v,k)=>{v.medianValue=v.ltCount>200?v.ltMedian:v.utCount>140?v.utMedian:v.ukValue!="NA"?v.ukValue:v.gbValue!="NA"?v.gbValue:v.ewValue!="NA"?v.ewValue:v.engValue!="NA"?v.engValue:null;let w=g.find(V=>V.code==v.code).absoluteOrPercent;t(7,n[k]=d==0?Math.max(v.medianValue-v.minValue,v.maxValue-v.medianValue)/(w=="A"?1:v.medianValue):Math.max(...s.map(V=>V.areacd).map(V=>o.find(I=>I.areacd==V&I.id==v.id)).filter(V=>V!=null).map(V=>Math.abs(V.value-v.medianValue))),n),t(6,a[k]=d==0?w=="A"?v.maxAbsoluteChange:v.maxPercentageChange:"indicator-"+v.id in f?Math.max(...s.map(V=>V.areacd).map(V=>[o.find(I=>I.areacd==V&I.id==v.id),f["indicator-"+v.id].find(I=>I.areacd==V)]).filter(V=>V[0]!=null&V[1]!=null).map(V=>Math.abs(V[0].value-V[1].value))):null,a),v.label=g.find(V=>V.code==v.code).label})},t(6,a=new Array(m.length)),t(7,n=new Array(m.length)),[o,f,s,c,u,h,a,n,g,m,i,d]}let sn=class extends fe{constructor(e){super(),he(this,e,on,rn,de,{indicatorsList:10,latestData:0,initialData:1,selectedAreas:2,chosenId1:3,chosenId2:4,chosenId3:5,chosenId0:11})}};function cn(l){let e,t,a,n,i,o,f,s,c,u;function h(m){l[8](m)}function d(m){l[9](m)}let g={radioName:"dotPlotRadio",latestData:l[2]};return l[0]!==void 0&&(g.checkboxedRoles=l[0]),l[5]!==void 0&&(g.chosenId=l[5]),t=new lt({props:g}),be.push(()=>ke(t,"checkboxedRoles",h)),be.push(()=>ke(t,"chosenId",d)),f=new Wa({}),c=new sn({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],selectedAreas:l[6],chosenId1:l[5],chosenId2:un,chosenId3:l[7],chosenId0:l[4]}}),{c(){e=N("div"),le(t.$$.fragment),i=U(),o=N("div"),le(f.$$.fragment),s=U(),le(c.$$.fragment),this.h()},l(m){e=P(m,"DIV",{class:!0});var v=y(e);ae(t.$$.fragment,v),i=J(v),o=P(v,"DIV",{class:!0});var k=y(o);ae(f.$$.fragment,k),k.forEach(_),s=J(v),ae(c.$$.fragment,v),v.forEach(_),this.h()},h(){r(o,"class","key-and-selections-container svelte-1xm9yo2"),r(e,"class","key-indicators-dot-plot-boxes-option-2-container")},m(m,v){T(m,e,v),ne(t,e,null),b(e,i),b(e,o),ne(f,o,null),b(e,s),ne(c,e,null),u=!0},p(m,[v]){const k={};v&4&&(k.latestData=m[2]),!a&&v&1&&(a=!0,k.checkboxedRoles=m[0],pe(()=>a=!1)),!n&&v&32&&(n=!0,k.chosenId=m[5],pe(()=>n=!1)),t.$set(k);const w={};v&2&&(w.indicatorsList=m[1]),v&4&&(w.latestData=m[2]),v&8&&(w.initialData=m[3]),v&64&&(w.selectedAreas=m[6]),v&32&&(w.chosenId1=m[5]),v&16&&(w.chosenId0=m[4]),c.$set(w)},i(m){u||(q(t.$$.fragment,m),q(f.$$.fragment,m),q(c.$$.fragment,m),u=!0)},o(m){X(t.$$.fragment,m),X(f.$$.fragment,m),X(c.$$.fragment,m),u=!1},d(m){m&&_(e),re(t),re(f),re(c)}}}let un=2;function fn(l,e,t){let a,{indicatorsList:n,latestData:i,initialData:o,checkboxedRoles:f,chosenId0:s}=e,c=0,u=[],d=ue("areasParentsLookup").filter(v=>["K02000001","E92000001"].includes(v.parentcd)&v.areacd!="E92000001");function g(v){f=v,t(0,f)}function m(v){c=v,t(5,c)}return l.$$set=v=>{"indicatorsList"in v&&t(1,n=v.indicatorsList),"latestData"in v&&t(2,i=v.latestData),"initialData"in v&&t(3,o=v.initialData),"checkboxedRoles"in v&&t(0,f=v.checkboxedRoles),"chosenId0"in v&&t(4,s=v.chosenId0)},l.$$.update=()=>{l.$$.dirty&33&&t(6,a=c===0?d:f.custom==null||f.custom==null?[]:f.custom)},[f,n,i,o,s,c,a,u,g,m]}class hn extends fe{constructor(e){super(),he(this,e,fn,cn,de,{indicatorsList:1,latestData:2,initialData:3,checkboxedRoles:0,chosenId0:4})}}function Qt(l,e,t){const a=l.slice();return a[0]=e[t],a[2]=t,a}function Zt(l,e,t){const a=l.slice();return a[3]=e[t],a[5]=t,a}function Ut(l){let e;return{c(){e=B("rect"),this.h()},l(t){e=O(t,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),y(e).forEach(_),this.h()},h(){r(e,"transform","translate("+(l[2]==0?-1:l[2]==2?1:0)+","+(l[5]==0?-1:l[5]==2?1:0)+")"),r(e,"x",l[2]*60),r(e,"y",l[5]*60),r(e,"width","60"),r(e,"height","60"),r(e,"stroke","none"),r(e,"fill",Pe[l[0]][l[3]]),r(e,"opacity","0.5")},m(t,a){T(t,e,a)},p:me,d(t){t&&_(e)}}}function Jt(l){let e,t=["better than average","worse than average"],a=[];for(let n=0;n<2;n+=1)a[n]=Ut(Zt(l,t,n));return{c(){for(let n=0;n<2;n+=1)a[n].c();e=Ee()},l(n){for(let i=0;i<2;i+=1)a[i].l(n);e=Ee()},m(n,i){for(let o=0;o<2;o+=1)a[o]&&a[o].m(n,i);T(n,e,i)},p(n,i){if(i&0){t=["better than average","worse than average"];let o;for(o=0;o<2;o+=1){const f=Zt(n,t,o);a[o]?a[o].p(f,i):(a[o]=Ut(f),a[o].c(),a[o].m(e.parentNode,e))}for(;o<2;o+=1)a[o].d(1)}},d(n){ve(a,n),n&&_(e)}}}function dn(l){let e,t,a,n,i,o,f,s,c,u,h,d,g,m,v,k,w,V,I,p,L,D,M,Q,E,S,A,G,Y,K,Z,F,C,z,R,ie,oe=["worsening","improving"],ce=[];for(let H=0;H<2;H+=1)ce[H]=Jt(Qt(l,oe,H));return{c(){e=B("svg"),t=B("g"),a=B("rect"),n=B("line"),i=B("path"),o=B("text"),f=$("This line represents the median value"),s=B("text"),c=$("during the most recent time period."),u=B("path"),h=B("circle"),d=B("path"),g=B("text"),m=$("A dot below the median line means"),v=B("text"),k=$("the area is worse than average."),w=B("g");for(let H=0;H<2;H+=1)ce[H].c();V=B("line"),I=B("path"),p=B("path"),L=B("text"),D=$("better than"),M=B("text"),Q=$("average"),E=B("text"),S=$("worse than"),A=B("text"),G=$("average"),Y=B("g"),K=B("line"),Z=B("path"),F=B("path"),C=B("text"),z=$("worsening"),R=B("text"),ie=$("improving"),this.h()},l(H){e=O(H,"svg",{width:!0,height:!0,class:!0});var j=y(e);t=O(j,"g",{transform:!0});var te=y(t);a=O(te,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),y(a).forEach(_),n=O(te,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),y(n).forEach(_),i=O(te,"path",{transform:!0,d:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(i).forEach(_),o=O(te,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var _e=y(o);f=ee(_e,"This line represents the median value"),_e.forEach(_),s=O(te,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var se=y(s);c=ee(se,"during the most recent time period."),se.forEach(_),u=O(te,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),y(u).forEach(_),h=O(te,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(h).forEach(_),d=O(te,"path",{transform:!0,d:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(d).forEach(_),g=O(te,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var De=y(g);m=ee(De,"A dot below the median line means"),De.forEach(_),v=O(te,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ge=y(v);k=ee(ge,"the area is worse than average."),ge.forEach(_),te.forEach(_),w=O(j,"g",{transform:!0});var ye=y(w);for(let Ke=0;Ke<2;Ke+=1)ce[Ke].l(ye);V=O(ye,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),y(V).forEach(_),I=O(ye,"path",{d:!0,stroke:!0,fill:!0}),y(I).forEach(_),p=O(ye,"path",{d:!0,stroke:!0,fill:!0}),y(p).forEach(_),L=O(ye,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Ve=y(L);D=ee(Ve,"better than"),Ve.forEach(_),M=O(ye,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Se=y(M);Q=ee(Se,"average"),Se.forEach(_),E=O(ye,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Ce=y(E);S=ee(Ce,"worse than"),Ce.forEach(_),A=O(ye,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Fe=y(A);G=ee(Fe,"average"),Fe.forEach(_),Y=O(ye,"g",{});var Ie=y(Y);K=O(Ie,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0}),y(K).forEach(_),Z=O(Ie,"path",{d:!0,stroke:!0,fill:!0}),y(Z).forEach(_),F=O(Ie,"path",{d:!0,stroke:!0,fill:!0}),y(F).forEach(_),C=O(Ie,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Ne=y(C);z=ee(Ne,"worsening"),Ne.forEach(_),R=O(Ie,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var We=y(R);ie=ee(We,"improving"),We.forEach(_),Ie.forEach(_),ye.forEach(_),j.forEach(_),this.h()},h(){r(a,"x","0"),r(a,"y","0"),r(a,"width","60"),r(a,"height","60"),r(a,"fill","none"),r(a,"stroke","black"),r(a,"stroke-width","1px"),r(a,"opacity","0.25"),r(n,"y1","30"),r(n,"y2","30"),r(n,"x1","0"),r(n,"x2","60"),r(n,"stroke","black"),r(n,"stroke-width","1px"),r(n,"opacity","0.25"),r(i,"transform","translate(60,30)"),r(i,"d","M6.5 0.5 l6.5 -6.5 M7 0 l6 6 M12 0 l28 0 l0 -5"),r(i,"stroke","black"),r(i,"stroke-width","1.5px"),r(i,"fill","none"),r(o,"transform","translate(60,30)"),r(o,"x","30"),r(o,"y","-25"),r(o,"text-anchor","start"),r(o,"font-size","14px"),r(o,"stroke-width","0.25px"),r(o,"stroke","black"),r(o,"fill","black"),r(s,"transform","translate(60,30)"),r(s,"x","30"),r(s,"y","-10"),r(s,"text-anchor","start"),r(s,"font-size","14px"),r(s,"stroke-width","0.25px"),r(s,"stroke","black"),r(s,"fill","black"),r(u,"d","M0 30 L5 32 L10 27 L15 33 L20 33 L25 30 L30 30 L35 35 L40 40 L45 42 L50 48 L55 48 L60 50"),r(u,"stroke","black"),r(u,"fill","none"),r(u,"stroke-width","2px"),r(h,"cy","50"),r(h,"cx","60"),r(h,"r","4.5"),r(h,"stroke","white"),r(h,"stroke-width","1.5px"),r(h,"fill","black"),r(d,"transform","translate(60,50)"),r(d,"d","M6.5 0.5 l6.5 -6.5 M7 0 l6 6 M12 0 l28 0 l0 15"),r(d,"stroke","black"),r(d,"stroke-width","1.5px"),r(d,"fill","none"),r(g,"transform","translate(60,30)"),r(g,"x","30"),r(g,"y","45"),r(g,"text-anchor","start"),r(g,"font-size","14px"),r(g,"stroke-width","0.25px"),r(g,"stroke","black"),r(g,"fill","black"),r(v,"transform","translate(60,30)"),r(v,"x","30"),r(v,"y","60"),r(v,"text-anchor","start"),r(v,"font-size","14px"),r(v,"stroke-width","0.25px"),r(v,"stroke","black"),r(v,"fill","black"),r(t,"transform","translate(10,25)"),r(V,"x1","-20"),r(V,"x2","-20"),r(V,"y1","10"),r(V,"y2","110"),r(V,"stroke","black"),r(V,"stroke-width","2px"),r(I,"d","M-20 5 l5 5 l-10 0 z"),r(I,"stroke","none"),r(I,"fill","black"),r(p,"d","M-20 115 l5 -5 l-10 0 z"),r(p,"stroke","none"),r(p,"fill","black"),r(L,"x","-30"),r(L,"y","10"),r(L,"text-anchor","end"),r(L,"font-size","14px"),r(L,"stroke-width","0.25px"),r(L,"stroke","black"),r(L,"fill","black"),r(M,"x","-30"),r(M,"y","24"),r(M,"text-anchor","end"),r(M,"font-size","14px"),r(M,"stroke-width","0.25px"),r(M,"stroke","black"),r(M,"fill","black"),r(E,"x","-30"),r(E,"y","110"),r(E,"text-anchor","end"),r(E,"font-size","14px"),r(E,"stroke-width","0.25px"),r(E,"stroke","black"),r(E,"fill","black"),r(A,"x","-30"),r(A,"y","124"),r(A,"text-anchor","end"),r(A,"font-size","14px"),r(A,"stroke-width","0.25px"),r(A,"stroke","black"),r(A,"fill","black"),r(K,"y1","140"),r(K,"y2","140"),r(K,"x1","10"),r(K,"x2","110"),r(K,"stroke","black"),r(K,"stroke-width","2px"),r(Z,"d","M5 140 l5 -5 l0 10 z"),r(Z,"stroke","none"),r(Z,"fill","black"),r(F,"d","M115 140 l-5 -5 l0 10 z"),r(F,"stroke","none"),r(F,"fill","black"),r(C,"x","-5"),r(C,"y","160"),r(C,"text-anchor","middle"),r(C,"font-size","14px"),r(C,"stroke-width","0.25px"),r(C,"stroke","black"),r(C,"fill","black"),r(R,"x","110"),r(R,"y","160"),r(R,"text-anchor","middle"),r(R,"font-size","14px"),r(R,"stroke-width","0.25px"),r(R,"stroke","black"),r(R,"fill","black"),r(w,"transform","translate(485,15)"),r(e,"width","650"),r(e,"height","190"),r(e,"class","svelte-5r2hj0")},m(H,j){T(H,e,j),b(e,t),b(t,a),b(t,n),b(t,i),b(t,o),b(o,f),b(t,s),b(s,c),b(t,u),b(t,h),b(t,d),b(t,g),b(g,m),b(t,v),b(v,k),b(e,w);for(let te=0;te<2;te+=1)ce[te]&&ce[te].m(w,null);b(w,V),b(w,I),b(w,p),b(w,L),b(L,D),b(w,M),b(M,Q),b(w,E),b(E,S),b(w,A),b(A,G),b(w,Y),b(Y,K),b(Y,Z),b(Y,F),b(Y,C),b(C,z),b(Y,R),b(R,ie)},p(H,[j]){if(j&0){oe=["worsening","improving"];let te;for(te=0;te<2;te+=1){const _e=Qt(H,oe,te);ce[te]?ce[te].p(_e,j):(ce[te]=Jt(_e),ce[te].c(),ce[te].m(w,V))}for(;te<2;te+=1)ce[te].d(1)}},i:me,o:me,d(H){H&&_(e),ve(ce,H)}}}class mn extends fe{constructor(e){super(),he(this,e,null,dn,de,{})}}function _n(l){let e,t,a;return{c(){e=N("div"),t=N("p"),a=$("No data"),this.h()},l(n){e=P(n,"DIV",{class:!0,style:!0});var i=y(e);t=P(i,"P",{class:!0,style:!0});var o=y(t);a=ee(o,"No data"),o.forEach(_),i.forEach(_),this.h()},h(){r(t,"class","mainText svelte-tdbzgz"),x(t,"font-size","14px"),r(e,"class","cell-container no-data svelte-tdbzgz"),x(e,"background-color","grey"),x(e,"color","white")},m(n,i){T(n,e,i),b(e,t),b(t,a)},p:me,d(n){n&&_(e)}}}function gn(l){let e,t,a,n,i,o,f,s=l[1].length>1&&xt(l);return{c(){e=B("svg"),t=B("rect"),a=B("rect"),n=B("line"),s&&s.c(),i=B("circle"),this.h()},l(c){e=O(c,"svg",{class:!0});var u=y(e);t=O(u,"rect",{width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),y(t).forEach(_),a=O(u,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),y(a).forEach(_),n=O(u,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),y(n).forEach(_),s&&s.l(u),i=O(u,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),y(i).forEach(_),u.forEach(_),this.h()},h(){r(t,"width","60"),r(t,"height","60"),r(t,"stroke","none"),r(t,"fill",l[4]),r(t,"opacity","0"),r(a,"x","0"),r(a,"y","0"),r(a,"width","60"),r(a,"height","60"),r(a,"fill","none"),r(a,"stroke","black"),r(a,"stroke-width","1px"),r(a,"opacity","0.25"),r(n,"y1","30"),r(n,"y2","30"),r(n,"x1","0"),r(n,"x2","60"),r(n,"stroke","black"),r(n,"stroke-width","1px"),r(n,"opacity","0.25"),r(i,"cy",o=l[2](l[1][l[1].length-1].value)),r(i,"cx",f=l[1].length>1?l[3](l[1][l[1].length-1].xDomainNumb):30),r(i,"r","4.5"),r(i,"stroke","white"),r(i,"stroke-width","1.5px"),r(i,"fill",l[4]),r(e,"class","svelte-tdbzgz")},m(c,u){T(c,e,u),b(e,t),b(e,a),b(e,n),s&&s.m(e,null),b(e,i)},p(c,u){u&16&&r(t,"fill",c[4]),c[1].length>1?s?s.p(c,u):(s=xt(c),s.c(),s.m(e,i)):s&&(s.d(1),s=null),u&6&&o!==(o=c[2](c[1][c[1].length-1].value))&&r(i,"cy",o),u&10&&f!==(f=c[1].length>1?c[3](c[1][c[1].length-1].xDomainNumb):30)&&r(i,"cx",f),u&16&&r(i,"fill",c[4])},d(c){c&&_(e),s&&s.d()}}}function xt(l){let e,t;return{c(){e=B("path"),this.h()},l(a){e=O(a,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),y(e).forEach(_),this.h()},h(){r(e,"d",t=l[0](l[1])),r(e,"stroke",l[4]),r(e,"fill","none"),r(e,"stroke-width","2px")},m(a,n){T(a,e,n)},p(a,n){n&3&&t!==(t=a[0](a[1]))&&r(e,"d",t),n&16&&r(e,"stroke",a[4])},d(a){a&&_(e)}}}function vn(l){let e;function t(i,o){return i[1].length>0?gn:_n}let a=t(l),n=a(l);return{c(){e=N("div"),n.c(),this.h()},l(i){e=P(i,"DIV",{class:!0});var o=y(e);n.l(o),o.forEach(_),this.h()},h(){r(e,"class","cell-container svelte-tdbzgz")},m(i,o){T(i,e,o),n.m(e,null)},p(i,[o]){a===(a=t(i))&&n?n.p(i,o):(n.d(1),n=a(i),n&&(n.c(),n.m(e,null)))},i:me,o:me,d(i){i&&_(e),n.d()}}}function bn(l,e,t){let a,n,i,o,f,s,c,{calculations:u,indicatorMetadata:h,pathFunction:d,combinedData:g,yScale:m,xScale:v}=e;return l.$$set=k=>{"calculations"in k&&t(5,u=k.calculations),"indicatorMetadata"in k&&t(6,h=k.indicatorMetadata),"pathFunction"in k&&t(0,d=k.pathFunction),"combinedData"in k&&t(1,g=k.combinedData),"yScale"in k&&t(2,m=k.yScale),"xScale"in k&&t(3,v=k.xScale)},l.$$.update=()=>{l.$$.dirty&2&&t(11,a=g.length>0?g[g.length-1].value:null),l.$$.dirty&2&&t(12,n=g.length>1?g[0].value:null),l.$$.dirty&6208&&t(10,i=a!=null&n!=null?(a-n)/(h.absoluteOrPercent=="A"?1:n/100):null),l.$$.dirty&2144&&t(9,o=a!=null?(a-u.medianValue)/(h.absoluteOrPercent=="A"?1:u.medianValue/100):null),l.$$.dirty&1088&&t(8,f=i!=null?i>0?h.polarity==1?"improving":"worsening":h.polarity==1?"worsening":"improving":null),l.$$.dirty&576&&t(7,s=o!=null?o>0?h.polarity==1?"better than average":"worse than average":h.polarity==1?"worse than average":"better than average":null),l.$$.dirty&384&&t(4,c=f==null&s==null?"grey":Pe[f??"similar"][s??"similar"])},[d,g,m,v,c,u,h,s,f,o,i,a,n]}class kn extends fe{constructor(e){super(),he(this,e,bn,vn,de,{calculations:5,indicatorMetadata:6,pathFunction:0,combinedData:1,yScale:2,xScale:3})}}function $t(l,e,t){const a=l.slice();return a[12]=e[t],a[14]=t,a}function el(l){let e,t,a,n;function i(...o){return l[10](l[12],...o)}return t=new kn({props:{calculations:l[12],indicatorMetadata:l[0].find(i),combinedData:l[5][l[14]].filter(l[11]),pathFunction:l[4][l[14]],yScale:l[6][l[14]],xScale:l[7][l[14]]}}),{c(){e=N("div"),le(t.$$.fragment),a=U(),this.h()},l(o){e=P(o,"DIV",{class:!0});var f=y(e);ae(t.$$.fragment,f),a=J(f),f.forEach(_),this.h()},h(){r(e,"class",Le("cell column"+l[14])+" svelte-17hudsm")},m(o,f){T(o,e,f),ne(t,e,null),b(e,a),n=!0},p(o,f){l=o;const s={};f&8&&(s.calculations=l[12]),f&9&&(s.indicatorMetadata=l[0].find(i)),f&36&&(s.combinedData=l[5][l[14]].filter(l[11])),f&16&&(s.pathFunction=l[4][l[14]]),f&64&&(s.yScale=l[6][l[14]]),f&128&&(s.xScale=l[7][l[14]]),t.$set(s)},i(o){n||(q(t.$$.fragment,o),n=!0)},o(o){X(t.$$.fragment,o),n=!1},d(o){o&&_(e),re(t)}}}function pn(l){let e,t,a,n=l[8].find(l[9]).areanm+"",i,o,f,s,c=l[3],u=[];for(let d=0;d<c.length;d+=1)u[d]=el($t(l,c,d));const h=d=>X(u[d],1,1,()=>{u[d]=null});return{c(){e=N("div"),t=N("div"),a=N("p"),i=$(n),o=U();for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=P(d,"DIV",{class:!0,style:!0});var g=y(e);t=P(g,"DIV",{class:!0,style:!0});var m=y(t);a=P(m,"P",{class:!0});var v=y(a);i=ee(v,n),v.forEach(_),m.forEach(_),o=J(g);for(let k=0;k<u.length;k+=1)u[k].l(g);g.forEach(_),this.h()},h(){r(a,"class","svelte-17hudsm"),r(t,"class","areasColumn svelte-17hudsm"),r(t,"style","width: 200px"),r(e,"class",f=Le("row cellRow"+l[1])+" svelte-17hudsm"),x(e,"background-color",l[1]%2===0?"#fafafa":"#ffffff")},m(d,g){T(d,e,g),b(e,t),b(t,a),b(a,i),b(e,o);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(e,null);s=!0},p(d,[g]){if((!s||g&4)&&n!==(n=d[8].find(d[9]).areanm+"")&&we(i,n),g&253){c=d[3];let m;for(m=0;m<c.length;m+=1){const v=$t(d,c,m);u[m]?(u[m].p(v,g),q(u[m],1)):(u[m]=el(v),u[m].c(),q(u[m],1),u[m].m(e,null))}for(Re(),m=c.length;m<u.length;m+=1)h(m);Me()}(!s||g&2&&f!==(f=Le("row cellRow"+d[1])+" svelte-17hudsm"))&&r(e,"class",f),(!s||g&2)&&x(e,"background-color",d[1]%2===0?"#fafafa":"#ffffff")},i(d){if(!s){for(let g=0;g<c.length;g+=1)q(u[g]);s=!0}},o(d){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)X(u[g]);s=!1},d(d){d&&_(e),ve(u,d)}}}function wn(l,e,t){let{indicatorsMetadata:a,j:n,row:i,indicatorsCalculations:o,pathFunctionArray:f,combinedDataArray:s,yScaleArray:c,xScaleArray:u}=e,h=ue("areas");const d=v=>v.areacd===i.areacd,g=(v,k)=>k.code==v.code,m=v=>v.areacd==i.areacd;return l.$$set=v=>{"indicatorsMetadata"in v&&t(0,a=v.indicatorsMetadata),"j"in v&&t(1,n=v.j),"row"in v&&t(2,i=v.row),"indicatorsCalculations"in v&&t(3,o=v.indicatorsCalculations),"pathFunctionArray"in v&&t(4,f=v.pathFunctionArray),"combinedDataArray"in v&&t(5,s=v.combinedDataArray),"yScaleArray"in v&&t(6,c=v.yScaleArray),"xScaleArray"in v&&t(7,u=v.xScaleArray)},[a,n,i,o,f,s,c,u,h,d,g,m]}class yn extends fe{constructor(e){super(),he(this,e,wn,pn,de,{indicatorsMetadata:0,j:1,row:2,indicatorsCalculations:3,pathFunctionArray:4,combinedDataArray:5,yScaleArray:6,xScaleArray:7})}}function tl(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function ll(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function al(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function nl(l){let e,t,a=l[6].label+"",n,i;return{c(){e=N("div"),t=N("p"),n=$(a),i=U(),this.h()},l(o){e=P(o,"DIV",{class:!0});var f=y(e);t=P(f,"P",{class:!0});var s=y(t);n=ee(s,a),i=J(s),s.forEach(_),f.forEach(_),this.h()},h(){r(t,"class","svelte-4m9oqo"),r(e,"class",Le("headerCell column"+l[8])+" svelte-4m9oqo")},m(o,f){T(o,e,f),b(e,t),b(t,n),b(t,i)},p(o,f){f&4&&a!==(a=o[6].label+"")&&we(n,a)},d(o){o&&_(e)}}}function rl(l){let e,t;return e=new tt({}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function il(l){let e,t="(compared to "+l[3].find(n).label+")",a;function n(...i){return l[5](l[6],...i)}return{c(){e=N("p"),a=$(t),this.h()},l(i){e=P(i,"P",{class:!0});var o=y(e);a=ee(o,t),o.forEach(_),this.h()},h(){r(e,"class","initial-year-label svelte-4m9oqo")},m(i,o){T(i,e,o),b(e,a)},p(i,o){l=i,o&4&&t!==(t="(compared to "+l[3].find(n).label+")")&&we(a,t)},d(i){i&&_(e)}}}function ol(l){let e,t,a=l[3].find(s).label+"",n,i,o=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0),f;function s(...u){return l[4](l[6],...u)}let c=o&&il(l);return{c(){e=N("div"),t=N("p"),n=$(a),i=U(),c&&c.c(),f=U(),this.h()},l(u){e=P(u,"DIV",{class:!0});var h=y(e);t=P(h,"P",{class:!0});var d=y(t);n=ee(d,a),d.forEach(_),i=J(h),c&&c.l(h),f=J(h),h.forEach(_),this.h()},h(){r(t,"class","latest-year-label svelte-4m9oqo"),r(e,"class",Le("yearCell column"+l[8])+" svelte-4m9oqo")},m(u,h){T(u,e,h),b(e,t),b(t,n),b(e,i),c&&c.m(e,null),b(e,f)},p(u,h){l=u,h&4&&a!==(a=l[3].find(s).label+"")&&we(n,a),h&7&&(o=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0)),o?c?c.p(l,h):(c=il(l),c.c(),c.m(e,f)):c&&(c.d(1),c=null)},d(u){u&&_(e),c&&c.d()}}}function Dn(l){let e,t,a,n,i,o,f,s,c,u,h,d,g=l[2],m=[];for(let p=0;p<g.length;p+=1)m[p]=nl(al(l,g,p));let v=l[2],k=[];for(let p=0;p<v.length;p+=1)k[p]=rl(ll(l,v,p));const w=p=>X(k[p],1,1,()=>{k[p]=null});let V=l[2],I=[];for(let p=0;p<V.length;p+=1)I[p]=ol(tl(l,V,p));return{c(){e=N("div"),t=N("div"),a=U();for(let p=0;p<m.length;p+=1)m[p].c();n=U(),i=N("div"),o=N("div"),f=U();for(let p=0;p<k.length;p+=1)k[p].c();s=U(),c=N("div"),u=N("div"),h=U();for(let p=0;p<I.length;p+=1)I[p].c();this.h()},l(p){e=P(p,"DIV",{class:!0});var L=y(e);t=P(L,"DIV",{class:!0,style:!0});var D=y(t);D.forEach(_),a=J(L);for(let A=0;A<m.length;A+=1)m[A].l(L);L.forEach(_),n=J(p),i=P(p,"DIV",{class:!0});var M=y(i);o=P(M,"DIV",{class:!0,style:!0});var Q=y(o);Q.forEach(_),f=J(M);for(let A=0;A<k.length;A+=1)k[A].l(M);M.forEach(_),s=J(p),c=P(p,"DIV",{class:!0});var E=y(c);u=P(E,"DIV",{class:!0,style:!0});var S=y(u);S.forEach(_),h=J(E);for(let A=0;A<I.length;A+=1)I[A].l(E);E.forEach(_),this.h()},h(){r(t,"class","areasColumn svelte-4m9oqo"),r(t,"style","width: 200px"),r(e,"class","row headerRow svelte-4m9oqo"),r(o,"class","areasColumn svelte-4m9oqo"),r(o,"style","width: 200px"),r(i,"class","row headerRow svelte-4m9oqo"),r(u,"class","areasColumn svelte-4m9oqo"),r(u,"style","width: 200px"),r(c,"class","row headerRow svelte-4m9oqo")},m(p,L){T(p,e,L),b(e,t),b(e,a);for(let D=0;D<m.length;D+=1)m[D]&&m[D].m(e,null);T(p,n,L),T(p,i,L),b(i,o),b(i,f);for(let D=0;D<k.length;D+=1)k[D]&&k[D].m(i,null);T(p,s,L),T(p,c,L),b(c,u),b(c,h);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(c,null);d=!0},p(p,[L]){if(L&4){g=p[2];let D;for(D=0;D<g.length;D+=1){const M=al(p,g,D);m[D]?m[D].p(M,L):(m[D]=nl(M),m[D].c(),m[D].m(e,null))}for(;D<m.length;D+=1)m[D].d(1);m.length=g.length}if(L&4){const D=v.length;v=p[2];let M;for(M=D;M<v.length;M+=1)ll(p,v,M),k[M]?q(k[M],1):(k[M]=rl(),k[M].c(),q(k[M],1),k[M].m(i,null));for(Re(),M=v.length;M<k.length;M+=1)w(M);Me()}if(L&15){V=p[2];let D;for(D=0;D<V.length;D+=1){const M=tl(p,V,D);I[D]?I[D].p(M,L):(I[D]=ol(M),I[D].c(),I[D].m(c,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=V.length}},i(p){if(!d){for(let L=0;L<v.length;L+=1)q(k[L]);d=!0}},o(p){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)X(k[L]);d=!1},d(p){p&&_(e),ve(m,p),p&&_(n),p&&_(i),ve(k,p),p&&_(s),p&&_(c),ve(I,p)}}}function In(l,e,t){let{chosenId2:a,chosenId3:n,indicatorsCalculations:i}=e,o=ue("periodsLookup");const f=(c,u)=>u.xDomainNumb==c.maxXDomain,s=(c,u)=>u.xDomainNumb==c.minXDomain;return l.$$set=c=>{"chosenId2"in c&&t(0,a=c.chosenId2),"chosenId3"in c&&t(1,n=c.chosenId3),"indicatorsCalculations"in c&&t(2,i=c.indicatorsCalculations)},[a,n,i,o,f,s]}class En extends fe{constructor(e){super(),he(this,e,In,Dn,de,{chosenId2:0,chosenId3:1,indicatorsCalculations:2})}}function sl(l,e,t){const a=l.slice();return a[16]=e[t],a[18]=t,a}function cl(l){let e,t;return e=new yn({props:{row:l[16],j:l[18],indicatorsCalculations:l[8],indicatorsMetadata:l[7],pathFunctionArray:l[3],combinedDataArray:l[6],yScaleArray:l[5],xScaleArray:l[4]}}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p(a,n){const i={};n&1&&(i.row=a[16]),n&8&&(i.pathFunctionArray=a[3]),n&64&&(i.combinedDataArray=a[6]),n&32&&(i.yScaleArray=a[5]),n&16&&(i.xScaleArray=a[4]),e.$set(i)},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function Ln(l){let e,t,a,n;t=new En({props:{indicatorsCalculations:l[8],chosenId2:l[1],chosenId3:l[2]}});let i=l[0],o=[];for(let s=0;s<i.length;s+=1)o[s]=cl(sl(l,i,s));const f=s=>X(o[s],1,1,()=>{o[s]=null});return{c(){e=N("div"),le(t.$$.fragment),a=U();for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=P(s,"DIV",{class:!0});var c=y(e);ae(t.$$.fragment,c),a=J(c);for(let u=0;u<o.length;u+=1)o[u].l(c);c.forEach(_),this.h()},h(){r(e,"class","grid-container svelte-k2j273")},m(s,c){T(s,e,c),ne(t,e,null),b(e,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);n=!0},p(s,[c]){const u={};if(c&2&&(u.chosenId2=s[1]),c&4&&(u.chosenId3=s[2]),t.$set(u),c&505){i=s[0];let h;for(h=0;h<i.length;h+=1){const d=sl(s,i,h);o[h]?(o[h].p(d,c),q(o[h],1)):(o[h]=cl(d),o[h].c(),q(o[h],1),o[h].m(e,null))}for(Re(),h=i.length;h<o.length;h+=1)f(h);Me()}},i(s){if(!n){q(t.$$.fragment,s);for(let c=0;c<i.length;c+=1)q(o[c]);n=!0}},o(s){X(t.$$.fragment,s),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)X(o[c]);n=!1},d(s){s&&_(e),re(t),ve(o,s)}}}function Vn(l,e,t){let a,n,i,o,f,{indicatorsList:s,latestData:c,initialData:u,otherData:h,selectedAreas:d,chosenId1:g,chosenId2:m,chosenId3:v,chosenId0:k}=e,w=ue("indicatorsMetadata"),V=ue("indicatorsCalculations").filter(I=>s.includes(I.id));return l.$$set=I=>{"indicatorsList"in I&&t(9,s=I.indicatorsList),"latestData"in I&&t(10,c=I.latestData),"initialData"in I&&t(11,u=I.initialData),"otherData"in I&&t(12,h=I.otherData),"selectedAreas"in I&&t(0,d=I.selectedAreas),"chosenId1"in I&&t(13,g=I.chosenId1),"chosenId2"in I&&t(1,m=I.chosenId2),"chosenId3"in I&&t(2,v=I.chosenId3),"chosenId0"in I&&t(14,k=I.chosenId0)},l.$$.update=()=>{l.$$.dirty&1&&t(15,f=d.map(I=>I.areacd)),l.$$.dirty&56320&&V.forEach((I,p)=>{I.medianValue=I.ltCount>200?I.ltMedian:I.utCount>140?I.utMedian:I.ukValue!="NA"?I.ukValue:I.gbValue!="NA"?I.gbValue:I.ewValue!="NA"?I.ewValue:I.engValue!="NA"?I.engValue:null;let L=c.filter(G=>G.id==I.id),D="indicator-"+I.id in u?u["indicator-"+I.id]:[],M="indicator-"+I.id in h?h["indicator-"+I.id]:[],Q=[...D,...M,...L];t(6,a[p]=Q,a);let E=k==0?Math.max(...Q.map(G=>Math.abs(G.value-I.medianValue))):Math.max(...Q.filter(G=>f.includes(G.areacd)).map(G=>Math.abs(G.value-I.medianValue)));I.label=w.find(G=>G.code==I.code).label;let S=Qe().domain([I.minXDomain,I.maxXDomain]).range([0,60]),A=Qe().domain([I.medianValue-E,parseFloat(I.medianValue)+parseFloat(E)]).range(w.find(G=>G.code==I.code).polarity==1?[60,0]:[0,60]);t(5,i[p]=A,i),t(4,o[p]=S,o),t(3,n[p]=Jl().x(G=>S(G.xDomainNumb)).y(G=>A(G.value)),n)})},t(6,a=new Array(V.length)),t(3,n=new Array(V.length)),t(5,i=new Array(V.length)),t(4,o=new Array(V.length)),[d,m,v,n,o,i,a,w,V,s,c,u,h,g,k,f]}class Rn extends fe{constructor(e){super(),he(this,e,Vn,Ln,de,{indicatorsList:9,latestData:10,initialData:11,otherData:12,selectedAreas:0,chosenId1:13,chosenId2:1,chosenId3:2,chosenId0:14})}}function Mn(l){let e,t,a,n,i,o,f,s,c,u;function h(m){l[9](m)}function d(m){l[10](m)}let g={radioName:"timeSeriesRadio",latestData:l[2]};return l[0]!==void 0&&(g.checkboxedRoles=l[0]),l[6]!==void 0&&(g.chosenId=l[6]),t=new lt({props:g}),be.push(()=>ke(t,"checkboxedRoles",h)),be.push(()=>ke(t,"chosenId",d)),f=new mn({}),c=new Rn({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],otherData:l[4],selectedAreas:l[7],chosenId1:l[6],chosenId2:Cn,chosenId3:l[8],chosenId0:l[5]}}),{c(){e=N("div"),le(t.$$.fragment),i=U(),o=N("div"),le(f.$$.fragment),s=U(),le(c.$$.fragment),this.h()},l(m){e=P(m,"DIV",{class:!0});var v=y(e);ae(t.$$.fragment,v),i=J(v),o=P(v,"DIV",{class:!0});var k=y(o);ae(f.$$.fragment,k),k.forEach(_),s=J(v),ae(c.$$.fragment,v),v.forEach(_),this.h()},h(){r(o,"class","key-and-selections-container svelte-1xm9yo2"),r(e,"class","key-indicators-dot-plot-boxes-option-2-container")},m(m,v){T(m,e,v),ne(t,e,null),b(e,i),b(e,o),ne(f,o,null),b(e,s),ne(c,e,null),u=!0},p(m,[v]){const k={};v&4&&(k.latestData=m[2]),!a&&v&1&&(a=!0,k.checkboxedRoles=m[0],pe(()=>a=!1)),!n&&v&64&&(n=!0,k.chosenId=m[6],pe(()=>n=!1)),t.$set(k);const w={};v&2&&(w.indicatorsList=m[1]),v&4&&(w.latestData=m[2]),v&8&&(w.initialData=m[3]),v&16&&(w.otherData=m[4]),v&128&&(w.selectedAreas=m[7]),v&64&&(w.chosenId1=m[6]),v&32&&(w.chosenId0=m[5]),c.$set(w)},i(m){u||(q(t.$$.fragment,m),q(f.$$.fragment,m),q(c.$$.fragment,m),u=!0)},o(m){X(t.$$.fragment,m),X(f.$$.fragment,m),X(c.$$.fragment,m),u=!1},d(m){m&&_(e),re(t),re(f),re(c)}}}let Cn=2;function An(l,e,t){let a,{indicatorsList:n,latestData:i,initialData:o,otherData:f,checkboxedRoles:s,chosenId0:c}=e,u=0,h=[],g=ue("areasParentsLookup").filter(k=>["K02000001","E92000001"].includes(k.parentcd)&k.areacd!="E92000001");function m(k){s=k,t(0,s)}function v(k){u=k,t(6,u)}return l.$$set=k=>{"indicatorsList"in k&&t(1,n=k.indicatorsList),"latestData"in k&&t(2,i=k.latestData),"initialData"in k&&t(3,o=k.initialData),"otherData"in k&&t(4,f=k.otherData),"checkboxedRoles"in k&&t(0,s=k.checkboxedRoles),"chosenId0"in k&&t(5,c=k.chosenId0)},l.$$.update=()=>{l.$$.dirty&65&&t(7,a=u===0?g:s.custom==null||s.custom==null?[]:s.custom)},[s,n,i,o,f,c,u,a,h,m,v]}class zn extends fe{constructor(e){super(),he(this,e,An,Mn,de,{indicatorsList:1,latestData:2,initialData:3,otherData:4,checkboxedRoles:0,chosenId0:5})}}function Sn(l){let e,t,a,n,i,o,f,s,c,u,h,d,g,m,v,k;function w(E){l[6](E)}let V={indicatorsList:l[1],latestData:l[2],initialData:l[3]};l[0]!==void 0&&(V.checkboxedRoles=l[0]),t=new Ga({props:V}),be.push(()=>ke(t,"checkboxedRoles",w));function I(E){l[7](E)}let p={optionsArray:["Scaling compared to all areas","Scaling compared to selected areas"],name:"chosenComparison",marginBottom:"0px",fontSize:"16px"};l[5]!==void 0&&(p.chosenId=l[5]),o=new He({props:p}),be.push(()=>ke(o,"chosenId",I));function L(E){l[8](E)}let D={indicatorsList:l[1],latestData:l[2],initialData:l[3],chosenId0:l[5]};l[0]!==void 0&&(D.checkboxedRoles=l[0]),u=new hn({props:D}),be.push(()=>ke(u,"checkboxedRoles",L));function M(E){l[9](E)}let Q={chosenId0:l[5],indicatorsList:l[1],latestData:l[2],initialData:l[3],otherData:l[4]};return l[0]!==void 0&&(Q.checkboxedRoles=l[0]),m=new zn({props:Q}),be.push(()=>ke(m,"checkboxedRoles",M)),{c(){e=N("div"),le(t.$$.fragment),n=U(),i=N("div"),le(o.$$.fragment),s=U(),c=N("div"),le(u.$$.fragment),d=U(),g=N("div"),le(m.$$.fragment),this.h()},l(E){e=P(E,"DIV",{class:!0});var S=y(e);ae(t.$$.fragment,S),S.forEach(_),n=J(E),i=P(E,"DIV",{class:!0});var A=y(i);ae(o.$$.fragment,A),A.forEach(_),s=J(E),c=P(E,"DIV",{class:!0});var G=y(c);ae(u.$$.fragment,G),G.forEach(_),d=J(E),g=P(E,"DIV",{class:!0});var Y=y(g);ae(m.$$.fragment,Y),Y.forEach(_),this.h()},h(){r(e,"class","key-indicators-container svelte-19nv6qm"),r(i,"class","temporary-difference-options-container svelte-19nv6qm"),r(c,"class","key-indicators-container svelte-19nv6qm"),r(g,"class","key-indicators-container svelte-19nv6qm")},m(E,S){T(E,e,S),ne(t,e,null),T(E,n,S),T(E,i,S),ne(o,i,null),T(E,s,S),T(E,c,S),ne(u,c,null),T(E,d,S),T(E,g,S),ne(m,g,null),k=!0},p(E,[S]){const A={};S&2&&(A.indicatorsList=E[1]),S&4&&(A.latestData=E[2]),S&8&&(A.initialData=E[3]),!a&&S&1&&(a=!0,A.checkboxedRoles=E[0],pe(()=>a=!1)),t.$set(A);const G={};!f&&S&32&&(f=!0,G.chosenId=E[5],pe(()=>f=!1)),o.$set(G);const Y={};S&2&&(Y.indicatorsList=E[1]),S&4&&(Y.latestData=E[2]),S&8&&(Y.initialData=E[3]),S&32&&(Y.chosenId0=E[5]),!h&&S&1&&(h=!0,Y.checkboxedRoles=E[0],pe(()=>h=!1)),u.$set(Y);const K={};S&32&&(K.chosenId0=E[5]),S&2&&(K.indicatorsList=E[1]),S&4&&(K.latestData=E[2]),S&8&&(K.initialData=E[3]),S&16&&(K.otherData=E[4]),!v&&S&1&&(v=!0,K.checkboxedRoles=E[0],pe(()=>v=!1)),m.$set(K)},i(E){k||(q(t.$$.fragment,E),q(o.$$.fragment,E),q(u.$$.fragment,E),q(m.$$.fragment,E),k=!0)},o(E){X(t.$$.fragment,E),X(o.$$.fragment,E),X(u.$$.fragment,E),X(m.$$.fragment,E),k=!1},d(E){E&&_(e),re(t),E&&_(n),E&&_(i),re(o),E&&_(s),E&&_(c),re(u),E&&_(d),E&&_(g),re(m)}}}function Fn(l,e,t){let{indicatorsList:a,latestData:n,initialData:i,checkboxedRoles:o,otherData:f}=e,s=0;function c(g){o=g,t(0,o)}function u(g){s=g,t(5,s)}function h(g){o=g,t(0,o)}function d(g){o=g,t(0,o)}return l.$$set=g=>{"indicatorsList"in g&&t(1,a=g.indicatorsList),"latestData"in g&&t(2,n=g.latestData),"initialData"in g&&t(3,i=g.initialData),"checkboxedRoles"in g&&t(0,o=g.checkboxedRoles),"otherData"in g&&t(4,f=g.otherData)},[o,a,n,i,f,s,c,u,h,d]}class Nn extends fe{constructor(e){super(),he(this,e,Fn,Sn,de,{indicatorsList:1,latestData:2,initialData:3,checkboxedRoles:0,otherData:4})}}function ul(l){let e,t;return e=new ea({props:{id:"geojson",type:"geojson",data:l[3],promoteId:"areacd",$$slots:{default:[Pn]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p(a,n){const i={};n&8&&(i.data=a[3]),n&16777235&&(i.$$scope={dirty:n,ctx:a}),e.$set(i)},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function fl(l){let e,t,a,n;return e=new rt({props:{id:"fill",type:"fill",data:l[4],idKey:"id",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"]},hover:!0,hovered:l[1],select:!0,selected:l[0]}}),e.$on("hover",l[16]),e.$on("select",l[17]),a=new rt({props:{id:"line",type:"line",paint:{"line-color":"black"}}}),{c(){le(e.$$.fragment),t=U(),le(a.$$.fragment)},l(i){ae(e.$$.fragment,i),t=J(i),ae(a.$$.fragment,i)},m(i,o){ne(e,i,o),T(i,t,o),ne(a,i,o),n=!0},p(i,o){const f={};o&16&&(f.data=i[4]),o&2&&(f.hovered=i[1]),o&1&&(f.selected=i[0]),e.$set(f)},i(i){n||(q(e.$$.fragment,i),q(a.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),X(a.$$.fragment,i),n=!1},d(i){re(e,i),i&&_(t),re(a,i)}}}function Pn(l){let e,t,a=l[4]&&fl(l);return{c(){a&&a.c(),e=Ee()},l(n){a&&a.l(n),e=Ee()},m(n,i){a&&a.m(n,i),T(n,e,i),t=!0},p(n,i){n[4]?a?(a.p(n,i),i&16&&q(a,1)):(a=fl(n),a.c(),q(a,1),a.m(e.parentNode,e)):a&&(Re(),X(a,1,1,()=>{a=null}),Me())},i(n){t||(q(a),t=!0)},o(n){X(a),t=!1},d(n){a&&a.d(n),n&&_(e)}}}function Tn(l){let e,t,a=l[3]&&ul(l);return{c(){a&&a.c(),e=Ee()},l(n){a&&a.l(n),e=Ee()},m(n,i){a&&a.m(n,i),T(n,e,i),t=!0},p(n,i){n[3]?a?(a.p(n,i),i&8&&q(a,1)):(a=ul(n),a.c(),q(a,1),a.m(e.parentNode,e)):a&&(Re(),X(a,1,1,()=>{a=null}),Me())},i(n){t||(q(a),t=!0)},o(n){X(a),t=!1},d(n){a&&a.d(n),n&&_(e)}}}function Bn(l){let e,t,a;return t=new xl({props:{location:{bounds:l[5][l[2]]},controls:!0,style:"https://bothness.github.io/ons-basemaps/data/style-omt.json",$$slots:{default:[Tn]},$$scope:{ctx:l}}}),{c(){e=N("div"),le(t.$$.fragment),this.h()},l(n){e=P(n,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(_),this.h()},h(){r(e,"class","map-container svelte-14fcb2l")},m(n,i){T(n,e,i),ne(t,e,null),a=!0},p(n,[i]){const o={};i&4&&(o.location={bounds:n[5][n[2]]}),i&16777243&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){a||(q(t.$$.fragment,n),a=!0)},o(n){X(t.$$.fragment,n),a=!1},d(n){n&&_(e),re(t)}}}function On(l,e,t){let{geoType:a="ltla"}=e,{year:n=2023}=e,{data:i=[]}=e,{idKey:o="areacd"}=e,{valueKey:f="value"}=e,{colorsInit:s=["#b2182b","#d6604d","#fddbc7","#d1e5f0","#4393c3","#2166ac"]}=e,{selected:c=null}=e,{hovered:u=null}=e,{mapRange:h="uk"}=e,{colourObj:d}=e,{useBreaks:g=!0}=e,{breaks:m}=e,{polarity:v=1}=e,k,w,V,I=v==-1?s.slice().reverse():s;const p={uk:[[-9,49],[2,61]],ew:[[-6,50],[2,56]]};function L(A,G,Y){if(g){for(let K=1;K<G.length;K++)if(A<G[K])return Y[K-1];return Y[Y.length-1]}else return d[A]}function D(A,G,Y,K){let Z=A.map(C=>({id:C[G],value:C[Y]})),F=Z.map(C=>C.value).sort((C,z)=>C-z);return t(6,m=oa(F)),Z.forEach(C=>C.color=L(C.value,m,K)),{mapdata:Z,breaks:m}}function M(A,G,Y,K){const Z=D(A,G,Y,K);t(6,m=Z.breaks),t(4,V=Z.mapdata)}function Q(A,G){if(k){const Y=$l(k,A);Y.features=Y.features.filter(K=>!0),t(3,w=Y)}}Ol(async()=>{k=await(await fetch(`${$e}/data/topojson/topo.json`)).json(),Q(a)});function E(A){je.call(this,l,A)}function S(A){je.call(this,l,A)}return l.$$set=A=>{"geoType"in A&&t(7,a=A.geoType),"year"in A&&t(8,n=A.year),"data"in A&&t(9,i=A.data),"idKey"in A&&t(10,o=A.idKey),"valueKey"in A&&t(11,f=A.valueKey),"colorsInit"in A&&t(12,s=A.colorsInit),"selected"in A&&t(0,c=A.selected),"hovered"in A&&t(1,u=A.hovered),"mapRange"in A&&t(2,h=A.mapRange),"colourObj"in A&&t(13,d=A.colourObj),"useBreaks"in A&&t(14,g=A.useBreaks),"breaks"in A&&t(6,m=A.breaks),"polarity"in A&&t(15,v=A.polarity)},l.$$.update=()=>{l.$$.dirty&3584&&M(i,o,f,I),l.$$.dirty&384&&Q(a)},[c,u,h,w,V,p,m,a,n,i,o,f,s,d,g,v,E,S]}class jl extends fe{constructor(e){super(),he(this,e,On,Bn,de,{geoType:7,year:8,data:9,idKey:10,valueKey:11,colorsInit:12,selected:0,hovered:1,mapRange:2,colourObj:13,useBreaks:14,breaks:6,polarity:15})}}function hl(l,e,t){const a=l.slice();return a[10]=e[t],a[12]=t,a}function dl(l){let e,t,a,n=l[2].filter(o).length+" areas belong to the <span style='font-weight: bold; color:"+l[3][l[10]]+"'>"+l[1].find(f).alternativeDescription.toLowerCase()+"</span> cluster.",i;function o(...s){return l[4](l[10],...s)}function f(...s){return l[5](l[10],...s)}return{c(){e=N("div"),t=N("div"),a=N("p"),i=U(),this.h()},l(s){e=P(s,"DIV",{class:!0,style:!0});var c=y(e);t=P(c,"DIV",{class:!0,style:!0});var u=y(t);a=P(u,"P",{class:!0});var h=y(a);h.forEach(_),u.forEach(_),i=J(c),c.forEach(_),this.h()},h(){r(a,"class","svelte-1ertk7d"),r(t,"class","cluster svelte-1ertk7d"),x(t,"border-left-style","solid"),x(t,"border-left-color",l[3][l[10]]),x(t,"border-left-width","5px"),r(e,"class","cluster-container svelte-1ertk7d"),x(e,"background-color",l[12]%2===0?"#fafafa":"#ffffff")},m(s,c){T(s,e,c),b(e,t),b(t,a),a.innerHTML=n,b(e,i)},p(s,c){l=s},d(s){s&&_(e)}}}function qn(l){let e,t,a,n,i,o,f,s,c,u,h,d,g,m,v,k,w,V,I=[...new Set(l[2].map(ml))].sort(_l),p=[];for(let L=0;L<I.length;L+=1)p[L]=dl(hl(l,I,L));return w=new jl({props:{data:l[2],idKey:"areacd",valueKey:"value",mapRange:"ew",useBreaks:!1,colourObj:l[3]}}),{c(){e=N("div"),t=N("div"),a=N("div"),n=U(),i=N("div"),o=N("p"),f=$("On this map, areas with similar local data on the "),s=$(l[0]),c=$(" have been grouped into clusters."),u=U(),h=N("p"),d=N("a"),g=$("Learn more about the Office for National Statistics' clustering analysis."),m=U(),v=N("div");for(let L=0;L<p.length;L+=1)p[L].c();k=U(),le(w.$$.fragment),this.h()},l(L){e=P(L,"DIV",{class:!0});var D=y(e);t=P(D,"DIV",{class:!0});var M=y(t);a=P(M,"DIV",{class:!0});var Q=y(a);Q.forEach(_),n=J(M),i=P(M,"DIV",{class:!0});var E=y(i);o=P(E,"P",{style:!0,class:!0});var S=y(o);f=ee(S,"On this map, areas with similar local data on the "),s=ee(S,l[0]),c=ee(S," have been grouped into clusters."),S.forEach(_),u=J(E),h=P(E,"P",{class:!0});var A=y(h);d=P(A,"A",{target:!0,href:!0});var G=y(d);g=ee(G,"Learn more about the Office for National Statistics' clustering analysis."),G.forEach(_),A.forEach(_),E.forEach(_),m=J(M),v=P(M,"DIV",{class:!0});var Y=y(v);for(let K=0;K<p.length;K+=1)p[K].l(Y);Y.forEach(_),M.forEach(_),k=J(D),ae(w.$$.fragment,D),D.forEach(_),this.h()},h(){r(a,"class","select-areas-container"),x(o,"margin-bottom","10px"),r(o,"class","svelte-1ertk7d"),r(d,"target","_blank"),r(d,"href","https://www.ons.gov.uk/peoplepopulationandcommunity/wellbeing/articles/clusteringlocalauthoritiesagainstsubnationalindicatorsengland/2023-02-24"),r(h,"class","svelte-1ertk7d"),r(i,"class","cluster-info svelte-1ertk7d"),r(v,"class","clusters-desc-container svelte-1ertk7d"),r(t,"class","legend-container svelte-1ertk7d"),r(e,"class","legend-and-map-container svelte-1ertk7d")},m(L,D){T(L,e,D),b(e,t),b(t,a),b(t,n),b(t,i),b(i,o),b(o,f),b(o,s),b(o,c),b(i,u),b(i,h),b(h,d),b(d,g),b(t,m),b(t,v);for(let M=0;M<p.length;M+=1)p[M]&&p[M].m(v,null);b(e,k),ne(w,e,null),V=!0},p(L,[D]){if((!V||D&1)&&we(s,L[0]),D&14){I=[...new Set(L[2].map(ml))].sort(_l);let M;for(M=0;M<I.length;M+=1){const Q=hl(L,I,M);p[M]?p[M].p(Q,D):(p[M]=dl(Q),p[M].c(),p[M].m(v,null))}for(;M<p.length;M+=1)p[M].d(1);p.length=I.length}},i(L){V||(q(w.$$.fragment,L),V=!0)},o(L){X(w.$$.fragment,L),V=!1},d(L){L&&_(e),ve(p,L),re(w)}}}const ml=l=>l.value,_l=(l,e)=>l-e;function Kn(l,e,t){let{clusterName:a}=e,n=ue("clustersInfo"),i=ue("clustersLookup").filter(d=>d.model==a),f=ue("areasGeogLevel").filter(d=>d.areacd[0]==="E").filter(d=>["both","lower"].includes(d.level)).map(d=>d.areacd),s=n.filter(d=>f.includes(d.areacd)).map(d=>({areacd:d.areacd,value:d[a]})).filter(d=>d.value!=""&d.value!=null),c=na[4];const u=(d,g)=>g.value===d,h=(d,g)=>g.id==d;return l.$$set=d=>{"clusterName"in d&&t(0,a=d.clusterName)},[a,i,s,c,u,h]}class jn extends fe{constructor(e){super(),he(this,e,Kn,qn,de,{clusterName:0})}}function gl(l,e,t){const a=l.slice();return a[6]=e[t],a[8]=t,a}function vl(l){let e,t=l[6]+"",a,n;return{c(){e=N("option"),a=$(t),this.h()},l(i){e=P(i,"OPTION",{});var o=y(e);a=ee(o,t),o.forEach(_),this.h()},h(){e.__value=n=l[6],e.value=e.__value},m(i,o){T(i,e,o),b(e,a)},p(i,o){o&4&&t!==(t=i[6]+"")&&we(a,t),o&4&&n!==(n=i[6])&&(e.__value=n,e.value=e.__value)},d(i){i&&_(e)}}}function Gn(l){let e,t,a,n,i,o,f=l[2],s=[];for(let c=0;c<f.length;c+=1)s[c]=vl(gl(l,f,c));return{c(){e=N("div"),t=N("select");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=P(c,"DIV",{class:!0,style:!0});var u=y(e);t=P(u,"SELECT",{style:!0,id:!0,name:!0,class:!0});var h=y(t);for(let d=0;d<s.length;d+=1)s[d].l(h);h.forEach(_),u.forEach(_),this.h()},h(){x(t,"text-wrap","wrap"),r(t,"id",l[1]),r(t,"name",l[1]),r(t,"class",a=Le("ons-input ons-input--select"+(l[4]?" low-height":""))+" svelte-16qh37z"),l[0]===void 0&&et(()=>l[5].call(t)),r(e,"class","ons-field"),r(e,"style",n="width: "+l[3])},m(c,u){T(c,e,u),b(e,t);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(t,null);nt(t,l[0],!0),i||(o=Ge(t,"change",l[5]),i=!0)},p(c,[u]){if(u&4){f=c[2];let h;for(h=0;h<f.length;h+=1){const d=gl(c,f,h);s[h]?s[h].p(d,u):(s[h]=vl(d),s[h].c(),s[h].m(t,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=f.length}u&2&&r(t,"id",c[1]),u&2&&r(t,"name",c[1]),u&16&&a!==(a=Le("ons-input ons-input--select"+(c[4]?" low-height":""))+" svelte-16qh37z")&&r(t,"class",a),u&5&&nt(t,c[0]),u&8&&n!==(n="width: "+c[3])&&r(e,"style",n)},i:me,o:me,d(c){c&&_(e),ve(s,c),i=!1,o()}}}function Hn(l,e,t){let{chosenId:a,name:n="",optionsArray:i,width:o=null,lowHeight:f=!1}=e;function s(){a=Xl(this),t(0,a),t(2,i)}return l.$$set=c=>{"chosenId"in c&&t(0,a=c.chosenId),"name"in c&&t(1,n=c.name),"optionsArray"in c&&t(2,i=c.optionsArray),"width"in c&&t(3,o=c.width),"lowHeight"in c&&t(4,f=c.lowHeight)},[a,n,i,o,f,s]}class at extends fe{constructor(e){super(),he(this,e,Hn,Gn,de,{chosenId:0,name:1,optionsArray:2,width:3,lowHeight:4})}}function bl(l,e,t){const a=l.slice();return a[9]=e[t],a[11]=t,a}function Wn(l){let e,t=l[4]+Te(Be(l[9],l[1].decimalPlaces))+l[3]+"",a,n;return{c(){e=B("text"),a=$(t),this.h()},l(i){e=O(i,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,stroke:!0,fill:!0,"stroke-width":!0});var o=y(e);a=ee(o,t),o.forEach(_),this.h()},h(){r(e,"x",n=l[11]*(l[2]-20)/l[0].length),r(e,"y","45"),r(e,"text-anchor","middle"),r(e,"font-size","14px"),r(e,"stroke","black"),r(e,"fill","black"),r(e,"stroke-width","0.5px")},m(i,o){T(i,e,o),b(e,a)},p(i,o){o&27&&t!==(t=i[4]+Te(Be(i[9],i[1].decimalPlaces))+i[3]+"")&&we(a,t),o&5&&n!==(n=i[11]*(i[2]-20)/i[0].length)&&r(e,"x",n)},d(i){i&&_(e)}}}function kl(l){let e,t,a,n,i,o,f,s,c=l[11]>0&&Wn(l);return{c(){e=B("rect"),i=B("line"),c&&c.c(),s=Ee(),this.h()},l(u){e=O(u,"rect",{x:!0,width:!0,y:!0,height:!0,stroke:!0,fill:!0});var h=y(e);h.forEach(_),i=O(u,"line",{x1:!0,x2:!0,y1:!0,y2:!0,"stroke-width":!0,stroke:!0}),y(i).forEach(_),c&&c.l(u),s=Ee(),this.h()},h(){r(e,"x",t=l[11]*(l[2]-20)/l[0].length),r(e,"width",a=(l[2]-20)/l[0].length),r(e,"y","0"),r(e,"height","20"),r(e,"stroke","none"),r(e,"fill",n=l[5][l[11]]),r(i,"x1",o=l[11]*(l[2]-20)/l[0].length),r(i,"x2",f=l[11]*(l[2]-20)/l[0].length),r(i,"y1","0"),r(i,"y2","30"),r(i,"stroke-width","2px"),r(i,"stroke","black")},m(u,h){T(u,e,h),T(u,i,h),c&&c.m(u,h),T(u,s,h)},p(u,h){h&5&&t!==(t=u[11]*(u[2]-20)/u[0].length)&&r(e,"x",t),h&5&&a!==(a=(u[2]-20)/u[0].length)&&r(e,"width",a),h&32&&n!==(n=u[5][u[11]])&&r(e,"fill",n),h&5&&o!==(o=u[11]*(u[2]-20)/u[0].length)&&r(i,"x1",o),h&5&&f!==(f=u[11]*(u[2]-20)/u[0].length)&&r(i,"x2",f),u[11]>0&&c.p(u,h)},d(u){u&&_(e),u&&_(i),c&&c.d(u),u&&_(s)}}}function Xn(l){let e,t,a,n,i,o,f,s=l[0],c=[];for(let u=0;u<s.length;u+=1)c[u]=kl(bl(l,s,u));return{c(){e=N("div"),t=B("svg"),a=B("g");for(let u=0;u<c.length;u+=1)c[u].c();n=B("line"),this.h()},l(u){e=P(u,"DIV",{class:!0});var h=y(e);t=O(h,"svg",{width:!0,height:!0});var d=y(t);a=O(d,"g",{transform:!0});var g=y(a);for(let m=0;m<c.length;m+=1)c[m].l(g);n=O(g,"line",{x1:!0,x2:!0,y1:!0,y2:!0,"stroke-width":!0,stroke:!0}),y(n).forEach(_),g.forEach(_),d.forEach(_),h.forEach(_),this.h()},h(){r(n,"x1",i=l[2]-20),r(n,"x2",o=l[2]-20),r(n,"y1","0"),r(n,"y2","30"),r(n,"stroke-width","2px"),r(n,"stroke","black"),r(a,"transform","translate(10,10)"),r(t,"width",l[2]),r(t,"height",l[6]),r(e,"class","svg-container"),et(()=>l[7].call(e))},m(u,h){T(u,e,h),b(e,t),b(t,a);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(a,null);b(a,n),f=ql(e,l[7].bind(e))},p(u,[h]){if(h&63){s=u[0];let d;for(d=0;d<s.length;d+=1){const g=bl(u,s,d);c[d]?c[d].p(g,h):(c[d]=kl(g),c[d].c(),c[d].m(a,n))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}h&4&&i!==(i=u[2]-20)&&r(n,"x1",i),h&4&&o!==(o=u[2]-20)&&r(n,"x2",o),h&4&&r(t,"width",u[2])},i:me,o:me,d(u){u&&_(e),ve(c,u),f()}}}function Yn(l,e,t){let a,n,i,{breaks:o,metadata:f}=e,s=400,c=60,u=["#b2182b","#d6604d","#fddbc7","#d1e5f0","#4393c3","#2166ac"];function h(){s=this.clientWidth,t(2,s)}return l.$$set=d=>{"breaks"in d&&t(0,o=d.breaks),"metadata"in d&&t(1,f=d.metadata)},l.$$.update=()=>{l.$$.dirty&2&&t(5,a=f.polarity==-1?u.slice().reverse():u),l.$$.dirty&2&&t(4,n=f.prefix===null?"":f.prefix),l.$$.dirty&2&&t(3,i=f.suffix===null?"":f.suffix)},[o,f,s,i,n,a,c,h]}class Qn extends fe{constructor(e){super(),he(this,e,Yn,Xn,de,{breaks:0,metadata:1})}}function Zn(l){let e=l[4][0]+"",t;return{c(){t=$(e)},l(a){t=ee(a,e)},m(a,n){T(a,t,n)},p(a,n){n&16&&e!==(e=a[4][0]+"")&&we(t,e)},i:me,o:me,d(a){a&&_(t)}}}function Un(l){let e,t,a,n,i;function o(s){l[14](s)}let f={name:"select-time-period-dropdown",optionsArray:l[4],width:"120px",lowHeight:!0};return l[0]!==void 0&&(f.chosenId=l[0]),a=new at({props:f}),be.push(()=>ke(a,"chosenId",o)),{c(){e=N("span"),t=N("div"),le(a.$$.fragment),this.h()},l(s){e=P(s,"SPAN",{});var c=y(e);t=P(c,"DIV",{class:!0});var u=y(t);ae(a.$$.fragment,u),u.forEach(_),c.forEach(_),this.h()},h(){r(t,"class","dropdown-container svelte-18064lb")},m(s,c){T(s,e,c),b(e,t),ne(a,t,null),i=!0},p(s,c){const u={};c&16&&(u.optionsArray=s[4]),!n&&c&1&&(n=!0,u.chosenId=s[0],pe(()=>n=!1)),a.$set(u)},i(s){i||(q(a.$$.fragment,s),i=!0)},o(s){X(a.$$.fragment,s),i=!1},d(s){s&&_(e),re(a)}}}function pl(l){let e,t,a;function n(o){l[15](o)}let i={data:l[3],idKey:"areacd",valueKey:"value",mapRange:"uk",useBreaks:!0,polarity:l[5].polarity};return l[2]!==void 0&&(i.breaks=l[2]),e=new jl({props:i}),be.push(()=>ke(e,"breaks",n)),{c(){le(e.$$.fragment)},l(o){ae(e.$$.fragment,o)},m(o,f){ne(e,o,f),a=!0},p(o,f){const s={};f&8&&(s.data=o[3]),f&32&&(s.polarity=o[5].polarity),!t&&f&4&&(t=!0,s.breaks=o[2],pe(()=>t=!1)),e.$set(s)},i(o){a||(q(e.$$.fragment,o),a=!0)},o(o){X(e.$$.fragment,o),a=!1},d(o){re(e,o)}}}function Jn(l){let e,t,a,n,i,o,f,s,c,u=l[5].subtitle+" in",h,d,g,m,v,k,w,V,I;function p(S){l[13](S)}let L={name:"select-indicator-dropdown",optionsArray:l[6],width:"300px"};l[1]!==void 0&&(L.chosenId=l[1]),i=new at({props:L}),be.push(()=>ke(i,"chosenId",p));const D=[Un,Zn],M=[];function Q(S,A){return S[4].length>1?0:1}g=Q(l),m=M[g]=D[g](l),w=new Qn({props:{breaks:l[2],metadata:l[5]}});let E=l[3]&&pl(l);return{c(){e=N("div"),t=N("div"),a=N("div"),n=N("div"),le(i.$$.fragment),f=U(),s=N("div"),c=N("p"),h=$(u),d=U(),m.c(),v=U(),k=N("div"),le(w.$$.fragment),V=U(),E&&E.c(),this.h()},l(S){e=P(S,"DIV",{class:!0});var A=y(e);t=P(A,"DIV",{class:!0});var G=y(t);a=P(G,"DIV",{class:!0});var Y=y(a);n=P(Y,"DIV",{class:!0});var K=y(n);ae(i.$$.fragment,K),K.forEach(_),Y.forEach(_),f=J(G),s=P(G,"DIV",{class:!0});var Z=y(s);c=P(Z,"P",{class:!0});var F=y(c);h=ee(F,u),d=J(F),m.l(F),F.forEach(_),Z.forEach(_),v=J(G),k=P(G,"DIV",{class:!0});var C=y(k);ae(w.$$.fragment,C),C.forEach(_),G.forEach(_),V=J(A),E&&E.l(A),A.forEach(_),this.h()},h(){r(n,"class","dropdown-container svelte-18064lb"),r(a,"class","title-container svelte-18064lb"),r(c,"class","svelte-18064lb"),r(s,"class","subtitle-container svelte-18064lb"),r(k,"class","map-scale-container svelte-18064lb"),r(t,"class","legend-container svelte-18064lb"),r(e,"class","legend-and-map-container svelte-18064lb")},m(S,A){T(S,e,A),b(e,t),b(t,a),b(a,n),ne(i,n,null),b(t,f),b(t,s),b(s,c),b(c,h),b(c,d),M[g].m(c,null),b(t,v),b(t,k),ne(w,k,null),b(e,V),E&&E.m(e,null),I=!0},p(S,[A]){const G={};!o&&A&2&&(o=!0,G.chosenId=S[1],pe(()=>o=!1)),i.$set(G),(!I||A&32)&&u!==(u=S[5].subtitle+" in")&&we(h,u);let Y=g;g=Q(S),g===Y?M[g].p(S,A):(Re(),X(M[Y],1,1,()=>{M[Y]=null}),Me(),m=M[g],m?m.p(S,A):(m=M[g]=D[g](S),m.c()),q(m,1),m.m(c,null));const K={};A&4&&(K.breaks=S[2]),A&32&&(K.metadata=S[5]),w.$set(K),S[3]?E?(E.p(S,A),A&8&&q(E,1)):(E=pl(S),E.c(),q(E,1),E.m(e,null)):E&&(Re(),X(E,1,1,()=>{E=null}),Me())},i(S){I||(q(i.$$.fragment,S),q(m),q(w.$$.fragment,S),q(E),I=!0)},o(S){X(i.$$.fragment,S),X(m),X(w.$$.fragment,S),X(E),I=!1},d(S){S&&_(e),re(i),M[g].d(),re(w),E&&E.d()}}}function xn(l,e,t){let a,n,i,o,f,s,c,{indicatorsList:u,latestData:h,initialData:d,otherData:g}=e,m=ue("indicatorsMetadata"),v=ue("indicators").filter(E=>u.includes(E.id)),k=ue("indicatorsCalculations").filter(E=>u.includes(E.id)),w=ue("periodsLookup"),I=ue("areasGeogLevel").filter(E=>["both","lower"].includes(E.level)).map(E=>E.areacd),p=v.map(E=>E.label),L=[];function D(E){a=E,t(1,a),t(6,p)}function M(E){s=E,t(0,s),t(19,w),t(18,k),t(12,n),t(17,v),t(1,a),t(6,p)}function Q(E){L=E,t(2,L)}return l.$$set=E=>{"indicatorsList"in E&&t(7,u=E.indicatorsList),"latestData"in E&&t(8,h=E.latestData),"initialData"in E&&t(9,d=E.initialData),"otherData"in E&&t(10,g=E.otherData)},l.$$.update=()=>{l.$$.dirty&2&&t(12,n=v.find(E=>E.label==a).id),l.$$.dirty&2&&t(5,i=m.find(E=>E.label==a)),l.$$.dirty&5888&&t(11,o=[...h.filter(E=>E.id===n),..."indicator-"+n in d?d["indicator-"+n]:[],..."indicator-"+n in g?g["indicator-"+n]:[]]),l.$$.dirty&2048&&t(4,f=[...new Set(o.map(E=>E.xDomainNumb))].sort((E,S)=>S-E).map(E=>w.find(S=>S.xDomainNumb==E).label)),l.$$.dirty&4096&&t(0,s=w.find(E=>E.xDomainNumb==k.find(S=>S.id==n).maxXDomain).label),l.$$.dirty&1&&console.log(s),l.$$.dirty&2049&&t(3,c=s!=null?o.filter(E=>I.includes(E.areacd)&E.xDomainNumb===w.find(S=>S.label==s).xDomainNumb):null)},t(1,a=p[0]),[s,a,L,c,f,i,p,u,h,d,g,o,n,D,M,Q]}class $n extends fe{constructor(e){super(),he(this,e,xn,Jn,de,{indicatorsList:7,latestData:8,initialData:9,otherData:10})}}class er extends fe{constructor(e){super(),he(this,e,null,null,de,{})}}function tr(l){let e,t;return e=new $n({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],otherData:l[4]}}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p(a,n){const i={};n&2&&(i.indicatorsList=a[1]),n&4&&(i.latestData=a[2]),n&8&&(i.initialData=a[3]),n&16&&(i.otherData=a[4]),e.$set(i)},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function lr(l){let e,t;return e=new er({}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p:me,i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function ar(l){let e,t;return e=new jn({props:{clusterName:l[0]}}),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,n){ne(e,a,n),t=!0},p(a,n){const i={};n&1&&(i.clusterName=a[0]),e.$set(i)},i(a){t||(q(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function nr(l){let e,t,a,n,i,o,f;function s(g){l[7](g)}let c={asButtons:!0,name:"selectMapOption",optionsArray:l[6]};l[5]!==void 0&&(c.chosenId=l[5]),e=new He({props:c}),be.push(()=>ke(e,"chosenId",s));const u=[ar,lr,tr],h=[];function d(g,m){return g[5]==0?0:g[5]==1?1:g[5]==2?2:-1}return~(i=d(l))&&(o=h[i]=u[i](l)),{c(){le(e.$$.fragment),a=U(),n=N("div"),o&&o.c(),this.h()},l(g){ae(e.$$.fragment,g),a=J(g),n=P(g,"DIV",{class:!0});var m=y(n);o&&o.l(m),m.forEach(_),this.h()},h(){r(n,"class","map-container svelte-16d1m22")},m(g,m){ne(e,g,m),T(g,a,m),T(g,n,m),~i&&h[i].m(n,null),f=!0},p(g,[m]){const v={};!t&&m&32&&(t=!0,v.chosenId=g[5],pe(()=>t=!1)),e.$set(v);let k=i;i=d(g),i===k?~i&&h[i].p(g,m):(o&&(Re(),X(h[k],1,1,()=>{h[k]=null}),Me()),~i?(o=h[i],o?o.p(g,m):(o=h[i]=u[i](g),o.c()),q(o,1),o.m(n,null)):o=null)},i(g){f||(q(e.$$.fragment,g),q(o),f=!0)},o(g){X(e.$$.fragment,g),X(o),f=!1},d(g){re(e,g),g&&_(a),g&&_(n),~i&&h[i].d()}}}function rr(l,e,t){let{topicName:a,indicatorsList:n,latestData:i,initialData:o,otherData:f}=e,s=0,c=[...Object.keys(Ze).filter(h=>Ze[h]===a).map(h=>Ue(h)+" cluster"),Ue(a)+" summary","Map an indicator"];function u(h){s=h,t(5,s)}return l.$$set=h=>{"topicName"in h&&t(0,a=h.topicName),"indicatorsList"in h&&t(1,n=h.indicatorsList),"latestData"in h&&t(2,i=h.latestData),"initialData"in h&&t(3,o=h.initialData),"otherData"in h&&t(4,f=h.otherData)},[a,n,i,o,f,s,c,u]}class ir extends fe{constructor(e){super(),he(this,e,rr,nr,de,{topicName:0,indicatorsList:1,latestData:2,initialData:3,otherData:4})}}function wl(l,e,t){const a=l.slice();return a[37]=e[t],a[39]=t,a}function yl(l,e,t){const a=l.slice();return a[37]=e[t],a[40]=e,a[39]=t,a}function Dl(l,e,t){const a=l.slice();return a[37]=e[t],a[39]=t,a}function Il(l,e,t){const a=l.slice();return a[37]=e[t],a[39]=t,a}function El(l,e,t){const a=l.slice();return a[37]=e[t],a[39]=t,a}function Ll(l){let e,t,a,n,i,o;return{c(){e=B("g"),t=B("circle"),this.h()},l(f){e=O(f,"g",{transform:!0});var s=y(e);t=O(s,"circle",{hoverid:!0,r:!0,stroke:!0,fill:!0,"fill-opacity":!0}),y(t).forEach(_),s.forEach(_),this.h()},h(){r(t,"hoverid",l[39]),r(t,"r","6"),r(t,"stroke","none"),r(t,"fill","#6e6e6e"),r(t,"fill-opacity",a=l[10]===null?.15:.05),r(e,"transform",n="translate("+l[37].x+","+l[17](l[37].y)+")")},m(f,s){T(f,e,s),b(e,t),i||(o=[Ge(t,"mouseover",l[21]),Ge(t,"mouseleave",l[22])],i=!0)},p(f,s){s[0]&1024&&a!==(a=f[10]===null?.15:.05)&&r(t,"fill-opacity",a),s[0]&131328&&n!==(n="translate("+f[37].x+","+f[17](f[37].y)+")")&&r(e,"transform",n)},d(f){f&&_(e),i=!1,Yl(o)}}}function Vl(l){let e,t,a;return{c(){e=B("circle"),this.h()},l(n){e=O(n,"circle",{transform:!0,labelid:!0,"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),y(e).forEach(_),this.h()},h(){r(e,"transform",t="translate("+l[37].x+","+(l[7]/2+l[37].y-l[14])+")"),r(e,"labelid",l[39]),r(e,"pointer-events","none"),r(e,"r","6"),r(e,"stroke","white"),r(e,"stroke-width","1px"),r(e,"fill",a=Ae[l[37].datum.role]),r(e,"opacity","0")},m(n,i){T(n,e,i)},p(n,i){i[0]&16544&&t!==(t="translate("+n[37].x+","+(n[7]/2+n[37].y-n[14])+")")&&r(e,"transform",t),i[0]&32&&a!==(a=Ae[n[37].datum.role])&&r(e,"fill",a)},d(n){n&&_(e)}}}function or(l){let e,t;return{c(){e=B("circle"),this.h()},l(a){e=O(a,"circle",{"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),y(e).forEach(_),this.h()},h(){r(e,"pointer-events","none"),r(e,"r","6"),r(e,"stroke","white"),r(e,"stroke-width","1px"),r(e,"fill",t=Ae["custom"+(1+l[3].custom.map(Sl).indexOf(l[37].datum.areacd))]),r(e,"opacity","1")},m(a,n){T(a,e,n)},p(a,n){n[0]&40&&t!==(t=Ae["custom"+(1+a[3].custom.map(Sl).indexOf(a[37].datum.areacd))])&&r(e,"fill",t)},d(a){a&&_(e)}}}function sr(l){let e,t,a;return{c(){e=B("rect"),this.h()},l(n){e=O(n,"rect",{"pointer-events":!0,transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0});var i=y(e);i.forEach(_),this.h()},h(){r(e,"pointer-events","none"),r(e,"transform",t=["country","uk"].includes(l[37].datum.role)?"rotate(45)":null),r(e,"x",-5),r(e,"y",-5),r(e,"width",10),r(e,"height",10),r(e,"fill",a=Ae["custom"+(1+l[3].custom.map(zl).indexOf(l[37].datum.areacd))]),r(e,"stroke","white"),r(e,"stroke-width","1px"),r(e,"opacity","1")},m(n,i){T(n,e,i)},p(n,i){i[0]&32&&t!==(t=["country","uk"].includes(n[37].datum.role)?"rotate(45)":null)&&r(e,"transform",t),i[0]&40&&a!==(a=Ae["custom"+(1+n[3].custom.map(zl).indexOf(n[37].datum.areacd))])&&r(e,"fill",a)},d(n){n&&_(e)}}}function Rl(l){let e,t,a;function n(f,s){return s[0]&32&&(t=null),t==null&&(t=!!["parent","country","uk"].includes(f[37].datum.role)),t?sr:or}let i=n(l,[-1,-1]),o=i(l);return{c(){e=B("g"),o.c(),this.h()},l(f){e=O(f,"g",{transform:!0});var s=y(e);o.l(s),s.forEach(_),this.h()},h(){r(e,"transform",a="translate("+l[37].x+","+(l[7]/2+l[37].y-l[14])+")")},m(f,s){T(f,e,s),o.m(e,null)},p(f,s){i===(i=n(f,s))&&o?o.p(f,s):(o.d(1),o=i(f),o&&(o.c(),o.m(e,null))),s[0]&16544&&a!==(a="translate("+f[37].x+","+(f[7]/2+f[37].y-f[14])+")")&&r(e,"transform",a)},d(f){f&&_(e),o.d()}}}function Ml(l){let e,t,a,n,i,o,f=l[16]+Te(Be(l[37].datum.value,l[1].decimalPlaces))+l[15]+"",s,c,u,h;function d(){l[30].call(o,l[39])}return{c(){e=B("g"),t=B("rect"),o=B("text"),s=$(f),this.h()},l(g){e=O(g,"g",{class:!0});var m=y(e);t=O(m,"rect",{labelid:!0,transform:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),y(t).forEach(_),o=O(m,"text",{labelid:!0,transform:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var v=y(o);s=ee(v,f),v.forEach(_),m.forEach(_),this.h()},h(){r(t,"labelid",l[39]),r(t,"transform",a=l[20](l[13][l[39]],l[39])),r(t,"x","0"),r(t,"y","0"),r(t,"width",n=l[13].length>l[39]?l[13][l[39]].width+6:0),r(t,"height","18.5"),r(t,"rx","3px"),r(t,"stroke",i=Ae["custom"+(1+l[3].custom.map(Fl).indexOf(l[37].datum.areacd))]),r(t,"fill","white"),r(t,"stroke-width","1px"),r(t,"pointer-events","none"),r(o,"labelid",l[39]),r(o,"transform",c=l[20](l[13][l[39]],l[39])),r(o,"x","3"),r(o,"y","14"),r(o,"text-anchor","start"),r(o,"fill",u=Ae["custom"+(1+l[3].custom.map(Nl).indexOf(l[37].datum.areacd))]),r(o,"font-size","14px"),r(e,"class","labelGroup")},m(g,m){T(g,e,m),b(e,t),b(e,o),b(o,s),h=xe.observe(o,d.bind(o))},p(g,m){l=g,m[0]&8192&&a!==(a=l[20](l[13][l[39]],l[39]))&&r(t,"transform",a),m[0]&8192&&n!==(n=l[13].length>l[39]?l[13][l[39]].width+6:0)&&r(t,"width",n),m[0]&40&&i!==(i=Ae["custom"+(1+l[3].custom.map(Fl).indexOf(l[37].datum.areacd))])&&r(t,"stroke",i),m[0]&98338&&f!==(f=l[16]+Te(Be(l[37].datum.value,l[1].decimalPlaces))+l[15]+"")&&we(s,f),m[0]&8192&&c!==(c=l[20](l[13][l[39]],l[39]))&&r(o,"transform",c),m[0]&40&&u!==(u=Ae["custom"+(1+l[3].custom.map(Nl).indexOf(l[37].datum.areacd))])&&r(o,"fill",u)},d(g){g&&_(e),h()}}}function Cl(l){let e,t,a,n,i,o,f=l[16]+Te(Be(l[37].datum.value,l[1].decimalPlaces))+l[15]+"",s,c,u,h,d,g,m,v=l[18].find(p).areanm+"",k,w,V,I;function p(...L){return l[32](l[37],...L)}return{c(){e=B("g"),t=B("circle"),a=B("g"),n=B("rect"),o=B("text"),s=$(f),u=B("g"),h=B("rect"),m=B("text"),k=$(v),this.h()},l(L){e=O(L,"g",{transform:!0});var D=y(e);t=O(D,"circle",{"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}),y(t).forEach(_),a=O(D,"g",{class:!0});var M=y(a);n=O(M,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),y(n).forEach(_),o=O(M,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"pointer-events":!0});var Q=y(o);s=ee(Q,f),Q.forEach(_),M.forEach(_),u=O(D,"g",{class:!0});var E=y(u);h=O(E,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),y(h).forEach(_),m=O(E,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"pointer-events":!0});var S=y(m);k=ee(S,v),S.forEach(_),E.forEach(_),D.forEach(_),this.h()},h(){r(t,"pointer-events","none"),r(t,"r","7"),r(t,"stroke","white"),r(t,"stroke-width","1.5px"),r(t,"fill","#F39431"),r(t,"fill-opacity","1"),r(n,"x","5"),r(n,"y","5"),r(n,"width",i=parseFloat(l[11]===void 0?100:l[11].width)+6),r(n,"height","18.5"),r(n,"rx","3px"),r(n,"stroke","#F39431"),r(n,"fill","white"),r(n,"stroke-width","1px"),r(n,"pointer-events","none"),r(o,"x","8"),r(o,"y","19"),r(o,"text-anchor","start"),r(o,"fill","#F39431"),r(o,"font-size","14px"),r(o,"pointer-events","none"),r(a,"class","hoverLabelGroup1"),r(h,"x",d=-(parseFloat(l[12]===void 0?100:l[12].width)+6)),r(h,"y","-22"),r(h,"width",g=parseFloat(l[12]===void 0?100:l[12].width)+6),r(h,"height","18.5"),r(h,"rx","3px"),r(h,"stroke","#F39431"),r(h,"fill","white"),r(h,"stroke-width","1px"),r(h,"pointer-events","none"),r(m,"x",w=-(parseFloat(l[12]===void 0?100:l[12].width)+3)),r(m,"y","-8"),r(m,"text-anchor","start"),r(m,"fill","#F39431"),r(m,"font-size","14px"),r(m,"pointer-events","none"),r(u,"class","hoverLabelGroup2"),r(e,"transform",I="translate("+l[37].x+","+l[17](l[37].y)+")")},m(L,D){T(L,e,D),b(e,t),b(e,a),b(a,n),b(a,o),b(o,s),c=xe.observe(o,l[31].bind(o)),b(e,u),b(u,h),b(u,m),b(m,k),V=xe.observe(m,l[33].bind(m))},p(L,D){l=L,D[0]&2048&&i!==(i=parseFloat(l[11]===void 0?100:l[11].width)+6)&&r(n,"width",i),D[0]&98562&&f!==(f=l[16]+Te(Be(l[37].datum.value,l[1].decimalPlaces))+l[15]+"")&&we(s,f),D[0]&4096&&d!==(d=-(parseFloat(l[12]===void 0?100:l[12].width)+6))&&r(h,"x",d),D[0]&4096&&g!==(g=parseFloat(l[12]===void 0?100:l[12].width)+6)&&r(h,"width",g),D[0]&256&&v!==(v=l[18].find(p).areanm+"")&&we(k,v),D[0]&4096&&w!==(w=-(parseFloat(l[12]===void 0?100:l[12].width)+3))&&r(m,"x",w),D[0]&131328&&I!==(I="translate("+l[37].x+","+l[17](l[37].y)+")")&&r(e,"transform",I)},d(L){L&&_(e),c(),V()}}}function Al(l){let e,t=l[10]===l[39]&&Cl(l);return{c(){t&&t.c(),e=Ee()},l(a){t&&t.l(a),e=Ee()},m(a,n){t&&t.m(a,n),T(a,e,n)},p(a,n){a[10]===a[39]?t?t.p(a,n):(t=Cl(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){t&&t.d(a),a&&_(e)}}}function cr(l){let e,t,a,n,i,o,f,s,c,u,h,d,g,m,v,k,w,V,I,p,L,D,M=l[8],Q=[];for(let C=0;C<M.length;C+=1)Q[C]=Ll(El(l,M,C));let E=l[5],S=[];for(let C=0;C<E.length;C+=1)S[C]=Vl(Il(l,E,C));let A=l[5],G=[];for(let C=0;C<A.length;C+=1)G[C]=Rl(Dl(l,A,C));let Y=l[5],K=[];for(let C=0;C<Y.length;C+=1)K[C]=Ml(yl(l,Y,C));let Z=l[8],F=[];for(let C=0;C<Z.length;C+=1)F[C]=Al(wl(l,Z,C));return{c(){e=N("div"),t=N("p"),a=$(l[0]),n=U(),i=N("div"),o=B("svg"),f=B("g"),s=B("g");for(let C=0;C<Q.length;C+=1)Q[C].c();c=B("g"),u=B("line"),g=B("g");for(let C=0;C<S.length;C+=1)S[C].c();m=B("g");for(let C=0;C<G.length;C+=1)G[C].c();k=B("g");for(let C=0;C<K.length;C+=1)K[C].c();V=B("g");for(let C=0;C<F.length;C+=1)F[C].c();this.h()},l(C){e=P(C,"DIV",{class:!0,style:!0});var z=y(e);t=P(z,"P",{class:!0,style:!0});var R=y(t);a=ee(R,l[0]),R.forEach(_),n=J(z),i=P(z,"DIV",{class:!0});var ie=y(i);o=O(ie,"svg",{class:!0,height:!0,width:!0});var oe=y(o);f=O(oe,"g",{class:!0,transform:!0});var ce=y(f);s=O(ce,"g",{class:!0});var H=y(s);for(let ge=0;ge<Q.length;ge+=1)Q[ge].l(H);H.forEach(_),c=O(ce,"g",{class:!0,transform:!0});var j=y(c);u=O(j,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),y(u).forEach(_),j.forEach(_),g=O(ce,"g",{class:!0});var te=y(g);for(let ge=0;ge<S.length;ge+=1)S[ge].l(te);te.forEach(_),m=O(ce,"g",{class:!0,opacity:!0});var _e=y(m);for(let ge=0;ge<G.length;ge+=1)G[ge].l(_e);_e.forEach(_),k=O(ce,"g",{class:!0,opacity:!0});var se=y(k);for(let ge=0;ge<K.length;ge+=1)K[ge].l(se);se.forEach(_),V=O(ce,"g",{class:!0});var De=y(V);for(let ge=0;ge<F.length;ge+=1)F[ge].l(De);De.forEach(_),ce.forEach(_),oe.forEach(_),ie.forEach(_),z.forEach(_),this.h()},h(){r(t,"class","col1 svelte-1r0c25"),x(t,"width",Ye),r(s,"class","backgroundCirclesGroup"),r(u,"x1","0"),r(u,"x2","0"),r(u,"y1","-10"),r(u,"y2",h=l[7]+15),r(u,"stroke","#871A5B"),r(u,"stroke-width","2.5px"),r(u,"pointer-events","none"),r(c,"class","medianLineGroup"),r(c,"transform",d="translate("+l[6](0)+",0)"),r(g,"class","labelsCirclesGroup"),r(m,"class","primaryCirclesGroup"),r(m,"opacity",v=l[10]===null?1:.1),r(k,"class","labelsGroup"),r(k,"opacity",w=l[10]===null?1:0),r(V,"class","hoverCirclesGroup"),r(f,"class","chart-container"),r(f,"transform",I="translate("+l[9].left+","+l[9].top+")"),r(o,"class",p=Le("beeswarm-row-svg-"+l[2])+" svelte-1r0c25"),r(o,"height",l[19]),r(o,"width",L=l[4]-Ye-20),r(i,"class","svg-container"),r(e,"class","row-container svelte-1r0c25"),x(e,"background-color",l[2]%2===0?"#fafafa":"#ffffff"),et(()=>l[34].call(e))},m(C,z){T(C,e,z),b(e,t),b(t,a),b(e,n),b(e,i),b(i,o),b(o,f),b(f,s);for(let R=0;R<Q.length;R+=1)Q[R]&&Q[R].m(s,null);b(f,c),b(c,u),b(f,g);for(let R=0;R<S.length;R+=1)S[R]&&S[R].m(g,null);b(f,m);for(let R=0;R<G.length;R+=1)G[R]&&G[R].m(m,null);b(f,k);for(let R=0;R<K.length;R+=1)K[R]&&K[R].m(k,null);b(f,V);for(let R=0;R<F.length;R+=1)F[R]&&F[R].m(V,null);D=ql(e,l[34].bind(e))},p(C,z){if(z[0]&1&&we(a,C[0]),z[0]&6423808){M=C[8];let R;for(R=0;R<M.length;R+=1){const ie=El(C,M,R);Q[R]?Q[R].p(ie,z):(Q[R]=Ll(ie),Q[R].c(),Q[R].m(s,null))}for(;R<Q.length;R+=1)Q[R].d(1);Q.length=M.length}if(z[0]&128&&h!==(h=C[7]+15)&&r(u,"y2",h),z[0]&64&&d!==(d="translate("+C[6](0)+",0)")&&r(c,"transform",d),z[0]&16544){E=C[5];let R;for(R=0;R<E.length;R+=1){const ie=Il(C,E,R);S[R]?S[R].p(ie,z):(S[R]=Vl(ie),S[R].c(),S[R].m(g,null))}for(;R<S.length;R+=1)S[R].d(1);S.length=E.length}if(z[0]&16552){A=C[5];let R;for(R=0;R<A.length;R+=1){const ie=Dl(C,A,R);G[R]?G[R].p(ie,z):(G[R]=Rl(ie),G[R].c(),G[R].m(m,null))}for(;R<G.length;R+=1)G[R].d(1);G.length=A.length}if(z[0]&1024&&v!==(v=C[10]===null?1:.1)&&r(m,"opacity",v),z[0]&1155114){Y=C[5];let R;for(R=0;R<Y.length;R+=1){const ie=yl(C,Y,R);K[R]?K[R].p(ie,z):(K[R]=Ml(ie),K[R].c(),K[R].m(k,null))}for(;R<K.length;R+=1)K[R].d(1);K.length=Y.length}if(z[0]&1024&&w!==(w=C[10]===null?1:0)&&r(k,"opacity",w),z[0]&498946){Z=C[8];let R;for(R=0;R<Z.length;R+=1){const ie=wl(C,Z,R);F[R]?F[R].p(ie,z):(F[R]=Al(ie),F[R].c(),F[R].m(V,null))}for(;R<F.length;R+=1)F[R].d(1);F.length=Z.length}z[0]&512&&I!==(I="translate("+C[9].left+","+C[9].top+")")&&r(f,"transform",I),z[0]&4&&p!==(p=Le("beeswarm-row-svg-"+C[2])+" svelte-1r0c25")&&r(o,"class",p),z[0]&16&&L!==(L=C[4]-Ye-20)&&r(o,"width",L),z[0]&4&&x(e,"background-color",C[2]%2===0?"#fafafa":"#ffffff")},i:me,o:me,d(C){C&&_(e),ve(Q,C),ve(S,C),ve(G,C),ve(K,C),ve(F,C),D()}}}let Ye=200;const zl=l=>l.areacd,Sl=l=>l.areacd,Fl=l=>l.areacd,Nl=l=>l.areacd;function ur(l,e,t){let a,n,i,o,f,s,c,u,h,d,g,m,v,k,{data:w,name:V,medianValue:I,maxDistanceFromMedian:p,metadata:L,id:D,checkboxedRoles:M}=e,Q=ue("areas"),E=400,S=50,A=L.polarity==1?[-1,1]:[1,-1];const G=(j,te)=>{if(Y){let se=j?parseFloat(j.width):0,De=[{x:-se-10,y:0,name:"topLeft"},{x:-se-10,y:20,name:"bottomLeft"},{x:-se-10,y:10,name:"left"},{x:2,y:0,name:"topRight"},{x:2,y:20,name:"bottomRight"},{x:-se/2,y:-3,name:"top"},{x:-se/2,y:24,name:"bottom"},{x:8,y:10,name:"right"},{x:-se-2,y:-10,name:"furtherTopLeft"},{x:-se-2,y:30,name:"furtherBottomLeft"},{x:-se-18,y:10,name:"furtherLeft"},{x:-se-12,y:0,name:"bottomFurtherLeft"},{x:-se-12,y:0,name:"topFurtherLeft"},{x:0,y:-10,name:"furtherTopRight"},{x:0,y:30,name:"furtherBottomRight"},{x:10,y:0,name:"topFurtherRight"},{x:10,y:20,name:"bottomFurtherRight"},{x:10,y:-10,name:"furtherTopFurtherRight"},{x:-se-12,y:-10,name:"furtherTopFurtherLeft"},{x:10,y:30,name:"furtherBottomFurtherRight"},{x:-se-12,y:30,name:"furtherBottomFurtherLeft"},{x:-se/2,y:-13,name:"furtherTop"},{x:-se/2,y:34,name:"furtherBottom"},{x:28,y:10,name:"furtherRight"},{x:-se/2,y:-23,name:"furtherFurtherTop"},{x:-se/2,y:44,name:"furtherFurtherBottom"},{x:-se-28,y:10,name:"furtherFurtherLeft"},{x:28,y:10,name:"furtherFurtherRight"}],ge=Oe(".beeswarm-row-svg-"+D).selectAll(".labelGroup").selectAll("rect"),ye=Oe(".beeswarm-row-svg-"+D).select(".labelsCirclesGroup").selectAll("circle");for(var _e=0;_e<De.length;_e++){let Ve={x1:d[te].x+De[_e].x,x2:d[te].x+De[_e].x+se,y1:d[te].y-g+De[_e].y,y2:d[te].y-g+De[_e].y+18.5},Se=!0;if(ge.each(function(){let Ce=Oe(this);const Fe=/translate\(([\d.-]+),\s*([\d.-]+)\)/;let Ie=Oe(this).attr("transform").match(Fe);ot(Ve.x1,Ve.x2,Ve.y1,Ve.y2,parseFloat(Ie[1]),parseFloat(Ie[1])+parseFloat(Ce.attr("width")),parseFloat(Ie[2]),parseFloat(Ie[2])+18.5)&Ce.attr("labelid")!=te&&(Se=!1)}),ye.each(function(){let Ce=Oe(this);const Fe=/translate\(([\d.-]+),\s*([\d.-]+)\)/;let Ie=Oe(this).attr("transform").match(Fe),Ne=parseFloat(Ce.attr("r"))+3;ot(Ve.x1,Ve.x2,Ve.y1,Ve.y2,parseFloat(Ie[1])-Ne,parseFloat(Ie[1])+Ne,parseFloat(Ie[2])-Ne,parseFloat(Ie[2])+Ne)&Ce.attr("labelid")!=te&&(Se=!1)}),Se)return"translate("+Ve.x1+","+Ve.y1+")"}return"translate(200,0)"}else return"translate(0,0)"};let Y=!1;Ol(()=>{Y=!0});let K=null;function Z(j){t(10,K=parseFloat(Oe(this).attr("hoverid")))}function F(j){t(10,K=null)}let C,z;function R(j){var te;k[j]=(te=Je.entries.get(this))==null?void 0:te.contentRect,t(13,k)}function ie(){var j;C=(j=Je.entries.get(this))==null?void 0:j.contentRect,t(11,C)}const oe=(j,te)=>te.areacd===j.datum.areacd;function ce(){var j;z=(j=Je.entries.get(this))==null?void 0:j.contentRect,t(12,z)}function H(){E=this.clientWidth,t(4,E)}return l.$$set=j=>{"data"in j&&t(23,w=j.data),"name"in j&&t(0,V=j.name),"medianValue"in j&&t(24,I=j.medianValue),"maxDistanceFromMedian"in j&&t(25,p=j.maxDistanceFromMedian),"metadata"in j&&t(1,L=j.metadata),"id"in j&&t(2,D=j.id),"checkboxedRoles"in j&&t(3,M=j.checkboxedRoles)},l.$$.update=()=>{l.$$.dirty[0]&528&&t(29,n=E-a.left-a.right-Ye),l.$$.dirty[0]&512&&t(7,i=S-a.top-a.bottom),l.$$.dirty[0]&536870912&&t(6,o=Qe().domain(A).range([0,n])),l.$$.dirty[0]&58720256&&t(28,f=w.map(j=>({...j,calcYValue:(j.value-I)/p}))),l.$$.dirty[0]&268435522&&t(8,s=new it(f,5,j=>o((j.calcYValue<0?-1:1)*(1-Math.pow(1-Math.abs(j.calcYValue),L.beeswarmPower)))).calculateYPositions()),l.$$.dirty[0]&256&&t(27,c=s!=null?[Math.min(...s.map(j=>j.y)),Math.max(...s.map(j=>j.y))]:[0,1]),l.$$.dirty[0]&134217856&&t(17,u=Qe().domain(c).range([0,i])),l.$$.dirty[0]&58720264&&t(26,h=w.filter(j=>(M.custom!=null?M.custom:[]).map(te=>te.areacd).includes(j.areacd)).map(j=>({...j,calcYValue:(j.value-I)/p})).sort((j,te)=>j.calcYValue-te.calcYValue)),l.$$.dirty[0]&67108930&&t(5,d=new it(h,7,j=>o((j.calcYValue<0?-1:1)*(1-Math.pow(1-Math.abs(j.calcYValue),L.beeswarmPower)))).calculateYPositions()),l.$$.dirty[0]&32&&t(14,g=Math.min(...d.map(j=>j.y))+(Math.max(...d.map(j=>j.y))-Math.min(...d.map(j=>j.y)))/2),l.$$.dirty[0]&2&&t(16,m=L.prefix===null?"":L.prefix),l.$$.dirty[0]&2&&t(15,v=L.suffix===null?"":L.suffix)},t(9,a={top:10,left:10,right:10,bottom:10}),t(13,k=[]),[V,L,D,M,E,d,o,i,s,a,K,C,z,k,g,v,m,u,Q,S,G,Z,F,w,I,p,h,c,f,n,R,ie,oe,ce,H]}class fr extends fe{constructor(e){super(),he(this,e,ur,cr,de,{data:23,name:0,medianValue:24,maxDistanceFromMedian:25,metadata:1,id:2,checkboxedRoles:3},null,[-1,-1])}}function Pl(l,e,t){const a=l.slice();return a[32]=e[t],a[34]=t,a}function Tl(l){let e,t;function a(...i){return l[22](l[32],...i)}function n(...i){return l[23](l[32],...i)}return e=new fr({props:{id:l[34],data:l[3].filter(a),name:l[8].find(n).name,checkboxedRoles:l[0],medianValue:l[4],maxDistanceFromMedian:l[7],metadata:l[9]}}),{c(){le(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,o){ne(e,i,o),t=!0},p(i,o){l=i;const f={};o[0]&40&&(f.data=l[3].filter(a)),o[0]&288&&(f.name=l[8].find(n).name),o[0]&1&&(f.checkboxedRoles=l[0]),o[0]&16&&(f.medianValue=l[4]),o[0]&128&&(f.maxDistanceFromMedian=l[7]),o[0]&512&&(f.metadata=l[9]),e.$set(f)},i(i){t||(q(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){re(e,i)}}}function hr(l){let e,t,a,n,i,o,f,s,c,u,h,d=(l[6].length>0?l[10].find(l[20]).label:"")+"",g,m,v,k,w,V,I,p,L,D;function M(F){l[18](F)}let Q={asButtons:!0,name:"selectGroupings",optionsArray:l[13]};l[2]!==void 0&&(Q.chosenId=l[2]),e=new He({props:Q}),be.push(()=>ke(e,"chosenId",M));function E(F){l[19](F)}let S={name:"select-indicator-dropdown",optionsArray:l[12].map(dr)};l[1]!==void 0&&(S.chosenId=l[1]),f=new at({props:S}),be.push(()=>ke(f,"chosenId",E)),v=new ta({props:{siblingAreas:l[11]}});function A(F){l[21](F)}let G={areasWithData:l[11],colors:[Ae.custom1,Ae.custom2,Ae.custom3,Ae.custom4]};l[0]!==void 0&&(G.checkboxedRoles=l[0]),V=new Kl({props:G}),be.push(()=>ke(V,"checkboxedRoles",A));let Y=l[5],K=[];for(let F=0;F<Y.length;F+=1)K[F]=Tl(Pl(l,Y,F));const Z=F=>X(K[F],1,1,()=>{K[F]=null});return{c(){le(e.$$.fragment),a=U(),n=N("div"),i=N("div"),o=N("div"),le(f.$$.fragment),c=U(),u=N("p"),h=$("in "),g=$(d),m=U(),le(v.$$.fragment),k=U(),w=N("div"),le(V.$$.fragment),p=U(),L=N("div");for(let F=0;F<K.length;F+=1)K[F].c();this.h()},l(F){ae(e.$$.fragment,F),a=J(F),n=P(F,"DIV",{class:!0});var C=y(n);i=P(C,"DIV",{class:!0});var z=y(i);o=P(z,"DIV",{class:!0});var R=y(o);ae(f.$$.fragment,R),R.forEach(_),c=J(z),u=P(z,"P",{class:!0});var ie=y(u);h=ee(ie,"in "),g=ee(ie,d),ie.forEach(_),z.forEach(_),m=J(C),ae(v.$$.fragment,C),k=J(C),w=P(C,"DIV",{style:!0});var oe=y(w);ae(V.$$.fragment,oe),oe.forEach(_),p=J(C),L=P(C,"DIV",{class:!0});var ce=y(L);for(let H=0;H<K.length;H+=1)K[H].l(ce);ce.forEach(_),C.forEach(_),this.h()},h(){r(o,"class","dropdown-container svelte-1v2sdro"),r(u,"class","svelte-1v2sdro"),r(i,"class","title-container svelte-1v2sdro"),x(w,"margin-top","30px"),x(w,"margin-bottom","30px"),r(L,"class","svgs-container"),r(n,"class","visualisation-container svelte-1v2sdro")},m(F,C){ne(e,F,C),T(F,a,C),T(F,n,C),b(n,i),b(i,o),ne(f,o,null),b(i,c),b(i,u),b(u,h),b(u,g),b(n,m),ne(v,n,null),b(n,k),b(n,w),ne(V,w,null),b(n,p),b(n,L);for(let z=0;z<K.length;z+=1)K[z]&&K[z].m(L,null);D=!0},p(F,C){const z={};!t&&C[0]&4&&(t=!0,z.chosenId=F[2],pe(()=>t=!1)),e.$set(z);const R={};!s&&C[0]&2&&(s=!0,R.chosenId=F[1],pe(()=>s=!1)),f.$set(R),(!D||C[0]&64)&&d!==(d=(F[6].length>0?F[10].find(F[20]).label:"")+"")&&we(g,d);const ie={};if(!I&&C[0]&1&&(I=!0,ie.checkboxedRoles=F[0],pe(()=>I=!1)),V.$set(ie),C[0]&953){Y=F[5];let oe;for(oe=0;oe<Y.length;oe+=1){const ce=Pl(F,Y,oe);K[oe]?(K[oe].p(ce,C),q(K[oe],1)):(K[oe]=Tl(ce),K[oe].c(),q(K[oe],1),K[oe].m(L,null))}for(Re(),oe=Y.length;oe<K.length;oe+=1)Z(oe);Me()}},i(F){if(!D){q(e.$$.fragment,F),q(f.$$.fragment,F),q(v.$$.fragment,F),q(V.$$.fragment,F);for(let C=0;C<Y.length;C+=1)q(K[C]);D=!0}},o(F){X(e.$$.fragment,F),X(f.$$.fragment,F),X(v.$$.fragment,F),X(V.$$.fragment,F),K=K.filter(Boolean);for(let C=0;C<K.length;C+=1)X(K[C]);D=!1},d(F){re(e,F),F&&_(a),F&&_(n),re(f),re(v),re(V),ve(K,F)}}}const dr=l=>l.label;function mr(l,e,t){let a,n,i,o,f,s,c,u,{latestData:h,indicatorsList:d,topicName:g,checkboxedRoles:m}=e,v=ue("indicatorsMetadata"),k=ue("indicators"),w=ue("clustersInfo"),V=ue("clustersLookup"),I=ue("periodsLookup");ue("areas");let L=ue("areasGeogLevel").filter(z=>["both","lower"].includes(z.level)).map(z=>z.areacd),D=ue("areasParentsLookup"),M=ue("areasGeogInfo"),Q=d.map((z,R)=>({index:R,id:z,label:v.find(ie=>ie.code==k.find(oe=>oe.id==z).code).label})),E=Q[1].label,S=0,A=[...Object.keys(Ze).filter(z=>Ze[z]===g).map(z=>Ue(z)+" cluster"),"Region","Deprivation Level","Urban/Rural"];function G(z){S=z,t(2,S)}function Y(z){E=z,t(1,E)}const K=z=>z.xDomainNumb===i[0].xDomainNumb;function Z(z){m=z,t(0,m)}const F=(z,R)=>R.group==z,C=(z,R)=>R.id==z;return l.$$set=z=>{"latestData"in z&&t(14,h=z.latestData),"indicatorsList"in z&&t(15,d=z.indicatorsList),"topicName"in z&&t(16,g=z.topicName),"checkboxedRoles"in z&&t(0,m=z.checkboxedRoles)},l.$$.update=()=>{l.$$.dirty[0]&2&&t(17,a=k.find(z=>z.code==v.find(R=>R.label==E).code).id),l.$$.dirty[0]&131072&&t(9,n=v.find(z=>z.code==k.find(R=>R.id===a).code)),l.$$.dirty[0]&147456&&t(6,i=h.filter(z=>z.id===a&L.includes(z.areacd))),l.$$.dirty[0]&68&&t(3,o=(A[S].includes("cluster")?i.map(z=>({...z,group:w.find(R=>R.areacd===z.areacd)[A[S].replace(" cluster","").toLowerCase()]})):A[S]==="Region"?i.map(z=>({...z,group:D.find(R=>R.areacd===z.areacd).parentcd})):A[S]==="Deprivation Level"?i.map(z=>({...z,group:M.find(R=>z.areacd===R.areacd).imd})):A[S]==="Urban/Rural"?i.map(z=>({...z,group:M.find(R=>z.areacd===R.areacd).urban})):[]).filter(z=>z.group!="")),l.$$.dirty[0]&12&&t(5,f=A[S]==="Deprivation Level"?[...new Set(o.map(z=>z.group))].sort((z,R)=>z-R):[...new Set(o.map(z=>z.group))]),l.$$.dirty[0]&36&&t(8,s=A[S].includes("cluster")?V.filter(z=>[A[S].replace(" cluster","").toLowerCase(),"all"].includes(z.model)).map(z=>({id:z.id,name:z.alternativeDescription})):A[S]==="Region"?[...ra,...ia].map(z=>({id:z.code,name:z.name})):A[S]==="Deprivation Level"?[{id:"5",name:"Least deprived"},{id:"4",name:"Low deprivation"},{id:"3",name:"Average"},{id:"2",name:"Above average deprivation"},{id:"1",name:"Most deprived"}]:A[S]==="Urban/Rural"?f.map(z=>({id:z,name:z})):[]),l.$$.dirty[0]&8&&t(4,c=sa(o,"value")),l.$$.dirty[0]&24&&t(7,u=Math.max(Math.abs(c-Math.min(...o.map(z=>z.value))),Math.abs(c-Math.max(...o.map(z=>z.value)))))},[m,E,S,o,c,f,i,u,s,n,I,L,Q,A,h,d,g,a,G,Y,K,Z,F,C]}class _r extends fe{constructor(e){super(),he(this,e,mr,hr,de,{latestData:14,indicatorsList:15,topicName:16,checkboxedRoles:0},null,[-1,-1])}}function gr(l){let e=Ue(l[2])+"",t;return{c(){t=$(e)},l(a){t=ee(a,e)},m(a,n){T(a,t,n)},p:me,d(a){a&&_(t)}}}function vr(l){let e="Topic information",t;return{c(){t=$(e)},l(a){t=ee(a,e)},m(a,n){T(a,t,n)},p:me,d(a){a&&_(t)}}}function br(l){let e,t,a,n;return e=new Zl({props:{$$slots:{default:[gr]},$$scope:{ctx:l}}}),a=new Ul({props:{$$slots:{default:[vr]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment),t=U(),le(a.$$.fragment)},l(i){ae(e.$$.fragment,i),t=J(i),ae(a.$$.fragment,i)},m(i,o){ne(e,i,o),T(i,t,o),ne(a,i,o),n=!0},p(i,o){const f={};o&128&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const s={};o&128&&(s.$$scope={dirty:o,ctx:i}),a.$set(s)},i(i){n||(q(e.$$.fragment,i),q(a.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),X(a.$$.fragment,i),n=!1},d(i){re(e,i),i&&_(t),re(a,i)}}}function kr(l){let e;return{c(){e=$("Find related publications")},l(t){e=ee(t,"Find related publications")},m(t,a){T(t,e,a)},d(t){t&&_(e)}}}function pr(l){let e,t,a,n,i,o,f,s,c,u,h,d,g,m,v,k,w,V,I,p,L,D,M,Q,E,S,A,G,Y,K,Z,F,C,z;function R(H){l[5](H)}let ie={indicatorsList:l[3],latestData:l[4],initialData:l[0].preloadedData.initialData,otherData:l[0].preloadedData.otherData};l[1]!==void 0&&(ie.checkboxedRoles=l[1]),i=new Nn({props:ie}),be.push(()=>ke(i,"checkboxedRoles",R)),d=new ir({props:{indicatorsList:l[0].indicatorsList,topicName:l[2],latestData:l[4],initialData:l[0].preloadedData.initialData,otherData:l[0].preloadedData.otherData}});function oe(H){l[6](H)}let ce={topicName:l[2],latestData:l[4],indicatorsList:l[0].indicatorsList};return l[1]!==void 0&&(ce.checkboxedRoles=l[1]),D=new _r({props:ce}),be.push(()=>ke(D,"checkboxedRoles",oe)),S=new aa({props:{$$slots:{default:[kr]},$$scope:{ctx:l}}}),{c(){e=N("section"),t=N("h1"),a=$("Key indicators"),n=U(),le(i.$$.fragment),f=U(),s=N("section"),c=N("h1"),u=$("Explore geographically"),h=U(),le(d.$$.fragment),g=U(),m=N("section"),v=N("h1"),k=$("Top and bottom ranked areas"),w=U(),V=N("section"),I=N("h1"),p=$("Compare areas by group"),L=U(),le(D.$$.fragment),Q=U(),E=N("section"),le(S.$$.fragment),A=U(),G=N("section"),Y=N("h2"),K=$("Get the data"),Z=U(),F=N("p"),C=$("Here, you can find information and links to the data."),this.h()},l(H){e=P(H,"SECTION",{title:!0,class:!0});var j=y(e);t=P(j,"H1",{});var te=y(t);a=ee(te,"Key indicators"),te.forEach(_),n=J(j),ae(i.$$.fragment,j),j.forEach(_),f=J(H),s=P(H,"SECTION",{title:!0,class:!0});var _e=y(s);c=P(_e,"H1",{});var se=y(c);u=ee(se,"Explore geographically"),se.forEach(_),h=J(_e),ae(d.$$.fragment,_e),_e.forEach(_),g=J(H),m=P(H,"SECTION",{title:!0,class:!0});var De=y(m);v=P(De,"H1",{});var ge=y(v);k=ee(ge,"Top and bottom ranked areas"),ge.forEach(_),De.forEach(_),w=J(H),V=P(H,"SECTION",{title:!0,class:!0});var ye=y(V);I=P(ye,"H1",{});var Ve=y(I);p=ee(Ve,"Compare areas by group"),Ve.forEach(_),L=J(ye),ae(D.$$.fragment,ye),ye.forEach(_),Q=J(H),E=P(H,"SECTION",{title:!0,class:!0});var Se=y(E);ae(S.$$.fragment,Se),Se.forEach(_),A=J(H),G=P(H,"SECTION",{title:!0,class:!0});var Ce=y(G);Y=P(Ce,"H2",{class:!0});var Fe=y(Y);K=ee(Fe,"Get the data"),Fe.forEach(_),Z=J(Ce),F=P(Ce,"P",{});var Ie=y(F);C=ee(Ie,"Here, you can find information and links to the data."),Ie.forEach(_),Ce.forEach(_),this.h()},h(){r(e,"title","Key indicators"),r(e,"class","svelte-1go1lax"),r(s,"title","Explore geographically"),r(s,"class","svelte-1go1lax"),r(m,"title","Top and bottom ranked areas"),r(m,"class","svelte-1go1lax"),r(V,"title","Compare areas by group"),r(V,"class","svelte-1go1lax"),r(E,"title","Related publications"),r(E,"class","svelte-1go1lax"),r(Y,"class","ons-u-mt-xl"),r(G,"title","Get the data"),r(G,"class","svelte-1go1lax")},m(H,j){T(H,e,j),b(e,t),b(t,a),b(e,n),ne(i,e,null),T(H,f,j),T(H,s,j),b(s,c),b(c,u),b(s,h),ne(d,s,null),T(H,g,j),T(H,m,j),b(m,v),b(v,k),T(H,w,j),T(H,V,j),b(V,I),b(I,p),b(V,L),ne(D,V,null),T(H,Q,j),T(H,E,j),ne(S,E,null),T(H,A,j),T(H,G,j),b(G,Y),b(Y,K),b(G,Z),b(G,F),b(F,C),z=!0},p(H,j){const te={};j&1&&(te.initialData=H[0].preloadedData.initialData),j&1&&(te.otherData=H[0].preloadedData.otherData),!o&&j&2&&(o=!0,te.checkboxedRoles=H[1],pe(()=>o=!1)),i.$set(te);const _e={};j&1&&(_e.indicatorsList=H[0].indicatorsList),j&1&&(_e.initialData=H[0].preloadedData.initialData),j&1&&(_e.otherData=H[0].preloadedData.otherData),d.$set(_e);const se={};j&1&&(se.indicatorsList=H[0].indicatorsList),!M&&j&2&&(M=!0,se.checkboxedRoles=H[1],pe(()=>M=!1)),D.$set(se);const De={};j&128&&(De.$$scope={dirty:j,ctx:H}),S.$set(De)},i(H){z||(q(i.$$.fragment,H),q(d.$$.fragment,H),q(D.$$.fragment,H),q(S.$$.fragment,H),z=!0)},o(H){X(i.$$.fragment,H),X(d.$$.fragment,H),X(D.$$.fragment,H),X(S.$$.fragment,H),z=!1},d(H){H&&_(e),re(i),H&&_(f),H&&_(s),re(d),H&&_(g),H&&_(m),H&&_(w),H&&_(V),re(D),H&&_(Q),H&&_(E),re(S),H&&_(A),H&&_(G)}}}function wr(l){let e,t,a,n;return e=new Ql({props:{breadcrumb:[{label:"Home",url:"/"},{label:"Explore subnational statistics",url:`${$e}/`},{label:"Expore indicators",url:`${$e}/indicators`},{label:"topic"}],$$slots:{default:[br]},$$scope:{ctx:l}}}),a=new la({props:{contentsLabel:"Explore this indicator",$$slots:{default:[pr]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment),t=U(),le(a.$$.fragment)},l(i){ae(e.$$.fragment,i),t=J(i),ae(a.$$.fragment,i)},m(i,o){ne(e,i,o),T(i,t,o),ne(a,i,o),n=!0},p(i,[o]){const f={};o&128&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const s={};o&131&&(s.$$scope={dirty:o,ctx:i}),a.$set(s)},i(i){n||(q(e.$$.fragment,i),q(a.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),X(a.$$.fragment,i),n=!1},d(i){re(e,i),i&&_(t),re(a,i)}}}function yr(l,e,t){let a,{data:n}=e,i=n.topic,o=n.indicatorsList.slice(0,Math.min(5,n.indicatorsList.length)),f=n.latestData.filter(u=>n.indicatorsList.includes(u.id));function s(u){a=u,t(1,a)}function c(u){a=u,t(1,a)}return l.$$set=u=>{"data"in u&&t(0,n=u.data)},t(1,a={custom:null}),[n,a,i,o,f,s,c]}class qr extends fe{constructor(e){super(),he(this,e,yr,wr,de,{data:0})}}export{qr as component};
