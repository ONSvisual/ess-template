import{S as te,i as ae,s as re,I as Te,k as O,l as G,m as B,h as _,p as d,q as ne,b as N,K as Ve,L as Ke,M as Pe,g as E,d as L,n as le,Q as oe,N as fe,r as P,a as C,u as z,c as H,D as $,v as J,F as Y,e as U,G as W,w as q,f as Q,o as ze,z as M,A as T,B as V,C as K,U as Fe,V as Ye}from"../chunks/index.9d99f0a2.js";import{b as ee}from"../chunks/paths.5cfec888.js";import{g as de}from"../chunks/index.f4553b3e.js";import{T as We,H as Ue,S as je}from"../chunks/Cards.8fe82919.js";import{l as ie,a as he,S as qe,K as Qe,b as Je,D as Xe,M as Ze,L as xe}from"../chunks/DotPlot.svelte_svelte_type_style_lang.4ca182ae.js";import{A as et}from"../chunks/AreaNav.d46087fa.js";import{s as Me,f as tt,c as at}from"../chunks/selectedAreasStore.03a67c08.js";import{l as X,i as rt}from"../chunks/config.1134aefb.js";function nt(r){let e,t=`${r[0]}px`,a=`${r[1]}px`,n;const l=r[3].default,o=Te(l,r,r[2],null);return{c(){e=O("div"),o&&o.c(),this.h()},l(s){e=G(s,"DIV",{class:!0});var c=B(e);o&&o.l(c),c.forEach(_),this.h()},h(){d(e,"class","placeholder-container svelte-1mhohmc"),ne(e,"height",t),ne(e,"margin-bottom",a)},m(s,c){N(s,e,c),o&&o.m(e,null),n=!0},p(s,[c]){o&&o.p&&(!n||c&4)&&Ve(o,l,s,s[2],n?Pe(l,s[2],c,null):Ke(s[2]),null),c&1&&t!==(t=`${s[0]}px`)&&ne(e,"height",t),c&2&&a!==(a=`${s[1]}px`)&&ne(e,"margin-bottom",a)},i(s){n||(E(o,s),n=!0)},o(s){L(o,s),n=!1},d(s){s&&_(e),o&&o.d(s)}}}function lt(r,e,t){let{$$slots:a={},$$scope:n}=e,{height:l=400}=e,{margin:o=40}=e;return r.$$set=s=>{"height"in s&&t(0,l=s.height),"margin"in s&&t(1,o=s.margin),"$$scope"in s&&t(2,n=s.$$scope)},[l,o,n,a]}class it extends te{constructor(e){super(),ae(this,e,lt,nt,re,{height:0,margin:1})}}function me(r,e,t){const a=r.slice();return a[11]=e[t],a[13]=t,a}function _e(r){let e,t=r[11].indicator.subText+"",a;return{c(){e=O("h5"),a=P(t)},l(n){e=G(n,"H5",{});var l=B(e);a=z(l,t),l.forEach(_)},m(n,l){N(n,e,l),$(e,a)},p(n,l){l&2&&t!==(t=n[11].indicator.subText+"")&&J(a,t)},d(n){n&&_(e)}}}function ge(r){let e,t,a,n=r[11].indicator.label+"",l,o,s,c=("prefix"in r[11].indicator?r[11].indicator.prefix:"")+Math.round(r[0].main.value[r[11].code+"_"+r[11].indicator.years[1]]).toLocaleString()+("suffix"in r[11].indicator?r[11].indicator.suffix:"")+"",p,u,y,f,m,i=r[11].sentence1+"",h,k=r[11].indicator.subText&&_e(r);return{c(){e=O("div"),t=O("div"),a=O("h3"),l=P(n),o=C(),s=O("h1"),p=P(c),u=C(),k&&k.c(),y=C(),f=O("div"),m=O("p"),h=C(),this.h()},l(g){e=G(g,"DIV",{class:!0});var v=B(e);t=G(v,"DIV",{class:!0});var S=B(t);a=G(S,"H3",{class:!0});var w=B(a);l=z(w,n),w.forEach(_),o=H(S),s=G(S,"H1",{class:!0});var D=B(s);p=z(D,c),D.forEach(_),u=H(S),k&&k.l(S),S.forEach(_),y=H(v),f=G(v,"DIV",{class:!0});var j=B(f);m=G(j,"P",{class:!0});var I=B(m);I.forEach(_),j.forEach(_),h=H(v),v.forEach(_),this.h()},h(){d(a,"class","svelte-f4bu62"),d(s,"class","svelte-f4bu62"),d(t,"class","left svelte-f4bu62"),d(m,"class","svelte-f4bu62"),d(f,"class","right svelte-f4bu62"),d(e,"class","indicatorContainer svelte-f4bu62")},m(g,v){N(g,e,v),$(e,t),$(t,a),$(a,l),$(t,o),$(t,s),$(s,p),$(t,u),k&&k.m(t,null),$(e,y),$(e,f),$(f,m),m.innerHTML=i,$(e,h)},p(g,v){v&2&&n!==(n=g[11].indicator.label+"")&&J(l,n),v&3&&c!==(c=("prefix"in g[11].indicator?g[11].indicator.prefix:"")+Math.round(g[0].main.value[g[11].code+"_"+g[11].indicator.years[1]]).toLocaleString()+("suffix"in g[11].indicator?g[11].indicator.suffix:"")+"")&&J(p,c),g[11].indicator.subText?k?k.p(g,v):(k=_e(g),k.c(),k.m(t,null)):k&&(k.d(1),k=null),v&2&&i!==(i=g[11].sentence1+"")&&(m.innerHTML=i)},d(g){g&&_(e),k&&k.d()}}}function ot(r){let e,t=r[1],a=[];for(let n=0;n<t.length;n+=1)a[n]=ge(me(r,t,n));return{c(){e=O("div");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=G(n,"DIV",{class:!0});var l=B(e);for(let o=0;o<a.length;o+=1)a[o].l(l);l.forEach(_),this.h()},h(){d(e,"class","keyIndicatorsContainer svelte-f4bu62")},m(n,l){N(n,e,l);for(let o=0;o<a.length;o+=1)a[o].m(e,null)},p(n,[l]){if(l&3){t=n[1];let o;for(o=0;o<t.length;o+=1){const s=me(n,t,o);a[o]?a[o].p(s,l):(a[o]=ge(s),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=t.length}},i:le,o:le,d(n){n&&_(e),oe(a,n)}}}function st(r,e,t){let a;fe(r,Me,i=>t(4,a=i));let{data:n,keyIndicatorBlocks:l,countByGeoLevel:o,countOfNulls:s}=e,c=a.parentcd==="E92000001"?"regions":a.parentcd==="K02000001"?"countries":"local authorities",p={E:"England",N:"Northern Ireland",S:"Scotland",W:"Wales"}[a.areacd.slice(0,1)],u=c==="local authorities"?"countrycd":"parentcd",y=o.find(i=>i.category===(u==="countrycd"?a.countrycd:u==="regions"?"E92000001":"Y")&i.geoLevel===(u==="countrycd"?"countrycd":u==="regions"?"parentcd":"country")).count,f="<span style='color: white; background-color: "+X.main+"'>"+a.areanm+"</span>",m="<span style='color: white; background-color: "+X.country+"'>"+p+"</span>";return l.forEach(i=>{console.log(i);let h=`<a href = ${ee}/indicators/${i.code}>${i.indicator.label.toLowerCase()}</a>`;console.log(h);let k=n.main.rank[i.code+"_"+u+"_"+i.indicator.years[1]],g=s.find(w=>w.category===(u==="_countrycd_"?a.countrycd:u==="regions"?"E92000001":"Y")&w.geoLevel===(u==="_countrycd_"?"countrycd":u==="regions"?"parentcd":"country")&w.indicator===i.code),v=g!==void 0?g.count:0,S=Math.round(k/(y-v)*100);i.sentence1=f+" is in the "+(S>50?"top":"bottom")+" "+(S>50?100-S:1+S)+"% of "+c+" in "+(["local authorities","regions"].includes(c)?m:"United Kingdom")+" for "+h+"."}),r.$$set=i=>{"data"in i&&t(0,n=i.data),"keyIndicatorBlocks"in i&&t(1,l=i.keyIndicatorBlocks),"countByGeoLevel"in i&&t(2,o=i.countByGeoLevel),"countOfNulls"in i&&t(3,s=i.countOfNulls)},[n,l,o,s]}class ft extends te{constructor(e){super(),ae(this,e,st,ot,re,{data:0,keyIndicatorBlocks:1,countByGeoLevel:2,countOfNulls:3})}}function pe(r){let e,t,a;return{c(){e=Y("g"),t=Y("rect"),this.h()},l(n){e=W(n,"g",{transform:!0});var l=B(e);t=W(l,"rect",{x:!0,y:!0,stroke:!0,fill:!0,"stroke-width":!0,width:!0,height:!0}),B(t).forEach(_),l.forEach(_),this.h()},h(){d(t,"x","-5"),d(t,"y","-5"),d(t,"stroke","white"),d(t,"fill",X.parent),d(t,"stroke-width","1px"),d(t,"width","10"),d(t,"height","10"),d(e,"transform",a="translate("+r[4](r[0].parentRaw)+",0)")},m(n,l){N(n,e,l),$(e,t)},p(n,l){l&17&&a!==(a="translate("+n[4](n[0].parentRaw)+",0)")&&d(e,"transform",a)},d(n){n&&_(e)}}}function ve(r){let e,t,a;return{c(){e=Y("g"),t=Y("rect"),this.h()},l(n){e=W(n,"g",{transform:!0});var l=B(e);t=W(l,"rect",{transform:!0,x:!0,y:!0,stroke:!0,fill:!0,"stroke-width":!0,width:!0,height:!0}),B(t).forEach(_),l.forEach(_),this.h()},h(){d(t,"transform","rotate(45)"),d(t,"x","-5"),d(t,"y","-5"),d(t,"stroke","white"),d(t,"fill",X.country),d(t,"stroke-width","1px"),d(t,"width","10"),d(t,"height","10"),d(e,"transform",a="translate("+r[4](r[0].countryRaw)+",0)")},m(n,l){N(n,e,l),$(e,t)},p(n,l){l&17&&a!==(a="translate("+n[4](n[0].countryRaw)+",0)")&&d(e,"transform",a)},d(n){n&&_(e)}}}function be(r){let e,t,a;return{c(){e=Y("g"),t=Y("rect"),this.h()},l(n){e=W(n,"g",{transform:!0});var l=B(e);t=W(l,"rect",{transform:!0,x:!0,y:!0,stroke:!0,fill:!0,"stroke-width":!0,width:!0,height:!0}),B(t).forEach(_),l.forEach(_),this.h()},h(){d(t,"transform","rotate(45)"),d(t,"x","-5"),d(t,"y","-5"),d(t,"stroke","white"),d(t,"fill",X.uk),d(t,"stroke-width","1px"),d(t,"width","10"),d(t,"height","10"),d(e,"transform",a="translate("+r[4](r[0].ukRaw)+",0)")},m(n,l){N(n,e,l),$(e,t)},p(n,l){l&17&&a!==(a="translate("+n[4](n[0].ukRaw)+",0)")&&d(e,"transform",a)},d(n){n&&_(e)}}}function ut(r){let e,t,a,n,l,o=r[0].parentRaw!==void 0&r[3].includes("parent"),s,c=r[0].countryRaw!==void 0&r[3].includes("country"),p,u=r[0].ukRaw!==void 0&r[3].includes("uk"),y,f,m,i=o&&pe(r),h=c&&ve(r),k=u&&be(r);return{c(){e=Y("g"),t=Y("path"),n=Y("path"),i&&i.c(),s=U(),h&&h.c(),p=U(),k&&k.c(),y=Y("circle"),this.h()},l(g){e=W(g,"g",{class:!0,transform:!0});var v=B(e);t=W(v,"path",{d:!0,stroke:!0,fill:!0,opacity:!0}),B(t).forEach(_),n=W(v,"path",{d:!0,stroke:!0,fill:!0,opacity:!0}),B(n).forEach(_),i&&i.l(v),s=U(),h&&h.l(v),p=U(),k&&k.l(v),y=W(v,"circle",{transform:!0,r:!0,stroke:!0,fill:!0,"stroke-width":!0}),B(y).forEach(_),v.forEach(_),this.h()},h(){d(t,"d",a=r[6](r[1])),d(t,"stroke","none"),d(t,"fill","#e0dede"),d(t,"opacity","1"),d(n,"d",l=r[5](r[1])),d(n,"stroke","none"),d(n,"fill","#e0dede"),d(n,"opacity","1"),d(y,"transform",f="translate("+r[4](r[0].mainRaw)+",0)"),d(y,"r","6"),d(y,"stroke","white"),d(y,"fill",X.main),d(y,"stroke-width","1px"),d(e,"class","plot-group"),d(e,"transform",m="translate("+0+","+r[2]/2+")")},m(g,v){N(g,e,v),$(e,t),$(e,n),i&&i.m(e,null),$(e,s),h&&h.m(e,null),$(e,p),k&&k.m(e,null),$(e,y)},p(g,[v]){v&66&&a!==(a=g[6](g[1]))&&d(t,"d",a),v&34&&l!==(l=g[5](g[1]))&&d(n,"d",l),v&9&&(o=g[0].parentRaw!==void 0&g[3].includes("parent")),o?i?i.p(g,v):(i=pe(g),i.c(),i.m(e,s)):i&&(i.d(1),i=null),v&9&&(c=g[0].countryRaw!==void 0&g[3].includes("country")),c?h?h.p(g,v):(h=ve(g),h.c(),h.m(e,p)):h&&(h.d(1),h=null),v&9&&(u=g[0].ukRaw!==void 0&g[3].includes("uk")),u?k?k.p(g,v):(k=be(g),k.c(),k.m(e,y)):k&&(k.d(1),k=null),v&17&&f!==(f="translate("+g[4](g[0].mainRaw)+",0)")&&d(y,"transform",f),v&4&&m!==(m="translate("+0+","+g[2]/2+")")&&d(e,"transform",m)},i:le,o:le,d(g){g&&_(e),i&&i.d(),h&&h.d(),k&&k.d()}}}function ct(r,e,t){let a,n,l,o,s,c,{row:p,distributionData:u,width:y,height:f,rolesArray:m}=e;return r.$$set=i=>{"row"in i&&t(0,p=i.row),"distributionData"in i&&t(1,u=i.distributionData),"width"in i&&t(7,y=i.width),"height"in i&&t(2,f=i.height),"rolesArray"in i&&t(3,m=i.rolesArray)},r.$$.update=()=>{r.$$.dirty&2&&t(10,a=[0,Math.max(...u.map(i=>i.midpoint))]),r.$$.dirty&1152&&t(4,n=ie().domain(a).range([0,y])),r.$$.dirty&2&&t(9,l=[0,Math.max(...u.map(i=>i.count))]),r.$$.dirty&516&&t(8,o=ie().domain(l).range([0,f/2])),r.$$.dirty&272&&t(6,s=he().x(i=>n(i.midpoint)).y(i=>o(i.count))),r.$$.dirty&272&&t(5,c=he().x(i=>n(i.midpoint)).y(i=>-o(i.count)))},[p,u,f,m,n,c,s,y,o,l,a]}class dt extends te{constructor(e){super(),ae(this,e,ct,ut,re,{row:0,distributionData:1,width:7,height:2,rolesArray:3})}}function ye(r,e,t){const a=r.slice();return a[21]=e[t],a[23]=t,a}function ke(r){let e,t,a,n,l,o,s,c,p,u;o=new qe({props:{areas:r[3],comparisonAreaOptionsArray:["parent","country","uk"]}}),c=new Qe({props:{rolesArray:r[5].filter($e),radius:"5",line:!1,visibleAreas:r[2]}});let y=r[6],f=[];for(let i=0;i<y.length;i+=1)f[i]=we(ye(r,y,i));const m=i=>L(f[i],1,1,()=>{f[i]=null});return{c(){e=O("div"),t=O("div"),a=O("h3"),n=P("Robo text goes here"),l=C(),M(o.$$.fragment),s=C(),M(c.$$.fragment),p=C();for(let i=0;i<f.length;i+=1)f[i].c();this.h()},l(i){e=G(i,"DIV",{class:!0});var h=B(e);t=G(h,"DIV",{class:!0});var k=B(t);a=G(k,"H3",{});var g=B(a);n=z(g,"Robo text goes here"),g.forEach(_),k.forEach(_),l=H(h),T(o.$$.fragment,h),s=H(h),T(c.$$.fragment,h),p=H(h);for(let v=0;v<f.length;v+=1)f[v].l(h);h.forEach(_),this.h()},h(){d(t,"class","chart-title"),d(e,"class","multiScatter")},m(i,h){N(i,e,h),$(e,t),$(t,a),$(a,n),$(e,l),V(o,e,null),$(e,s),V(c,e,null),$(e,p);for(let k=0;k<f.length;k+=1)f[k].m(e,null);u=!0},p(i,h){const k={};h&8&&(k.areas=i[3]),o.$set(k);const g={};if(h&32&&(g.rolesArray=i[5].filter($e)),h&4&&(g.visibleAreas=i[2]),c.$set(g),h&99){y=i[6];let v;for(v=0;v<y.length;v+=1){const S=ye(i,y,v);f[v]?(f[v].p(S,h),E(f[v],1)):(f[v]=we(S),f[v].c(),E(f[v],1),f[v].m(e,null))}for(q(),v=y.length;v<f.length;v+=1)m(v);Q()}},i(i){if(!u){E(o.$$.fragment,i),E(c.$$.fragment,i);for(let h=0;h<y.length;h+=1)E(f[h]);u=!0}},o(i){L(o.$$.fragment,i),L(c.$$.fragment,i),f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)L(f[h]);u=!1},d(i){i&&_(e),K(o),K(c),oe(f,i)}}}function we(r){let e,t,a=r[21].indicator.label+"",n,l,o,s,c,p,u,y;return s=new dt({props:{width:r[0]-200,height:ue,row:r[21],distributionData:r[1][r[21].indicator.code],rolesArray:r[5]}}),{c(){e=O("div"),t=O("p"),n=P(a),l=C(),o=Y("svg"),M(s.$$.fragment),p=C(),this.h()},l(f){e=G(f,"DIV",{class:!0});var m=B(e);t=G(m,"P",{class:!0});var i=B(t);n=z(i,a),i.forEach(_),l=H(m),o=W(m,"svg",{width:!0,height:!0,class:!0});var h=B(o);T(s.$$.fragment,h),h.forEach(_),p=H(m),m.forEach(_),this.h()},h(){d(t,"class","svelte-oiywmg"),d(o,"width",c=r[0]-200),d(o,"height",ue),d(o,"class","svelte-oiywmg"),d(e,"class","rowContainer svelte-oiywmg"),Fe(()=>r[15].call(e))},m(f,m){N(f,e,m),$(e,t),$(t,n),$(e,l),$(e,o),V(s,o,null),$(e,p),u=Ye(e,r[15].bind(e)),y=!0},p(f,m){const i={};m&1&&(i.width=f[0]-200),m&2&&(i.distributionData=f[1][f[21].indicator.code]),m&32&&(i.rolesArray=f[5]),s.$set(i),(!y||m&1&&c!==(c=f[0]-200))&&d(o,"width",c)},i(f){y||(E(s.$$.fragment,f),y=!0)},o(f){L(s.$$.fragment,f),y=!1},d(f){f&&_(e),K(s),u()}}}function ht(r){let e,t,a=r[4]&&ke(r);return{c(){a&&a.c(),e=U()},l(n){a&&a.l(n),e=U()},m(n,l){a&&a.m(n,l),N(n,e,l),t=!0},p(n,[l]){n[4]?a?(a.p(n,l),l&16&&E(a,1)):(a=ke(n),a.c(),E(a,1),a.m(e.parentNode,e)):a&&(q(),L(a,1,1,()=>{a=null}),Q())},i(n){t||(E(a),t=!0)},o(n){L(a),t=!1},d(n){a&&a.d(n),n&&_(e)}}}let ue=80;const $e=r=>!["neighbour","similar"].includes(r);function mt(r,e,t){let a,n,l,o,s,{component:c,data:p,distributionData:u,visibleAreas:y,countByGeoLevel:f,countOfNulls:m,areas:i,width:h=360}=e,k=[],g=!1,v=f.find(w=>w.geoLevel==="localauthority"&w.category==="Y").count;c.code.forEach(w=>{let D=rt.find(A=>A.code==w),j=m.filter(A=>A.geoLevel==="localauthority"&A.category==="Y"&A.indicator===w&A.year===D.years[1]),I=Math.ceil(100*p.main.rank[w+"_localauthority_"+D.years[1]]/v-(j.length>0?j[0].count:0)),b={indicator:D,mainName:p.main.value.areanm,mainPercentile:I,mainRaw:p.main.value[w+"_"+D.years[1]],parentName:p.parent.value.areanm,parentRaw:p.parent.value[w+"_"+D.years[1]],countryName:p.country.value.areanm,countryRaw:p.country.value[w+"_"+D.years[1]],ukName:"United Kingdom",ukRaw:p.uk.value[w+"_"+D.years[1]]};k.push(b)}),ze(()=>{t(4,g=!0)});function S(){h=this.clientWidth,t(0,h)}return r.$$set=w=>{"component"in w&&t(7,c=w.component),"data"in w&&t(8,p=w.data),"distributionData"in w&&t(1,u=w.distributionData),"visibleAreas"in w&&t(2,y=w.visibleAreas),"countByGeoLevel"in w&&t(9,f=w.countByGeoLevel),"countOfNulls"in w&&t(10,m=w.countOfNulls),"areas"in w&&t(3,i=w.areas),"width"in w&&t(0,h=w.width)},r.$$.update=()=>{r.$$.dirty&4&&t(5,a=[...new Set(y.map(w=>w.role))]),r.$$.dirty&4&&y.filter(w=>w.role.slice(0,6)==="custom"),r.$$.dirty&16385&&t(12,l=h-n.left-n.right),r.$$.dirty&12288&&ie().domain(o).range([0,l]),r.$$.dirty&2048&&ie().domain(s).range([ue,0])},t(14,n={top:10,left:70,right:20,bottom:40}),t(13,o=[0,100]),t(11,s=[0,100]),[h,u,y,i,g,a,k,c,p,f,m,s,l,o,n,S]}class _t extends te{constructor(e){super(),ae(this,e,mt,ht,re,{component:7,data:8,distributionData:1,visibleAreas:2,countByGeoLevel:9,countOfNulls:10,areas:3,width:0})}}function Ae(r,e,t){const a=r.slice();return a[7]=e[t],a[9]=t,a}function Ee(r,e,t){const a=r.slice();return a[10]=e[t],a[9]=t,a}function Be(r){let e,t,a,n,l,o;return e=new We({props:{breadcrumb:[{label:"Home",url:"/"},{label:"Explore subnational statistics",url:`${ee}/`},{label:"Find a local area",url:`${ee}/areas`},{label:r[1].areanm}],$$slots:{default:[vt]},$$scope:{ctx:r}}}),a=new et({}),l=new Je({props:{contentsLabel:"Explore this area",$$slots:{default:[$t]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=C(),M(a.$$.fragment),n=C(),M(l.$$.fragment)},l(s){T(e.$$.fragment,s),t=H(s),T(a.$$.fragment,s),n=H(s),T(l.$$.fragment,s)},m(s,c){V(e,s,c),N(s,t,c),V(a,s,c),N(s,n,c),V(l,s,c),o=!0},p(s,c){const p={};c&2&&(p.breadcrumb=[{label:"Home",url:"/"},{label:"Explore subnational statistics",url:`${ee}/`},{label:"Find a local area",url:`${ee}/areas`},{label:s[1].areanm}]),c&4098&&(p.$$scope={dirty:c,ctx:s}),e.$set(p);const u={};c&4111&&(u.$$scope={dirty:c,ctx:s}),l.$set(u)},i(s){o||(E(e.$$.fragment,s),E(a.$$.fragment,s),E(l.$$.fragment,s),o=!0)},o(s){L(e.$$.fragment,s),L(a.$$.fragment,s),L(l.$$.fragment,s),o=!1},d(s){K(e,s),s&&_(t),K(a,s),s&&_(n),K(l,s)}}}function gt(r){let e=r[1].areanm+"",t;return{c(){t=P(e)},l(a){t=z(a,e)},m(a,n){N(a,t,n)},p(a,n){n&2&&e!==(e=a[1].areanm+"")&&J(t,e)},d(a){a&&_(t)}}}function pt(r){let e,t=de(r[1],"the")+"",a;return{c(){e=P("Get localised data, insights and trends for "),a=P(t)},l(n){e=z(n,"Get localised data, insights and trends for "),a=z(n,t)},m(n,l){N(n,e,l),N(n,a,l)},p(n,l){l&2&&t!==(t=de(n[1],"the")+"")&&J(a,t)},d(n){n&&_(e),n&&_(a)}}}function vt(r){let e,t,a,n;return e=new Ue({props:{$$slots:{default:[gt]},$$scope:{ctx:r}}}),a=new je({props:{$$slots:{default:[pt]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=C(),M(a.$$.fragment)},l(l){T(e.$$.fragment,l),t=H(l),T(a.$$.fragment,l)},m(l,o){V(e,l,o),N(l,t,o),V(a,l,o),n=!0},p(l,o){const s={};o&4098&&(s.$$scope={dirty:o,ctx:l}),e.$set(s);const c={};o&4098&&(c.$$scope={dirty:o,ctx:l}),a.$set(c)},i(l){n||(E(e.$$.fragment,l),E(a.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),L(a.$$.fragment,l),n=!1},d(l){K(e,l),l&&_(t),K(a,l)}}}function bt(r){let e,t;return e=new Xe({props:{id:r[9],areas:r[0].areas,data:r[0].indicatorBasedData["all-years-"+r[10].code].filter(Se),indicator:r[10].indicator,visibleAreas:r[2].map(Re)}}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,n){V(e,a,n),t=!0},p(a,n){const l={};n&1&&(l.areas=a[0].areas),n&9&&(l.data=a[0].indicatorBasedData["all-years-"+a[10].code].filter(Se)),n&9&&(l.indicator=a[10].indicator),n&4&&(l.visibleAreas=a[2].map(Re)),e.$set(l)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){K(e,a)}}}function yt(r){let e,t,a;function n(...l){return r[6](r[10],...l)}return t=new Ze({props:{indicator:r[10].indicator,data:("latest-year-"+r[10].code in r[0].indicatorBasedData?r[0].indicatorBasedData["latest-year-"+r[10].code]:r[0].indicatorBasedData["all-years-"+r[10].code]).filter(n)}}),{c(){e=O("div"),M(t.$$.fragment),this.h()},l(l){e=G(l,"DIV",{class:!0});var o=B(e);T(t.$$.fragment,o),o.forEach(_),this.h()},h(){d(e,"class","mapContainer")},m(l,o){N(l,e,o),V(t,e,null),a=!0},p(l,o){r=l;const s={};o&9&&(s.indicator=r[10].indicator),o&9&&(s.data=("latest-year-"+r[10].code in r[0].indicatorBasedData?r[0].indicatorBasedData["latest-year-"+r[10].code]:r[0].indicatorBasedData["all-years-"+r[10].code]).filter(n)),t.$set(s)},i(l){a||(E(t.$$.fragment,l),a=!0)},o(l){L(t.$$.fragment,l),a=!1},d(l){l&&_(e),K(t)}}}function kt(r){let e,t;return e=new xe({props:{id:r[9],areas:r[0].areas,data:r[0].indicatorBasedData["all-years-"+r[10].code].filter(Oe),indicator:r[10].indicator,zeroBaseline:r[10].indicator.zeroBaseline,visibleAreas:r[2].map(Ge)}}),{c(){M(e.$$.fragment)},l(a){T(e.$$.fragment,a)},m(a,n){V(e,a,n),t=!0},p(a,n){const l={};n&1&&(l.areas=a[0].areas),n&9&&(l.data=a[0].indicatorBasedData["all-years-"+a[10].code].filter(Oe)),n&9&&(l.indicator=a[10].indicator),n&9&&(l.zeroBaseline=a[10].indicator.zeroBaseline),n&4&&(l.visibleAreas=a[2].map(Ge)),e.$set(l)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){K(e,a)}}}function De(r){let e,t,a,n;const l=[kt,yt,bt],o=[];function s(c,p){return c[10].type==="line"?0:c[10].type==="map"?1:c[10].type==="double-beeswarm"?2:-1}return~(e=s(r))&&(t=o[e]=l[e](r)),{c(){t&&t.c(),a=U()},l(c){t&&t.l(c),a=U()},m(c,p){~e&&o[e].m(c,p),N(c,a,p),n=!0},p(c,p){let u=e;e=s(c),e===u?~e&&o[e].p(c,p):(t&&(q(),L(o[u],1,1,()=>{o[u]=null}),Q()),~e?(t=o[e],t?t.p(c,p):(t=o[e]=l[e](c),t.c()),E(t,1),t.m(a.parentNode,a)):t=null)},i(c){n||(E(t),n=!0)},o(c){L(t),n=!1},d(c){~e&&o[e].d(c),c&&_(a)}}}function Ne(r){let e,t,a=r[7]+"",n,l,o,s;function c(...f){return r[5](r[7],...f)}let p=r[0].componentsArray.filter(c),u=[];for(let f=0;f<p.length;f+=1)u[f]=De(Ee(r,p,f));const y=f=>L(u[f],1,1,()=>{u[f]=null});return{c(){e=O("section"),t=O("h1"),n=P(a),l=C();for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=G(f,"SECTION",{title:!0,class:!0});var m=B(e);t=G(m,"H1",{});var i=B(t);n=z(i,a),i.forEach(_),l=H(m);for(let h=0;h<u.length;h+=1)u[h].l(m);m.forEach(_),this.h()},h(){d(e,"title",o=r[7]),d(e,"class","svelte-r2srs5")},m(f,m){N(f,e,m),$(e,t),$(t,n),$(e,l);for(let i=0;i<u.length;i+=1)u[i].m(e,null);s=!0},p(f,m){if(r=f,(!s||m&8)&&a!==(a=r[7]+"")&&J(n,a),m&13){p=r[0].componentsArray.filter(c);let i;for(i=0;i<p.length;i+=1){const h=Ee(r,p,i);u[i]?(u[i].p(h,m),E(u[i],1)):(u[i]=De(h),u[i].c(),E(u[i],1),u[i].m(e,null))}for(q(),i=p.length;i<u.length;i+=1)y(i);Q()}(!s||m&8&&o!==(o=r[7]))&&d(e,"title",o)},i(f){if(!s){for(let m=0;m<p.length;m+=1)E(u[m]);s=!0}},o(f){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)L(u[m]);s=!1},d(f){f&&_(e),oe(u,f)}}}function Le(r){let e,t,a;return t=new _t({props:{distributionData:r[0].distributionData,component:r[0].componentsArray.find(Ce),data:r[0].areaBasedData,areas:r[0].areas,visibleAreas:r[2].map(He),countByGeoLevel:r[0].countByGeoLevel,countOfNulls:r[0].countOfNulls}}),{c(){e=O("section"),M(t.$$.fragment),this.h()},l(n){e=G(n,"SECTION",{title:!0,class:!0});var l=B(e);T(t.$$.fragment,l),l.forEach(_),this.h()},h(){d(e,"title","All indicators plot"),d(e,"class","svelte-r2srs5")},m(n,l){N(n,e,l),V(t,e,null),a=!0},p(n,l){const o={};l&1&&(o.distributionData=n[0].distributionData),l&1&&(o.component=n[0].componentsArray.find(Ce)),l&1&&(o.data=n[0].areaBasedData),l&1&&(o.areas=n[0].areas),l&4&&(o.visibleAreas=n[2].map(He)),l&1&&(o.countByGeoLevel=n[0].countByGeoLevel),l&1&&(o.countOfNulls=n[0].countOfNulls),t.$set(o)},i(n){a||(E(t.$$.fragment,n),a=!0)},o(n){L(t.$$.fragment,n),a=!1},d(n){n&&_(e),K(t)}}}function wt(r){let e;return{c(){e=P("Find parent, child and neighbouring areas")},l(t){e=z(t,"Find parent, child and neighbouring areas")},m(t,a){N(t,e,a)},d(t){t&&_(e)}}}function $t(r){let e,t,a,n,l,o,s,c=r[0].componentsArray.filter(Ie).length>0&r[1].localauthority==="Y",p,u,y,f,m,i,h,k,g,v,S;l=new ft({props:{keyIndicatorBlocks:r[0].keyIndicatorBlocks,data:r[0].areaBasedData,countByGeoLevel:r[0].countByGeoLevel,countOfNulls:r[0].countOfNulls}});let w=r[3],D=[];for(let b=0;b<w.length;b+=1)D[b]=Ne(Ae(r,w,b));const j=b=>L(D[b],1,1,()=>{D[b]=null});let I=c&&Le(r);return y=new it({props:{$$slots:{default:[wt]},$$scope:{ctx:r}}}),{c(){e=O("section"),t=O("h1"),a=P("Key indicators"),n=C(),M(l.$$.fragment),o=C();for(let b=0;b<D.length;b+=1)D[b].c();s=C(),I&&I.c(),p=C(),u=O("section"),M(y.$$.fragment),f=C(),m=O("section"),i=O("h2"),h=P("Get the data"),k=C(),g=O("p"),v=P("Here, you can find information and links to the data."),this.h()},l(b){e=G(b,"SECTION",{title:!0,class:!0});var A=B(e);t=G(A,"H1",{});var F=B(t);a=z(F,"Key indicators"),F.forEach(_),n=H(A),T(l.$$.fragment,A),A.forEach(_),o=H(b);for(let se=0;se<D.length;se+=1)D[se].l(b);s=H(b),I&&I.l(b),p=H(b),u=G(b,"SECTION",{title:!0,class:!0});var Z=B(u);T(y.$$.fragment,Z),Z.forEach(_),f=H(b),m=G(b,"SECTION",{title:!0,class:!0});var R=B(m);i=G(R,"H2",{class:!0});var x=B(i);h=z(x,"Get the data"),x.forEach(_),k=H(R),g=G(R,"P",{});var ce=B(g);v=z(ce,"Here, you can find information and links to the data."),ce.forEach(_),R.forEach(_),this.h()},h(){d(e,"title","Key indicators"),d(e,"class","svelte-r2srs5"),d(u,"title","Related areas"),d(u,"class","svelte-r2srs5"),d(i,"class","ons-u-mt-xl"),d(m,"title","Get the data"),d(m,"class","svelte-r2srs5")},m(b,A){N(b,e,A),$(e,t),$(t,a),$(e,n),V(l,e,null),N(b,o,A);for(let F=0;F<D.length;F+=1)D[F].m(b,A);N(b,s,A),I&&I.m(b,A),N(b,p,A),N(b,u,A),V(y,u,null),N(b,f,A),N(b,m,A),$(m,i),$(i,h),$(m,k),$(m,g),$(g,v),S=!0},p(b,A){const F={};if(A&1&&(F.keyIndicatorBlocks=b[0].keyIndicatorBlocks),A&1&&(F.data=b[0].areaBasedData),A&1&&(F.countByGeoLevel=b[0].countByGeoLevel),A&1&&(F.countOfNulls=b[0].countOfNulls),l.$set(F),A&13){w=b[3];let R;for(R=0;R<w.length;R+=1){const x=Ae(b,w,R);D[R]?(D[R].p(x,A),E(D[R],1)):(D[R]=Ne(x),D[R].c(),E(D[R],1),D[R].m(s.parentNode,s))}for(q(),R=w.length;R<D.length;R+=1)j(R);Q()}A&3&&(c=b[0].componentsArray.filter(Ie).length>0&b[1].localauthority==="Y"),c?I?(I.p(b,A),A&3&&E(I,1)):(I=Le(b),I.c(),E(I,1),I.m(p.parentNode,p)):I&&(q(),L(I,1,1,()=>{I=null}),Q());const Z={};A&4096&&(Z.$$scope={dirty:A,ctx:b}),y.$set(Z)},i(b){if(!S){E(l.$$.fragment,b);for(let A=0;A<w.length;A+=1)E(D[A]);E(I),E(y.$$.fragment,b),S=!0}},o(b){L(l.$$.fragment,b),D=D.filter(Boolean);for(let A=0;A<D.length;A+=1)L(D[A]);L(I),L(y.$$.fragment,b),S=!1},d(b){b&&_(e),K(l),b&&_(o),oe(D,b),b&&_(s),I&&I.d(b),b&&_(p),b&&_(u),K(y),b&&_(f),b&&_(m)}}}function At(r){let e,t,a=r[1]&&Be(r);return{c(){a&&a.c(),e=U()},l(n){a&&a.l(n),e=U()},m(n,l){a&&a.m(n,l),N(n,e,l),t=!0},p(n,[l]){n[1]?a?(a.p(n,l),l&2&&E(a,1)):(a=Be(n),a.c(),E(a,1),a.m(e.parentNode,e)):a&&(q(),L(a,1,1,()=>{a=null}),Q())},i(n){t||(E(a),t=!0)},o(n){L(a),t=!1},d(n){a&&a.d(n),n&&_(e)}}}const Ie=r=>r.type==="multi-scatter",Oe=r=>r.value!=="NA",Ge=r=>({...r}),Se=r=>r.value!=="NA",Re=r=>({...r}),Ce=r=>r.type==="multi-scatter",He=r=>({...r});function Et(r,e,t){let a,n,l,o;fe(r,at,u=>t(4,l=u)),fe(r,Me,u=>t(1,o=u));let{data:s}=e;const c=(u,y,f)=>y.section===u,p=(u,y)=>y.value!=="NA"&y.year==u.indicator.years[1];return r.$$set=u=>{"data"in u&&t(0,s=u.data)},r.$$.update=()=>{r.$$.dirty&2&&console.log(o),r.$$.dirty&1&&t(3,a=[...new Set(s.componentsArray.filter(u=>u.type!=="multi-scatter").map(u=>u.section))]),r.$$.dirty&19&&t(2,n=tt(o,l,s.areas))},[s,o,n,a,l,c,p]}class Rt extends te{constructor(e){super(),ae(this,e,Et,At,re,{data:0})}}export{Rt as component};
