//js
import{S as Ae,i as pe,s as ye,F as W,a as ie,e as le,q as be,G as L,m as k,h as g,c as ne,r as ve,n as u,b as N,H as R,X as Ze,u as we,L as ae,C as Be,Y as qe,O as Pe,R as bt,k as U,l as Q,Z as lt,_ as vt,g as C,v as me,f as ge,d as P,Q as Ie,w as fe,$ as ue,y as x,z as $,A as ee,a0 as he,B as te,p as He,a1 as Hi,a2 as fn,a3 as Wt,a4 as un,N as Ne,W as hn,E as qi,I as Gi,J as Zi,K as Yi,a5 as Lt,o as Xi}from"../chunks/index.1452ad3d.js";import{b as ot}from"../chunks/paths.c4df6ea8.js";import"../chunks/Table.svelte_svelte_type_style_lang.a6c63894.js";import{B as cn,T as dn,S as _n}from"../chunks/Subhead.0a304933.js";import{N as kt,a as mn}from"../chunks/NavSections.ecf0a3e4.js";import"../chunks/index.6ae84391.js";import{A as gn}from"../chunks/AreaNav.ef3fae9b.js";import{c as oe,m as bn}from"../chunks/config.d5314ff0.js";import{a as Te,r as ze,h as vn,s as ji,c as An}from"../chunks/utils.5a4445d2.js";import{f as pn,e as tt,a as yn}from"../chunks/functions.97df77cc.js";var st,Ki,Ui;kn({thousands:",",grouping:[3],currency:["$",""]});function kn(t){return st=pn(t),Ki=st.format,Ui=st.formatPrefix,st}function wn(t){return Math.max(0,-tt(Math.abs(t)))}function In(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tt(e)/3)))*3-tt(Math.abs(t)))}function Dn(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tt(e)-tt(t))+1}function ht(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rn(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qi(t){let e,r,i;t.length!==2?(e=ht,r=(o,s)=>ht(t(o),s),i=(o,s)=>t(o)-s):(e=t===ht||t===Rn?t:Cn,r=t,i=t);function n(o,s,f=0,h=o.length){if(f<h){if(e(s,s)!==0)return h;do{const c=f+h>>>1;r(o[c],s)<0?f=c+1:h=c}while(f<h)}return f}function a(o,s,f=0,h=o.length){if(f<h){if(e(s,s)!==0)return h;do{const c=f+h>>>1;r(o[c],s)<=0?f=c+1:h=c}while(f<h)}return f}function l(o,s,f=0,h=o.length){const c=n(o,s,f,h-1);return c>f&&i(o[c-1],s)>-i(o[c],s)?c-1:c}return{left:n,center:l,right:a}}function Cn(){return 0}function En(t){return t===null?NaN:+t}const Mn=Qi(ht),Nn=Mn.right;Qi(En).center;const Pn=Nn,Tn=Math.sqrt(50),Wn=Math.sqrt(10),Ln=Math.sqrt(2);function ct(t,e,r){const i=(e-t)/Math.max(0,r),n=Math.floor(Math.log10(i)),a=i/Math.pow(10,n),l=a>=Tn?10:a>=Wn?5:a>=Ln?2:1;let o,s,f;return n<0?(f=Math.pow(10,-n)/l,o=Math.round(t*f),s=Math.round(e*f),o/f<t&&++o,s/f>e&&--s,f=-f):(f=Math.pow(10,n)*l,o=Math.round(t/f),s=Math.round(e/f),o*f<t&&++o,s*f>e&&--s),s<o&&.5<=r&&r<2?ct(t,e,r*2):[o,s,f]}function Bn(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const i=e<t,[n,a,l]=i?ct(e,t,r):ct(t,e,r);if(!(a>=n))return[];const o=a-n+1,s=new Array(o);if(i)if(l<0)for(let f=0;f<o;++f)s[f]=(a-f)/-l;else for(let f=0;f<o;++f)s[f]=(a-f)*l;else if(l<0)for(let f=0;f<o;++f)s[f]=(n+f)/-l;else for(let f=0;f<o;++f)s[f]=(n+f)*l;return s}function wt(t,e,r){return e=+e,t=+t,r=+r,ct(t,e,r)[2]}function On(t,e,r){e=+e,t=+t,r=+r;const i=e<t,n=i?wt(e,t,r):wt(t,e,r);return(i?-1:1)*(n<0?1/-n:n)}function Sn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Nt(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Ji(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function at(){}var rt=.7,dt=1/rt,Je="\\s*([+-]?\\d+)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vn=/^#([0-9a-f]{3,8})$/,zn=new RegExp(`^rgb\\(${Je},${Je},${Je}\\)$`),Fn=new RegExp(`^rgb\\(${Fe},${Fe},${Fe}\\)$`),Hn=new RegExp(`^rgba\\(${Je},${Je},${Je},${it}\\)$`),qn=new RegExp(`^rgba\\(${Fe},${Fe},${Fe},${it}\\)$`),Gn=new RegExp(`^hsl\\(${it},${Fe},${Fe}\\)$`),Zn=new RegExp(`^hsla\\(${it},${Fe},${Fe},${it}\\)$`),Bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nt(at,nt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHex8:Yn,formatHsl:Xn,formatRgb:St,toString:St});function Ot(){return this.rgb().formatHex()}function Yn(){return this.rgb().formatHex8()}function Xn(){return xi(this).formatHsl()}function St(){return this.rgb().formatRgb()}function nt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Vn.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Vt(e):r===3?new Oe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ft(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ft(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zn.exec(t))?new Oe(e[1],e[2],e[3],1):(e=Fn.exec(t))?new Oe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hn.exec(t))?ft(e[1],e[2],e[3],e[4]):(e=qn.exec(t))?ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gn.exec(t))?Ht(e[1],e[2]/100,e[3]/100,1):(e=Zn.exec(t))?Ht(e[1],e[2]/100,e[3]/100,e[4]):Bt.hasOwnProperty(t)?Vt(Bt[t]):t==="transparent"?new Oe(NaN,NaN,NaN,0):null}function Vt(t){return new Oe(t>>16&255,t>>8&255,t&255,1)}function ft(t,e,r,i){return i<=0&&(t=e=r=NaN),new Oe(t,e,r,i)}function jn(t){return t instanceof at||(t=nt(t)),t?(t=t.rgb(),new Oe(t.r,t.g,t.b,t.opacity)):new Oe}function It(t,e,r,i){return arguments.length===1?jn(t):new Oe(t,e,r,i??1)}function Oe(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}Nt(Oe,It,Ji(at,{brighter(t){return t=t==null?dt:Math.pow(dt,t),new Oe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rt:Math.pow(rt,t),new Oe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Oe(Ke(this.r),Ke(this.g),Ke(this.b),_t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zt,formatHex:zt,formatHex8:Kn,formatRgb:Ft,toString:Ft}));function zt(){return`#${je(this.r)}${je(this.g)}${je(this.b)}`}function Kn(){return`#${je(this.r)}${je(this.g)}${je(this.b)}${je((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ft(){const t=_t(this.opacity);return`${t===1?"rgb(":"rgba("}${Ke(this.r)}, ${Ke(this.g)}, ${Ke(this.b)}${t===1?")":`, ${t})`}`}function _t(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ke(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function je(t){return t=Ke(t),(t<16?"0":"")+t.toString(16)}function Ht(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ve(t,e,r,i)}function xi(t){if(t instanceof Ve)return new Ve(t.h,t.s,t.l,t.opacity);if(t instanceof at||(t=nt(t)),!t)return new Ve;if(t instanceof Ve)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,n=Math.min(e,r,i),a=Math.max(e,r,i),l=NaN,o=a-n,s=(a+n)/2;return o?(e===a?l=(r-i)/o+(r<i)*6:r===a?l=(i-e)/o+2:l=(e-r)/o+4,o/=s<.5?a+n:2-a-n,l*=60):o=s>0&&s<1?0:l,new Ve(l,o,s,t.opacity)}function Un(t,e,r,i){return arguments.length===1?xi(t):new Ve(t,e,r,i??1)}function Ve(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}Nt(Ve,Un,Ji(at,{brighter(t){return t=t==null?dt:Math.pow(dt,t),new Ve(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rt:Math.pow(rt,t),new Ve(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,n=2*r-i;return new Oe(pt(t>=240?t-240:t+120,n,i),pt(t,n,i),pt(t<120?t+240:t-120,n,i),this.opacity)},clamp(){return new Ve(qt(this.h),ut(this.s),ut(this.l),_t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_t(this.opacity);return`${t===1?"hsl(":"hsla("}${qt(this.h)}, ${ut(this.s)*100}%, ${ut(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qt(t){return t=(t||0)%360,t<0?t+360:t}function ut(t){return Math.max(0,Math.min(1,t||0))}function pt(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Pt=t=>()=>t;function Qn(t,e){return function(r){return t+r*e}}function Jn(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function xn(t){return(t=+t)==1?$i:function(e,r){return r-e?Jn(e,r,t):Pt(isNaN(e)?r:e)}}function $i(t,e){var r=e-t;return r?Qn(t,r):Pt(isNaN(t)?e:t)}const Gt=function t(e){var r=xn(e);function i(n,a){var l=r((n=It(n)).r,(a=It(a)).r),o=r(n.g,a.g),s=r(n.b,a.b),f=$i(n.opacity,a.opacity);return function(h){return n.r=l(h),n.g=o(h),n.b=s(h),n.opacity=f(h),n+""}}return i.gamma=t,i}(1);function $n(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,i=e.slice(),n;return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function el(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tl(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0,n=new Array(i),a=new Array(r),l;for(l=0;l<i;++l)n[l]=Tt(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(o){for(l=0;l<i;++l)a[l]=n[l](o);return a}}function rl(t,e){var r=new Date;return t=+t,e=+e,function(i){return r.setTime(t*(1-i)+e*i),r}}function mt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function il(t,e){var r={},i={},n;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in t?r[n]=Tt(t[n],e[n]):i[n]=e[n];return function(a){for(n in r)i[n]=r[n](a);return i}}var Dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yt=new RegExp(Dt.source,"g");function nl(t){return function(){return t}}function ll(t){return function(e){return t(e)+""}}function al(t,e){var r=Dt.lastIndex=yt.lastIndex=0,i,n,a,l=-1,o=[],s=[];for(t=t+"",e=e+"";(i=Dt.exec(t))&&(n=yt.exec(e));)(a=n.index)>r&&(a=e.slice(r,a),o[l]?o[l]+=a:o[++l]=a),(i=i[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,s.push({i:l,x:mt(i,n)})),r=yt.lastIndex;return r<e.length&&(a=e.slice(r),o[l]?o[l]+=a:o[++l]=a),o.length<2?s[0]?ll(s[0].x):nl(e):(e=s.length,function(f){for(var h=0,c;h<e;++h)o[(c=s[h]).i]=c.x(f);return o.join("")})}function Tt(t,e){var r=typeof e,i;return e==null||r==="boolean"?Pt(e):(r==="number"?mt:r==="string"?(i=nt(e))?(e=i,Gt):al:e instanceof nt?Gt:e instanceof Date?rl:el(e)?$n:Array.isArray(e)?tl:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?il:mt)(t,e)}function ol(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function sl(t){return function(){return t}}function fl(t){return+t}var Zt=[0,1];function Qe(t){return t}function Rt(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:sl(isNaN(e)?NaN:.5)}function ul(t,e){var r;return t>e&&(r=t,t=e,e=r),function(i){return Math.max(t,Math.min(e,i))}}function hl(t,e,r){var i=t[0],n=t[1],a=e[0],l=e[1];return n<i?(i=Rt(n,i),a=r(l,a)):(i=Rt(i,n),a=r(a,l)),function(o){return a(i(o))}}function cl(t,e,r){var i=Math.min(t.length,e.length)-1,n=new Array(i),a=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)n[l]=Rt(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(o){var s=Pn(t,o,1,i)-1;return a[s](n[s](o))}}function dl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _l(){var t=Zt,e=Zt,r=Tt,i,n,a,l=Qe,o,s,f;function h(){var _=Math.min(t.length,e.length);return l!==Qe&&(l=ul(t[0],t[_-1])),o=_>2?cl:hl,s=f=null,c}function c(_){return _==null||isNaN(_=+_)?a:(s||(s=o(t.map(i),e,r)))(i(l(_)))}return c.invert=function(_){return l(n((f||(f=o(e,t.map(i),mt)))(_)))},c.domain=function(_){return arguments.length?(t=Array.from(_,fl),h()):t.slice()},c.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},c.rangeRound=function(_){return e=Array.from(_),r=ol,h()},c.clamp=function(_){return arguments.length?(l=_?!0:Qe,h()):l!==Qe},c.interpolate=function(_){return arguments.length?(r=_,h()):r},c.unknown=function(_){return arguments.length?(a=_,c):a},function(_,d){return i=_,n=d,h()}}function ml(){return _l()(Qe,Qe)}function gl(t,e,r,i){var n=On(t,e,r),a;switch(i=yn(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=In(n,l))&&(i.precision=a),Ui(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Dn(n,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=wn(n))&&(i.precision=a-(i.type==="%")*2);break}}return Ki(i)}function bl(t){var e=t.domain;return t.ticks=function(r){var i=e();return Bn(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var n=e();return gl(n[0],n[n.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=e(),n=0,a=i.length-1,l=i[n],o=i[a],s,f,h=10;for(o<l&&(f=l,l=o,o=f,f=n,n=a,a=f);h-- >0;){if(f=wt(l,o,r),f===s)return i[n]=l,i[a]=o,e(i);if(f>0)l=Math.floor(l/f)*f,o=Math.ceil(o/f)*f;else if(f<0)l=Math.ceil(l*f)/f,o=Math.floor(o*f)/f;else break;s=f}return t},t}function Ge(){var t=ml();return t.copy=function(){return dl(t,Ge())},Sn.apply(t,arguments),bl(t)}class Ct{constructor(e,r,i){this.items=e,this.diameter=r*2,this.diameterSq=this.diameter*this.diameter,this.xFun=i,this.tieBreakFn=n=>n,this._oneSided=!1}withTiesBrokenRandomly(){return this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this}oneSided(){return this._oneSided=!0,this}calculateYPositions(){let e=this.items.map((n,a)=>({datum:n,originalIndex:a,x:this.xFun(n),y:null,placed:!1,minPositiveY:0,maxNegativeY:0,score:0,bestPosition:0,heapPos:-1})).sort((n,a)=>n.x-a.x);e.forEach(function(n,a){n.index=a});let r=this.tieBreakFn;e.forEach(function(n){n.tieBreaker=r(n.x)});let i=new vl;for(i.push(...e);!i.isEmpty();){let n=i.pop();n.placed=!0,n.y=n.bestPosition,this._updateYBounds(n,e,i)}return e.sort((n,a)=>n.originalIndex-a.originalIndex),e.map(n=>({datum:n.datum,x:n.x,y:n.y}))}_sfc32(e,r,i,n){let a=function(){e>>>=0,r>>>=0,i>>>=0,n>>>=0;var l=e+r|0;return e=r^r>>>9,r=i+(i<<3)|0,i=i<<21|i>>>11,n=n+1|0,l=l+n|0,i=i+l|0,(l>>>0)/4294967296};for(let l=0;l<10;l++)a();return a}_updateYBounds(e,r,i){for(let n of[-1,1]){let a;for(let l=e.index+n;l>=0&&l<r.length&&(a=Math.abs(e.x-r[l].x))<this.diameter;l+=n){let o=r[l];if(o.placed)continue;let s=Math.sqrt(this.diameterSq-a*a);o.minPositiveY=Math.max(o.minPositiveY,e.y+s);let f=o.score;o.score=o.minPositiveY,o.bestPosition=o.minPositiveY,this._oneSided||(o.maxNegativeY=Math.min(o.maxNegativeY,e.y-s),-o.maxNegativeY<o.score&&(o.score=-o.maxNegativeY,o.bestPosition=o.maxNegativeY)),o.score>f&&i.deprioritise(o)}}}}class vl{parent(e){return(e+1>>>1)-1}left(e){return(e<<1)+1}right(e){return e+1<<1}constructor(){this.TOP=0,this._heap=[]}size(){return this._heap.length}isEmpty(){return this.size()==0}peek(){return this._heap[this.TOP]}push(...e){return e.forEach(r=>{r.heapPos=this.size(),this._heap.push(r),this._siftUp()}),this.size()}pop(){const e=this.peek(),r=this.size()-1;return r>this.TOP&&this._swap(this.TOP,r),this._heap.pop(),this._siftDown(),e}deprioritise(e){this._siftDown(e.heapPos)}_greater(e,r){let i=this._heap[e],n=this._heap[r];return i.score<n.score?!0:i.score>n.score?!1:i.tieBreaker<n.tieBreaker}_swap(e,r){let i=this._heap[e];this._heap[e]=this._heap[r],this._heap[r]=i,this._heap[e].heapPos=e,this._heap[r].heapPos=r}_siftUp(){let e=this.size()-1;for(;e>this.TOP&&this._greater(e,this.parent(e));)this._swap(e,this.parent(e)),e=this.parent(e)}_siftDown(e=this.TOP){let r,i,n=this.size();for(;r=this.left(e),i=this.right(e),r<n&&this._greater(r,e)||i<n&&this._greater(i,e);){let a=i<n&&this._greater(i,r)?i:r;this._swap(e,a),e=a}}}function Yt(t){let e,r,i=t[6].find(t[7]).areanm+"",n,a,l=t[4]&&Xt(t);return{c(){l&&l.c(),e=W("g"),r=W("text"),n=be(i),this.h()},l(o){l&&l.l(o),e=L(o,"g",{});var s=k(e);r=L(s,"text",{y:!0,x:!0,"text-anchor":!0,fill:!0,"pointer-events":!0});var f=k(r);n=ve(f,i),f.forEach(g),s.forEach(g),this.h()},h(){u(r,"y","25"),u(r,"x","-15"),u(r,"text-anchor","end"),u(r,"fill",oe.selected.contrast),u(r,"pointer-events","none")},m(o,s){l&&l.m(o,s),N(o,e,s),R(e,r),R(r,n),a=Ze.observe(e,t[8].bind(e))},p(o,s){o[4]?l?l.p(o,s):(l=Xt(o),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s&1&&i!==(i=o[6].find(o[7]).areanm+"")&&we(n,i)},d(o){l&&l.d(o),o&&g(e),a()}}}function Xt(t){let e,r,i,n,a;return{c(){e=W("rect"),this.h()},l(l){e=L(l,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,"pointer-events":!0,fill:!0}),k(e).forEach(g),this.h()},h(){u(e,"x",r=-17-t[4].width),u(e,"width",i=t[4].width+6),u(e,"y",n=t[4].y+7),u(e,"height",a=t[4].height),u(e,"rx","2px"),u(e,"stroke","none"),u(e,"pointer-events","none"),u(e,"fill",oe.selected.color)},m(l,o){N(l,e,o)},p(l,o){o&16&&r!==(r=-17-l[4].width)&&u(e,"x",r),o&16&&i!==(i=l[4].width+6)&&u(e,"width",i),o&16&&n!==(n=l[4].y+7)&&u(e,"y",n),o&16&&a!==(a=l[4].height)&&u(e,"height",a)},d(l){l&&g(e)}}}function jt(t){let e,r,i,n;return{c(){e=W("rect"),this.h()},l(a){e=L(a,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,"pointer-events":!0,fill:!0}),k(e).forEach(g),this.h()},h(){u(e,"x",10),u(e,"width",r=t[5].width+6),u(e,"y",i=t[5].y-28),u(e,"height",n=t[5].height),u(e,"rx","2px"),u(e,"stroke","none"),u(e,"pointer-events","none"),u(e,"fill",oe.selected.color)},m(a,l){N(a,e,l)},p(a,l){l&32&&r!==(r=a[5].width+6)&&u(e,"width",r),l&32&&i!==(i=a[5].y-28)&&u(e,"y",i),l&32&&n!==(n=a[5].height)&&u(e,"height",n)},d(a){a&&g(e)}}}function Al(t){let e,r,i,n,a,l,o,s,f=t[2].metadata.prefix+Te(ze(t[0].datum.value,t[2].metadata.decimalPlaces))+t[2].metadata.suffix+"",h,c,_,d=t[3]&&Yt(t),m=t[5]&&jt(t);return{c(){e=W("circle"),n=ie(),a=W("g"),d&&d.c(),l=le(),m&&m.c(),o=W("g"),s=W("text"),h=be(f),this.h()},l(b){e=L(b,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,opaci:!0,fill:!0,"pointer-events":!0}),k(e).forEach(g),n=ne(b),a=L(b,"g",{transform:!0});var v=k(a);d&&d.l(v),l=le(),m&&m.l(v),o=L(v,"g",{});var w=k(o);s=L(w,"text",{y:!0,x:!0,"text-anchor":!0,fill:!0,"pointer-events":!0});var D=k(s);h=ve(D,f),D.forEach(g),w.forEach(g),v.forEach(g),this.h()},h(){u(e,"cx",r=t[0].x),u(e,"cy",i=t[1](t[0].y)),u(e,"r","8"),u(e,"stroke","white"),u(e,"opaci",""),u(e,"fill",oe.selected.color),u(e,"pointer-events","none"),u(s,"y","-10"),u(s,"x","13"),u(s,"text-anchor","start"),u(s,"fill",oe.selected.contrast),u(s,"pointer-events","none"),u(a,"transform",_="translate("+t[0].x+","+t[1](t[0].y)+")")},m(b,v){N(b,e,v),N(b,n,v),N(b,a,v),d&&d.m(a,null),R(a,l),m&&m.m(a,null),R(a,o),R(o,s),R(s,h),c=Ze.observe(o,t[9].bind(o))},p(b,[v]){v&1&&r!==(r=b[0].x)&&u(e,"cx",r),v&3&&i!==(i=b[1](b[0].y))&&u(e,"cy",i),b[3]?d?d.p(b,v):(d=Yt(b),d.c(),d.m(a,l)):d&&(d.d(1),d=null),b[5]?m?m.p(b,v):(m=jt(b),m.c(),m.m(a,o)):m&&(m.d(1),m=null),v&5&&f!==(f=b[2].metadata.prefix+Te(ze(b[0].datum.value,b[2].metadata.decimalPlaces))+b[2].metadata.suffix+"")&&we(h,f),v&3&&_!==(_="translate("+b[0].x+","+b[1](b[0].y)+")")&&u(a,"transform",_)},i:ae,o:ae,d(b){b&&g(e),b&&g(n),b&&g(a),d&&d.d(),m&&m.d(),c()}}}function pl(t,e,r){let{circle:i,y:n,selectedIndicator:a,hoverIndicatorBoolean:l=!0}=e,o,s,f=Be("areasArray");const h=d=>d.areacd===i.datum.areacd;function c(){var d;o=(d=qe.entries.get(this))==null?void 0:d.contentRect,r(4,o)}function _(){var d;s=(d=qe.entries.get(this))==null?void 0:d.contentRect,r(5,s)}return t.$$set=d=>{"circle"in d&&r(0,i=d.circle),"y"in d&&r(1,n=d.y),"selectedIndicator"in d&&r(2,a=d.selectedIndicator),"hoverIndicatorBoolean"in d&&r(3,l=d.hoverIndicatorBoolean)},console.log("hello"),[i,n,a,l,o,s,f,h,c,_]}let en=class extends Ae{constructor(e){super(),pe(this,e,pl,Al,ye,{circle:0,y:1,selectedIndicator:2,hoverIndicatorBoolean:3})}};function yl(t){let e,r,i,n,a,l,o,s,f,h;return{c(){e=W("circle"),a=ie(),l=W("circle"),this.h()},l(c){e=L(c,"circle",{cx:!0,cy:!0,r:!0,"fill-opacity":!0,"stroke-opacity":!0,stroke:!0,fill:!0,opacity:!0}),k(e).forEach(g),a=ne(c),l=L(c,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,opacity:!0}),k(l).forEach(g),this.h()},h(){u(e,"cx",r=t[2].x),u(e,"cy",i=t[3](t[2].y)),u(e,"r","7"),u(e,"fill-opacity",t[0]),u(e,"stroke-opacity",t[5]),u(e,"stroke",t[4]),u(e,"fill","#888a8f"),u(e,"opacity",n=t[1]?.8:1),u(l,"cx",o=t[2].x),u(l,"cy",s=t[3](t[2].y)),u(l,"r","8"),u(l,"stroke","none"),u(l,"fill","#888a8f"),u(l,"opacity","0")},m(c,_){N(c,e,_),N(c,a,_),N(c,l,_),f||(h=[Pe(l,"mouseenter",t[6]),Pe(l,"mouseleave",t[7])],f=!0)},p(c,[_]){_&4&&r!==(r=c[2].x)&&u(e,"cx",r),_&12&&i!==(i=c[3](c[2].y))&&u(e,"cy",i),_&1&&u(e,"fill-opacity",c[0]),_&32&&u(e,"stroke-opacity",c[5]),_&16&&u(e,"stroke",c[4]),_&2&&n!==(n=c[1]?.8:1)&&u(e,"opacity",n),_&4&&o!==(o=c[2].x)&&u(l,"cx",o),_&12&&s!==(s=c[3](c[2].y))&&u(l,"cy",s)},i:ae,o:ae,d(c){c&&g(e),c&&g(a),c&&g(l),f=!1,bt(h)}}}function kl(t,e,r){let i,n,{circle:a,y:l,index:o,length:s,hoverId:f,fillOpacity:h=.35,hoverIndicatorId:c=null,indicatorCode:_=null}=e;const d=()=>{r(1,f=a.datum.areacd),r(8,c=_)},m=()=>{r(1,f=void 0),r(8,c=void 0)};return t.$$set=b=>{"circle"in b&&r(2,a=b.circle),"y"in b&&r(3,l=b.y),"index"in b&&r(9,o=b.index),"length"in b&&r(10,s=b.length),"hoverId"in b&&r(1,f=b.hoverId),"fillOpacity"in b&&r(0,h=b.fillOpacity),"hoverIndicatorId"in b&&r(8,c=b.hoverIndicatorId),"indicatorCode"in b&&r(11,_=b.indicatorCode)},t.$$.update=()=>{t.$$.dirty&1537&&r(0,h=s*.9<o?.5:h),t.$$.dirty&1536&&r(5,i=(s*.9<o,.5)),t.$$.dirty&1536&&r(4,n=s*.9<o?"#5a5e63":s*.8<o?"#6f747a":s*.6<o?"#8c9096":"none")},[h,f,a,l,n,i,d,m,c,o,s,_]}class tn extends Ae{constructor(e){super(),pe(this,e,kl,yl,ye,{circle:2,y:3,index:9,length:10,hoverId:1,fillOpacity:0,hoverIndicatorId:8,indicatorCode:11})}}function Kt(t,e,r){const i=t.slice();return i[29]=e[r],i[31]=r,i}function Ut(t,e,r){const i=t.slice();return i[29]=e[r],i}function Qt(t,e,r){const i=t.slice();return i[29]=e[r],i[31]=r,i}function Jt(t){let e,r,i,n;function a(s){t[22](s)}function l(s){t[23](s)}let o={indicatorCode:t[2].code,length:t[7].length,index:t[31],circle:t[29],y:t[13],fillOpacity:"0.25"};return t[1]!==void 0&&(o.hoverIndicatorId=t[1]),t[0]!==void 0&&(o.hoverId=t[0]),e=new tn({props:o}),fe.push(()=>ue(e,"hoverIndicatorId",a)),fe.push(()=>ue(e,"hoverId",l)),{c(){x(e.$$.fragment)},l(s){$(e.$$.fragment,s)},m(s,f){ee(e,s,f),n=!0},p(s,f){const h={};f[0]&4&&(h.indicatorCode=s[2].code),f[0]&128&&(h.length=s[7].length),f[0]&128&&(h.circle=s[29]),f[0]&8192&&(h.y=s[13]),!r&&f[0]&2&&(r=!0,h.hoverIndicatorId=s[1],he(()=>r=!1)),!i&&f[0]&1&&(i=!0,h.hoverId=s[0],he(()=>i=!1)),e.$set(h)},i(s){n||(C(e.$$.fragment,s),n=!0)},o(s){P(e.$$.fragment,s),n=!1},d(s){te(e,s)}}}function xt(t){let e,r,i;return{c(){e=W("rect"),this.h()},l(n){e=L(n,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,rx:!0}),k(e).forEach(g),this.h()},h(){u(e,"x",r=-t[11].width/2-3),u(e,"y",8),u(e,"width",i=t[11].width+6),u(e,"height","24"),u(e,"stroke","none"),u(e,"fill",oe.median.color),u(e,"rx","2px")},m(n,a){N(n,e,a)},p(n,a){a[0]&2048&&r!==(r=-n[11].width/2-3)&&u(e,"x",r),a[0]&2048&&i!==(i=n[11].width+6)&&u(e,"width",i)},d(n){n&&g(e)}}}function $t(t){let e,r=t[7].filter(t[25]),i=[];for(let n=0;n<r.length;n+=1)i[n]=tr(Ut(t,r,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=le()},l(n){for(let a=0;a<i.length;a+=1)i[a].l(n);e=le()},m(n,a){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(n,a);N(n,e,a)},p(n,a){if(a[0]&6860){r=n[7].filter(n[25]);let l;for(l=0;l<r.length;l+=1){const o=Ut(n,r,l);i[l]?i[l].p(o,a):(i[l]=tr(o),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},d(n){Ie(i,n),n&&g(e)}}}function er(t){let e,r,i;return{c(){e=W("rect"),this.h()},l(n){e=L(n,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,rx:!0}),k(e).forEach(g),this.h()},h(){u(e,"x",r=-t[12].width/2-3),u(e,"y",3),u(e,"width",i=t[12].width+6),u(e,"height","31"),u(e,"stroke","none"),u(e,"fill",oe.main.color),u(e,"rx","2px")},m(n,a){N(n,e,a)},p(n,a){a[0]&4096&&r!==(r=-n[12].width/2-3)&&u(e,"x",r),a[0]&4096&&i!==(i=n[12].width+6)&&u(e,"width",i)},d(n){n&&g(e)}}}function tr(t){let e,r,i,n,a,l,o,s,f=t[2].metadata.prefix+Te(ze(t[29].datum.value,t[2].metadata.decimalPlaces))+t[2].metadata.suffix+"",h,c,_,d=t[12]&&er(t);return{c(){e=W("circle"),i=W("path"),a=W("path"),o=W("g"),d&&d.c(),s=W("text"),h=be(f),this.h()},l(m){e=L(m,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),k(e).forEach(g),i=L(m,"path",{stroke:!0,fill:!0,d:!0,"pointer-events":!0}),k(i).forEach(g),a=L(m,"path",{fill:!0,stroke:!0,d:!0,"stroke-width":!0,"pointer-events":!0}),k(a).forEach(g),o=L(m,"g",{transform:!0});var b=k(o);d&&d.l(b),s=L(b,"text",{"font-size":!0,fill:!0,y:!0,"text-anchor":!0});var v=k(s);h=ve(v,f),v.forEach(g),b.forEach(g),this.h()},h(){u(e,"cx",r=t[29].x),u(e,"cy",t[6]),u(e,"r","10"),u(e,"stroke","white"),u(e,"stroke-width","1.5px"),u(e,"fill",oe.main.color),u(i,"stroke","none"),u(i,"fill",oe.main.color),u(i,"d",n="M "+t[29].x+" "+(t[6]-13)+" l-6 -6 l12 0 z"),u(i,"pointer-events","none"),u(a,"fill","none"),u(a,"stroke",oe.main.color),u(a,"d",l="M "+t[29].x+" "+(t[6]-15)+" l0 -40 L"+(t[9]/2<t[29].x?10+Math.max(t[29].x,t[9]/2+t[11].width+(t[12]?t[12].width/2:0)):-10+Math.min(t[29].x,t[9]/2-t[11].width-(t[12]?t[12].width/2:0)))+" "+(t[6]-55)+" l0 -10"),u(a,"stroke-width","3px"),u(a,"pointer-events","none"),u(s,"font-size","28px"),u(s,"fill","white"),u(s,"y","28"),u(s,"text-anchor","middle"),u(o,"transform",_="translate("+(t[9]/2<t[29].x?10+Math.max(t[29].x,t[9]/2+t[11].width+(t[12]?t[12].width/2:0)):-10+Math.min(t[29].x,t[9]/2-t[11].width-(t[12]?t[12].width/2:0)))+",-40)")},m(m,b){N(m,e,b),N(m,i,b),N(m,a,b),N(m,o,b),d&&d.m(o,null),R(o,s),R(s,h),c=Ze.observe(s,t[26].bind(s))},p(m,b){b[0]&136&&r!==(r=m[29].x)&&u(e,"cx",r),b[0]&64&&u(e,"cy",m[6]),b[0]&200&&n!==(n="M "+m[29].x+" "+(m[6]-13)+" l-6 -6 l12 0 z")&&u(i,"d",n),b[0]&6856&&l!==(l="M "+m[29].x+" "+(m[6]-15)+" l0 -40 L"+(m[9]/2<m[29].x?10+Math.max(m[29].x,m[9]/2+m[11].width+(m[12]?m[12].width/2:0)):-10+Math.min(m[29].x,m[9]/2-m[11].width-(m[12]?m[12].width/2:0)))+" "+(m[6]-55)+" l0 -10")&&u(a,"d",l),m[12]?d?d.p(m,b):(d=er(m),d.c(),d.m(o,s)):d&&(d.d(1),d=null),b[0]&140&&f!==(f=m[2].metadata.prefix+Te(ze(m[29].datum.value,m[2].metadata.decimalPlaces))+m[2].metadata.suffix+"")&&we(h,f),b[0]&6792&&_!==(_="translate("+(m[9]/2<m[29].x?10+Math.max(m[29].x,m[9]/2+m[11].width+(m[12]?m[12].width/2:0)):-10+Math.min(m[29].x,m[9]/2-m[11].width-(m[12]?m[12].width/2:0)))+",-40)")&&u(o,"transform",_)},d(m){m&&g(e),m&&g(i),m&&g(a),m&&g(o),d&&d.d(),c()}}}function rr(t){let e,r;return e=new en({props:{hoverIndicatorBoolean:t[1]===t[2].code,selectedIndicator:t[2],circle:t[29],y:t[13]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&6&&(a.hoverIndicatorBoolean=i[1]===i[2].code),n[0]&4&&(a.selectedIndicator=i[2]),n[0]&129&&(a.circle=i[29]),n[0]&8192&&(a.y=i[13]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function wl(t){let e,r,i,n,a,l,o,s,f,h,c,_=t[2].metadata.prefix+Te(ze(t[4].med,t[2].metadata.decimalPlaces))+t[2].metadata.suffix+"",d,m,b,v,w,D,z,T,F=t[7],p=[];for(let M=0;M<F.length;M+=1)p[M]=Jt(Qt(t,F,M));const I=M=>P(p[M],1,1,()=>{p[M]=null});let y=t[11]&&xt(t),A=t[11]&&$t(t),B=t[7].filter(t[27]),Z=[];for(let M=0;M<B.length;M+=1)Z[M]=rr(Kt(t,B,M));const H=M=>P(Z[M],1,1,()=>{Z[M]=null});return{c(){e=U("div"),r=W("svg"),i=W("g"),n=W("g");for(let M=0;M<p.length;M+=1)p[M].c();a=W("g"),l=W("line"),h=W("g"),y&&y.c(),c=W("text"),d=be(_),A&&A.c(),w=W("g");for(let M=0;M<Z.length;M+=1)Z[M].c();this.h()},l(M){e=Q(M,"DIV",{class:!0});var X=k(e);r=L(X,"svg",{width:!0,height:!0,class:!0});var j=k(r);i=L(j,"g",{transform:!0});var G=k(i);n=L(G,"g",{class:!0,opacity:!0});var ke=k(n);for(let De=0;De<p.length;De+=1)p[De].l(ke);ke.forEach(g),a=L(G,"g",{opacity:!0});var O=k(a);l=L(O,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,"pointer-events":!0}),k(l).forEach(g),h=L(O,"g",{transform:!0});var Ce=k(h);y&&y.l(Ce),c=L(Ce,"text",{y:!0,"text-anchor":!0,fill:!0});var E=k(c);d=ve(E,_),E.forEach(g),Ce.forEach(g),A&&A.l(O),O.forEach(g),w=L(G,"g",{class:!0});var J=k(w);for(let De=0;De<Z.length;De+=1)Z[De].l(J);J.forEach(g),G.forEach(g),j.forEach(g),X.forEach(g),this.h()},h(){u(n,"class","background-circles-group"),u(n,"opacity","0.7"),u(l,"x1",o=t[9]/2),u(l,"x2",s=t[9]/2),u(l,"y1","-35"),u(l,"y2",f=t[6]+20),u(l,"stroke",oe.median.color),u(l,"stroke-width","3px"),u(l,"stroke-dasharray","6 3"),u(l,"pointer-events","none"),u(c,"y","26"),u(c,"text-anchor","middle"),u(c,"fill","white"),u(h,"transform",b="translate("+t[9]/2+",-45)"),u(a,"opacity",v=t[0]?.2:1),u(w,"class","selected-label-group"),u(i,"transform",D="translate("+(t[10].left+t[8])+","+t[10].top+")"),u(r,"width",t[5]),u(r,"height",t[14]),u(r,"class","svelte-1n1h8pw"),u(e,"class","svgs-container"),lt(()=>t[28].call(e))},m(M,X){N(M,e,X),R(e,r),R(r,i),R(i,n);for(let j=0;j<p.length;j+=1)p[j]&&p[j].m(n,null);R(i,a),R(a,l),R(a,h),y&&y.m(h,null),R(h,c),R(c,d),m=Ze.observe(c,t[24].bind(c)),A&&A.m(a,null),R(i,w);for(let j=0;j<Z.length;j+=1)Z[j]&&Z[j].m(w,null);z=vt(e,t[28].bind(e)),T=!0},p(M,X){if(X[0]&8327){F=M[7];let j;for(j=0;j<F.length;j+=1){const G=Qt(M,F,j);p[j]?(p[j].p(G,X),C(p[j],1)):(p[j]=Jt(G),p[j].c(),C(p[j],1),p[j].m(n,null))}for(me(),j=F.length;j<p.length;j+=1)I(j);ge()}if((!T||X[0]&512&&o!==(o=M[9]/2))&&u(l,"x1",o),(!T||X[0]&512&&s!==(s=M[9]/2))&&u(l,"x2",s),(!T||X[0]&64&&f!==(f=M[6]+20))&&u(l,"y2",f),M[11]?y?y.p(M,X):(y=xt(M),y.c(),y.m(h,c)):y&&(y.d(1),y=null),(!T||X[0]&20)&&_!==(_=M[2].metadata.prefix+Te(ze(M[4].med,M[2].metadata.decimalPlaces))+M[2].metadata.suffix+"")&&we(d,_),(!T||X[0]&512&&b!==(b="translate("+M[9]/2+",-45)"))&&u(h,"transform",b),M[11]?A?A.p(M,X):(A=$t(M),A.c(),A.m(a,null)):A&&(A.d(1),A=null),(!T||X[0]&1&&v!==(v=M[0]?.2:1))&&u(a,"opacity",v),X[0]&8327){B=M[7].filter(M[27]);let j;for(j=0;j<B.length;j+=1){const G=Kt(M,B,j);Z[j]?(Z[j].p(G,X),C(Z[j],1)):(Z[j]=rr(G),Z[j].c(),C(Z[j],1),Z[j].m(w,null))}for(me(),j=B.length;j<Z.length;j+=1)H(j);ge()}(!T||X[0]&1280&&D!==(D="translate("+(M[10].left+M[8])+","+M[10].top+")"))&&u(i,"transform",D),(!T||X[0]&32)&&u(r,"width",M[5])},i(M){if(!T){for(let X=0;X<F.length;X+=1)C(p[X]);for(let X=0;X<B.length;X+=1)C(Z[X]);T=!0}},o(M){p=p.filter(Boolean);for(let X=0;X<p.length;X+=1)P(p[X]);Z=Z.filter(Boolean);for(let X=0;X<Z.length;X+=1)P(Z[X]);T=!1},d(M){M&&g(e),Ie(p,M),y&&y.d(),m(),A&&A.d(),Ie(Z,M),z()}}}function Il(t,e,r){let i,n,a,l,o,s,f,h,c,_,{indicator:d,selectedArea:m,sameGeogLevelAreasCodes:b,data:v,selectedIndicatorCalculations:w,maxPeriod:D,hoverId:z,hoverIndicatorId:T}=e,F=1e3,p=120,I,y;function A(G){T=G,r(1,T)}function B(G){z=G,r(0,z)}function Z(){var G;I=(G=qe.entries.get(this))==null?void 0:G.contentRect,r(11,I)}const H=G=>G.datum.areacd===m.areacd;function M(){var G;y=(G=qe.entries.get(this))==null?void 0:G.contentRect,r(12,y)}const X=G=>G.datum.areacd===z;function j(){F=this.clientWidth,r(5,F)}return t.$$set=G=>{"indicator"in G&&r(2,d=G.indicator),"selectedArea"in G&&r(3,m=G.selectedArea),"sameGeogLevelAreasCodes"in G&&r(15,b=G.sameGeogLevelAreasCodes),"data"in G&&r(16,v=G.data),"selectedIndicatorCalculations"in G&&r(4,w=G.selectedIndicatorCalculations),"maxPeriod"in G&&r(17,D=G.maxPeriod),"hoverId"in G&&r(0,z=G.hoverId),"hoverIndicatorId"in G&&r(1,T=G.hoverIndicatorId)},t.$$.update=()=>{t.$$.dirty[0]&1312&&r(9,a=F-i.left-i.right-n*2),t.$$.dirty[0]&1024&&r(6,l=p-i.top-i.bottom),t.$$.dirty[0]&16&&r(21,o=[w.med-3*w.mad,parseFloat(w.med)+3*w.mad]),t.$$.dirty[0]&2097664&&r(20,s=Ge().domain(o).range([0,a])),t.$$.dirty[0]&3244800&&r(19,f=v.filter(G=>b.includes(G.areacd)).map(G=>({...G,xPosition:G.value<o[0]?-n/2:G.value>o[1]?a+n/2:s(G.value)}))),t.$$.dirty[0]&524288&&r(7,h=new Ct(f,5,G=>G.xPosition).oneSided().calculateYPositions().sort((G,ke)=>Math.random()-Math.random())),t.$$.dirty[0]&128&&r(18,c=[0,Math.max(...h.map(G=>G.y))]),t.$$.dirty[0]&262208&&r(13,_=Ge().domain(c).range([l,0]))},r(10,i={top:40,right:10,bottom:20,left:10}),r(8,n=40),[z,T,d,m,w,F,l,h,n,a,i,I,y,_,p,b,v,D,c,f,s,o,A,B,Z,H,M,X,j]}class Dl extends Ae{constructor(e){super(),pe(this,e,Il,wl,ye,{indicator:2,selectedArea:3,sameGeogLevelAreasCodes:15,data:16,selectedIndicatorCalculations:4,maxPeriod:17,hoverId:0,hoverIndicatorId:1},null,[-1,-1])}}function Rl(t){let e,r,i,n;return{c(){e=U("div"),r=W("svg"),i=W("path"),this.h()},l(a){e=Q(a,"DIV",{class:!0});var l=k(e);r=L(l,"svg",{width:!0,height:!0,class:!0,viewBox:!0});var o=k(r);i=L(o,"path",{fill:!0,d:!0}),k(i).forEach(g),o.forEach(g),l.forEach(g),this.h()},h(){u(i,"fill","black"),u(i,"d","M24.15 34q.65 0 1.075-.425.425-.425.425-1.075v-9.05q0-.6-.45-1.025Q24.75 22 24.15 22q-.65 0-1.075.425-.425.425-.425 1.075v9.05q0 .6.45 1.025.45.425 1.05.425ZM24 18.3q.7 0 1.175-.45.475-.45.475-1.15t-.475-1.2Q24.7 15 24 15q-.7 0-1.175.5-.475.5-.475 1.2t.475 1.15q.475.45 1.175.45ZM24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 4.25-1.55 7.9-1.55 3.65-4.25 6.35-2.7 2.7-6.35 4.225Q28.2 44 24 44Zm0-20Zm0 17q7 0 12-5t5-12q0-7-5-12T24 7q-7 0-12 5T7 24q0 7 5 12t12 5Z"),u(r,"width","20"),u(r,"height","20"),u(r,"class","c h-16 w-16 inline svelte-nloqxl svelte-14yk1n4"),u(r,"viewBox",n=t[0]?"4 6 40 40":"0 2 48 48"),u(e,"class","infoCell svelte-14yk1n4")},m(a,l){N(a,e,l),R(e,r),R(r,i)},p(a,[l]){l&1&&n!==(n=a[0]?"4 6 40 40":"0 2 48 48")&&u(r,"viewBox",n)},i:ae,o:ae,d(a){a&&g(e)}}}function Cl(t,e,r){let{expandIcon:i}=e;return t.$$set=n=>{"expandIcon"in n&&r(0,i=n.expandIcon)},[i]}class rn extends Ae{constructor(e){super(),pe(this,e,Cl,Rl,ye,{expandIcon:0})}}function ir(t,e,r){const i=t.slice();return i[8]=e[r],i}function nr(t){let e,r=t[2],i=[];for(let n=0;n<r.length;n+=1)i[n]=lr(ir(t,r,n));return{c(){e=U("div");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=Q(n,"DIV",{class:!0});var a=k(e);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach(g),this.h()},h(){u(e,"class","indicator-additional-description-text-container svelte-190ljts")},m(n,a){N(n,e,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(n,a){if(a&4){r=n[2];let l;for(l=0;l<r.length;l+=1){const o=ir(n,r,l);i[l]?i[l].p(o,a):(i[l]=lr(o),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},d(n){n&&g(e),Ie(i,n)}}}function lr(t){let e,r=t[8]+"",i;return{c(){e=U("p"),i=be(r),this.h()},l(n){e=Q(n,"P",{class:!0});var a=k(e);i=ve(a,r),a.forEach(g),this.h()},h(){u(e,"class","svelte-190ljts")},m(n,a){N(n,e,a),R(e,i)},p(n,a){a&4&&r!==(r=n[8]+"")&&we(i,r)},d(n){n&&g(e)}}}function El(t){let e,r,i,n,a=t[1]===""?"":", "+t[1],l,o,s,f,h,c,_;o=new rn({props:{expandIcon:t[3]}});let d=t[4]&&nr(t);return{c(){e=U("button"),r=U("span"),i=be(t[0]),n=U("span"),l=be(a),x(o.$$.fragment),s=ie(),d&&d.c(),f=le(),this.h()},l(m){e=Q(m,"BUTTON",{class:!0});var b=k(e);r=Q(b,"SPAN",{style:!0});var v=k(r);i=ve(v,t[0]),n=Q(v,"SPAN",{style:!0});var w=k(n);l=ve(w,a),w.forEach(g),$(o.$$.fragment,v),v.forEach(g),b.forEach(g),s=ne(m),d&&d.l(m),f=le(),this.h()},h(){He(n,"font-weight","normal"),He(r,"font-weight","bold"),u(e,"class","svelte-190ljts")},m(m,b){N(m,e,b),R(e,r),R(r,i),R(r,n),R(n,l),ee(o,r,null),N(m,s,b),d&&d.m(m,b),N(m,f,b),h=!0,c||(_=[Pe(e,"mouseenter",t[5]),Pe(e,"mouseleave",t[6]),Pe(e,"click",t[7])],c=!0)},p(m,[b]){(!h||b&1)&&we(i,m[0]),(!h||b&2)&&a!==(a=m[1]===""?"":", "+m[1])&&we(l,a);const v={};b&8&&(v.expandIcon=m[3]),o.$set(v),m[4]?d?d.p(m,b):(d=nr(m),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null)},i(m){h||(C(o.$$.fragment,m),h=!0)},o(m){P(o.$$.fragment,m),h=!1},d(m){m&&g(e),te(o),m&&g(s),d&&d.d(m),m&&g(f),c=!1,bt(_)}}}function Ml(t,e,r){let{titleText:i,unitDescriptionText:n,additionalText:a}=e,l=!1,o=!1;const s=()=>{r(3,l=!0)},f=()=>{r(3,l=!1)},h=()=>{r(4,o=!o)};return t.$$set=c=>{"titleText"in c&&r(0,i=c.titleText),"unitDescriptionText"in c&&r(1,n=c.unitDescriptionText),"additionalText"in c&&r(2,a=c.additionalText)},[i,n,a,l,o,s,f,h]}class Nl extends Ae{constructor(e){super(),pe(this,e,Ml,El,ye,{titleText:0,unitDescriptionText:1,additionalText:2})}}function Pl(t){let e,r;return{c(){e=U("div"),this.h()},l(i){e=Q(i,"DIV",{class:!0}),k(e).forEach(g),this.h()},h(){u(e,"class",r="divider-"+t[0]+" svelte-4csvgv")},m(i,n){N(i,e,n)},p(i,[n]){n&1&&r!==(r="divider-"+i[0]+" svelte-4csvgv")&&u(e,"class",r)},i:ae,o:ae,d(i){i&&g(e)}}}function Tl(t,e,r){let{orientation:i}=e;return t.$$set=n=>{"orientation"in n&&r(0,i=n.orientation)},[i]}class Ye extends Ae{constructor(e){super(),pe(this,e,Tl,Pl,ye,{orientation:0})}}function Ue(t){return function(){return t}}const Et=Math.PI,Mt=2*Et,Xe=1e-6,Wl=Mt-Xe;function nn(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Ll(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nn;const r=10**e;return function(i){this._+=i[0];for(let n=1,a=i.length;n<a;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}class Bl{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nn:Ll(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,n){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(e,r,i,n,a,l){this._append`C${+e},${+r},${+i},${+n},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,i,n,a){if(e=+e,r=+r,i=+i,n=+n,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,o=this._y1,s=i-e,f=n-r,h=l-e,c=o-r,_=h*h+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(_>Xe)if(!(Math.abs(c*s-f*h)>Xe)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let d=i-l,m=n-o,b=s*s+f*f,v=d*d+m*m,w=Math.sqrt(b),D=Math.sqrt(_),z=a*Math.tan((Et-Math.acos((b+_-v)/(2*w*D)))/2),T=z/D,F=z/w;Math.abs(T-1)>Xe&&this._append`L${e+T*h},${r+T*c}`,this._append`A${a},${a},0,0,${+(c*d>h*m)},${this._x1=e+F*s},${this._y1=r+F*f}`}}arc(e,r,i,n,a,l){if(e=+e,r=+r,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(n),s=i*Math.sin(n),f=e+o,h=r+s,c=1^l,_=l?n-a:a-n;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Xe||Math.abs(this._y1-h)>Xe)&&this._append`L${f},${h}`,i&&(_<0&&(_=_%Mt+Mt),_>Wl?this._append`A${i},${i},0,1,${c},${e-o},${r-s}A${i},${i},0,1,${c},${this._x1=f},${this._y1=h}`:_>Xe&&this._append`A${i},${i},0,${+(_>=Et)},${c},${this._x1=e+i*Math.cos(a)},${this._y1=r+i*Math.sin(a)}`)}rect(e,r,i,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}}function Ol(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new Bl(e)}function Sl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ln(t){this._context=t}ln.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vl(t){return new ln(t)}function zl(t){return t[0]}function Fl(t){return t[1]}function gt(t,e){var r=Ue(!0),i=null,n=Vl,a=null,l=Ol(o);t=typeof t=="function"?t:t===void 0?zl:Ue(t),e=typeof e=="function"?e:e===void 0?Fl:Ue(e);function o(s){var f,h=(s=Sl(s)).length,c,_=!1,d;for(i==null&&(a=n(d=l())),f=0;f<=h;++f)!(f<h&&r(c=s[f],f,s))===_&&((_=!_)?a.lineStart():a.lineEnd()),_&&a.point(+t(c,f,s),+e(c,f,s));if(d)return a=null,d+""||null}return o.x=function(s){return arguments.length?(t=typeof s=="function"?s:Ue(+s),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:Ue(+s),o):e},o.defined=function(s){return arguments.length?(r=typeof s=="function"?s:Ue(!!s),o):r},o.curve=function(s){return arguments.length?(n=s,i!=null&&(a=n(i)),o):n},o.context=function(s){return arguments.length?(s==null?i=a=null:a=n(i=s),o):i},o}function ar(t){let e,r,i,n,a;return{c(){e=W("path"),i=W("circle"),this.h()},l(l){e=L(l,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),k(e).forEach(g),i=L(l,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0,stroke:!0}),k(i).forEach(g),this.h()},h(){u(e,"d",r=t[14](t[3])),u(e,"stroke",oe.selected.color),u(e,"fill","none"),u(e,"stroke-width","2.5px"),u(i,"cx",n=t[8](t[3][t[3].length-1].xDomainNumb)),u(i,"cy",a=Math.min(t[7],Math.max(0,t[6](t[3][t[3].length-1].value)))),u(i,"r","4"),u(i,"stroke-width","1.5px"),u(i,"fill",oe.selected.color),u(i,"stroke","white")},m(l,o){N(l,e,o),N(l,i,o)},p(l,o){o&16392&&r!==(r=l[14](l[3]))&&u(e,"d",r),o&264&&n!==(n=l[8](l[3][l[3].length-1].xDomainNumb))&&u(i,"cx",n),o&200&&a!==(a=Math.min(l[7],Math.max(0,l[6](l[3][l[3].length-1].value))))&&u(i,"cy",a)},d(l){l&&g(e),l&&g(i)}}}function or(t){let e,r,i,n,a,l,o;function s(c,_){return c[13]>0?ql:Hl}let f=s(t),h=f(t);return{c(){e=W("rect"),a=W("path"),h.c(),o=le(),this.h()},l(c){e=L(c,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,fill:!0}),k(e).forEach(g),a=L(c,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),k(a).forEach(g),h.l(c),o=le(),this.h()},h(){u(e,"x",-3),u(e,"width",r=t[12].width+6),u(e,"y",i=t[12].y-18),u(e,"height",n=t[12].height),u(e,"rx","2px"),u(e,"stroke","none"),u(e,"fill",oe.main.color),u(a,"d",l="M -12 -18 l0 "+t[12].height),u(a,"stroke",oe.main.color),u(a,"fill","none"),u(a,"stroke-width","2px")},m(c,_){N(c,e,_),N(c,a,_),h.m(c,_),N(c,o,_)},p(c,_){_&4096&&r!==(r=c[12].width+6)&&u(e,"width",r),_&4096&&i!==(i=c[12].y-18)&&u(e,"y",i),_&4096&&n!==(n=c[12].height)&&u(e,"height",n),_&4096&&l!==(l="M -12 -18 l0 "+c[12].height)&&u(a,"d",l),f===(f=s(c))&&h?h.p(c,_):(h.d(1),h=f(c),h&&(h.c(),h.m(o.parentNode,o)))},d(c){c&&g(e),c&&g(a),h.d(c),c&&g(o)}}}function Hl(t){let e,r;return{c(){e=W("path"),this.h()},l(i){e=L(i,"path",{d:!0,fill:!0,stoke:!0}),k(e).forEach(g),this.h()},h(){u(e,"d",r="M -12 "+(-17+t[12].height)+" l-5 -5 l10 0 z"),u(e,"fill",oe.main.color),u(e,"stoke","none")},m(i,n){N(i,e,n)},p(i,n){n&4096&&r!==(r="M -12 "+(-17+i[12].height)+" l-5 -5 l10 0 z")&&u(e,"d",r)},d(i){i&&g(e)}}}function ql(t){let e;return{c(){e=W("path"),this.h()},l(r){e=L(r,"path",{d:!0,fill:!0,stoke:!0}),k(e).forEach(g),this.h()},h(){u(e,"d","M -12 -19 l-5 5 l10 0 z"),u(e,"fill",oe.main.color),u(e,"stoke","none")},m(r,i){N(r,e,i)},p:ae,d(r){r&&g(e)}}}function Gl(t){let e,r,i,n,a,l,o,s,f,h=t[10][0]+"",c,_,d,m,b,v,w,D=t[10][1]+"",z,T,F,p,I,y,A,B,Z,H,M,X,j,G,ke,O,Ce=t[12]&&ze(t[13],t[4].metadata.decimalPlaces)!=0,E,J=(t[13]>0?"+":"")+Te(ze(t[13],t[4].metadata.decimalPlaces)),De,Me,_e,se,S,Y,Ee=t[0]&&ar(t),de=Ce&&or(t);return{c(){e=U("div"),r=W("svg"),i=W("g"),n=W("rect"),a=W("g"),l=W("line"),f=W("text"),c=be(h),m=W("line"),w=W("text"),z=be(D),p=W("g"),I=W("path"),A=W("circle"),H=W("path"),X=W("circle"),Ee&&Ee.c(),O=W("g"),de&&de.c(),E=W("text"),De=be(J),this.h()},l(q){e=Q(q,"DIV",{class:!0});var re=k(e);r=L(re,"svg",{width:!0,height:!0,class:!0});var Re=k(r);i=L(Re,"g",{transform:!0});var K=k(i);n=L(K,"rect",{width:!0,height:!0,fill:!0,opacity:!0}),k(n).forEach(g),a=L(K,"g",{opacity:!0});var ce=k(a);l=L(ce,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0}),k(l).forEach(g),f=L(ce,"text",{"text-anchor":!0,y:!0,x:!0});var V=k(f);c=ve(V,h),V.forEach(g),m=L(ce,"line",{y1:!0,y2:!0,x1:!0,x2:!0,"stroke-width":!0,stroke:!0}),k(m).forEach(g),w=L(ce,"text",{"text-anchor":!0,y:!0,x:!0});var We=k(w);z=ve(We,D),We.forEach(g),ce.forEach(g),p=L(K,"g",{opacity:!0});var Se=k(p);I=L(Se,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),k(I).forEach(g),A=L(Se,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0,stroke:!0}),k(A).forEach(g),H=L(Se,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),k(H).forEach(g),X=L(Se,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0,stroke:!0}),k(X).forEach(g),Se.forEach(g),Ee&&Ee.l(K),O=L(K,"g",{transform:!0,opacity:!0});var Le=k(O);de&&de.l(Le),E=L(Le,"text",{"text-anchor":!0,x:!0,y:!0,fill:!0});var $e=k(E);De=ve($e,J),$e.forEach(g),Le.forEach(g),K.forEach(g),Re.forEach(g),re.forEach(g),this.h()},h(){u(n,"width",t[9]),u(n,"height",t[7]),u(n,"fill","black"),u(n,"opacity","0"),u(l,"y1",0),u(l,"y2",t[7]),u(l,"x1",o=t[8](t[10][0])),u(l,"x2",s=t[8](t[10][0])),u(l,"stroke","black"),u(l,"stroke-width","1.5px"),u(f,"text-anchor","middle"),u(f,"y",_=17+t[7]),u(f,"x",d=t[8](t[10][0])),u(m,"y1",0),u(m,"y2",t[7]),u(m,"x1",b=t[8](t[10][1])),u(m,"x2",v=t[8](t[10][1])),u(m,"stroke-width","1.5px"),u(m,"stroke","black"),u(w,"text-anchor","middle"),u(w,"y",T=17+t[7]),u(w,"x",F=t[8](t[10][1])),u(a,"opacity","0.5"),u(I,"d",y=t[15](t[1])),u(I,"stroke",oe.median.color),u(I,"fill","none"),u(I,"stroke-width","2.5px"),u(A,"cx",B=t[8](t[1][t[1].length-1].period)),u(A,"cy",Z=Math.min(t[7],Math.max(0,t[6](t[1][t[1].length-1].med)))),u(A,"r","4"),u(A,"stroke-width","1.5px"),u(A,"fill",oe.median.color),u(A,"stroke","white"),u(H,"d",M=t[14](t[2])),u(H,"stroke",oe.main.color),u(H,"fill","none"),u(H,"stroke-width","2.5px"),u(X,"cx",j=t[8](t[2][t[2].length-1].xDomainNumb)),u(X,"cy",G=Math.min(t[7],Math.max(0,t[6](t[2][t[2].length-1].value)))),u(X,"r","4"),u(X,"stroke-width","1.5px"),u(X,"fill",oe.main.color),u(X,"stroke","white"),u(p,"opacity",ke=t[0]?.25:1),u(E,"text-anchor","start"),u(E,"x","0"),u(E,"y","0"),u(E,"fill","white"),u(O,"transform",_e="translate("+(t[9]+25)+","+Math.min(t[7],Math.max(0,t[6](t[2][t[2].length-1].value)))+")"),u(O,"opacity",se=t[0]?.25:1),u(i,"transform",S="translate("+t[11].left+","+t[11].top+")"),u(r,"width",t[5]),u(r,"height",t[16]),u(r,"class","svelte-1gti410"),u(e,"class","svg-container"),lt(()=>t[21].call(e))},m(q,re){N(q,e,re),R(e,r),R(r,i),R(i,n),R(i,a),R(a,l),R(a,f),R(f,c),R(a,m),R(a,w),R(w,z),R(i,p),R(p,I),R(p,A),R(p,H),R(p,X),Ee&&Ee.m(i,null),R(i,O),de&&de.m(O,null),R(O,E),R(E,De),Me=Ze.observe(E,t[20].bind(E)),Y=vt(e,t[21].bind(e))},p(q,[re]){re&512&&u(n,"width",q[9]),re&128&&u(n,"height",q[7]),re&128&&u(l,"y2",q[7]),re&1280&&o!==(o=q[8](q[10][0]))&&u(l,"x1",o),re&1280&&s!==(s=q[8](q[10][0]))&&u(l,"x2",s),re&1024&&h!==(h=q[10][0]+"")&&we(c,h),re&128&&_!==(_=17+q[7])&&u(f,"y",_),re&1280&&d!==(d=q[8](q[10][0]))&&u(f,"x",d),re&128&&u(m,"y2",q[7]),re&1280&&b!==(b=q[8](q[10][1]))&&u(m,"x1",b),re&1280&&v!==(v=q[8](q[10][1]))&&u(m,"x2",v),re&1024&&D!==(D=q[10][1]+"")&&we(z,D),re&128&&T!==(T=17+q[7])&&u(w,"y",T),re&1280&&F!==(F=q[8](q[10][1]))&&u(w,"x",F),re&32770&&y!==(y=q[15](q[1]))&&u(I,"d",y),re&258&&B!==(B=q[8](q[1][q[1].length-1].period))&&u(A,"cx",B),re&194&&Z!==(Z=Math.min(q[7],Math.max(0,q[6](q[1][q[1].length-1].med))))&&u(A,"cy",Z),re&16388&&M!==(M=q[14](q[2]))&&u(H,"d",M),re&260&&j!==(j=q[8](q[2][q[2].length-1].xDomainNumb))&&u(X,"cx",j),re&196&&G!==(G=Math.min(q[7],Math.max(0,q[6](q[2][q[2].length-1].value))))&&u(X,"cy",G),re&1&&ke!==(ke=q[0]?.25:1)&&u(p,"opacity",ke),q[0]?Ee?Ee.p(q,re):(Ee=ar(q),Ee.c(),Ee.m(i,O)):Ee&&(Ee.d(1),Ee=null),re&12304&&(Ce=q[12]&&ze(q[13],q[4].metadata.decimalPlaces)!=0),Ce?de?de.p(q,re):(de=or(q),de.c(),de.m(O,E)):de&&(de.d(1),de=null),re&8208&&J!==(J=(q[13]>0?"+":"")+Te(ze(q[13],q[4].metadata.decimalPlaces)))&&we(De,J),re&708&&_e!==(_e="translate("+(q[9]+25)+","+Math.min(q[7],Math.max(0,q[6](q[2][q[2].length-1].value)))+")")&&u(O,"transform",_e),re&1&&se!==(se=q[0]?.25:1)&&u(O,"opacity",se),re&2048&&S!==(S="translate("+q[11].left+","+q[11].top+")")&&u(i,"transform",S),re&32&&u(r,"width",q[5])},i:ae,o:ae,d(q){q&&g(e),Ee&&Ee.d(),de&&de.d(),Me(),Y()}}}function Zl(t,e,r){let i,n,a,l,o,s,f,h,c,_,{selectedIndicatorCalculations:d,filteredPeriodsArray:m,hoverId:b,medianData:v,areaData:w,hoverData:D,indicator:z}=e,T=1e3,F=120,p,I=p?p.width:60;function y(){var B;p=(B=qe.entries.get(this))==null?void 0:B.contentRect,r(12,p)}function A(){T=this.clientWidth,r(5,T)}return t.$$set=B=>{"selectedIndicatorCalculations"in B&&r(17,d=B.selectedIndicatorCalculations),"filteredPeriodsArray"in B&&r(18,m=B.filteredPeriodsArray),"hoverId"in B&&r(0,b=B.hoverId),"medianData"in B&&r(1,v=B.medianData),"areaData"in B&&r(2,w=B.areaData),"hoverData"in B&&r(3,D=B.hoverData),"indicator"in B&&r(4,z=B.indicator)},t.$$.update=()=>{t.$$.dirty&2080&&r(9,n=T-i.left-i.right),t.$$.dirty&2048&&r(7,a=F-i.top-i.bottom),t.$$.dirty&131072&&r(19,l=[d.med-5*d.mad,parseFloat(d.med)+5*d.mad]),t.$$.dirty&524416&&r(6,o=Ge().domain(l).range([a,0])),t.$$.dirty&262144&&r(10,s=[m[m.length-1].xDomainNumb,m[0].xDomainNumb]),t.$$.dirty&1536&&r(8,f=Ge().domain(s).range([0,n])),t.$$.dirty&448&&r(15,h=gt().x(B=>f(B.period)).y(B=>Math.min(a,Math.max(0,o(B.med))))),t.$$.dirty&448&&r(14,c=gt().x(B=>f(B.xDomainNumb)).y(B=>Math.min(a,Math.max(0,o(B.value))))),t.$$.dirty&4&&r(13,_=w[0].value-w[w.length-1].value)},r(11,i={top:5,right:30+I,bottom:20,left:20}),[b,v,w,D,z,T,o,a,f,n,s,i,p,_,c,h,F,d,m,l,y,A]}class Yl extends Ae{constructor(e){super(),pe(this,e,Zl,Gl,ye,{selectedIndicatorCalculations:17,filteredPeriodsArray:18,hoverId:0,medianData:1,areaData:2,hoverData:3,indicator:4})}}function et(t,e,r){this.k=t,this.x=e,this.y=r}et.prototype={constructor:et,scale:function(t){return t===1?this:new et(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new et(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};et.prototype;function Xl(t){let e,r;return{c(){e=U("span"),r=be("No historical data"),this.h()},l(i){e=Q(i,"SPAN",{class:!0});var n=k(e);r=ve(n,"No historical data"),n.forEach(g),this.h()},h(){u(e,"class","svelte-b5cc62")},m(i,n){N(i,e,n),R(e,r)},p:ae,i:ae,o:ae,d(i){i&&g(e)}}}function jl(t){let e,r,i;function n(l){t[17](l)}let a={selectedIndicatorCalculations:t[8],filteredPeriodsArray:t[7],medianData:t[10].filter(t[14]).sort(sr),areaData:t[9][t[2].code].filter(t[15]).sort(fr),hoverData:t[9][t[2].code].filter(t[16]).sort(ur),indicator:t[2]};return t[0]!==void 0&&(a.hoverId=t[0]),e=new Yl({props:a}),fe.push(()=>ue(e,"hoverId",n)),{c(){x(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,o){ee(e,l,o),i=!0},p(l,o){const s={};o&256&&(s.selectedIndicatorCalculations=l[8]),o&128&&(s.filteredPeriodsArray=l[7]),o&108&&(s.medianData=l[10].filter(l[14]).sort(sr)),o&108&&(s.areaData=l[9][l[2].code].filter(l[15]).sort(fr)),o&101&&(s.hoverData=l[9][l[2].code].filter(l[16]).sort(ur)),o&4&&(s.indicator=l[2]),!r&&o&1&&(r=!0,s.hoverId=l[0],he(()=>r=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){P(e.$$.fragment,l),i=!1},d(l){te(e,l)}}}function Kl(t){let e,r,i,n,a,l,o,s,f,h,c,_,d,m,b;r=new Ye({props:{orientation:"vertical"}}),n=new Nl({props:{titleText:t[2].metadata.label,unitDescriptionText:t[2].metadata.subText,additionalText:(t[2].metadata.subtitle+"|"+t[2].metadata.additionalDescription).split("|")}});function v(p){t[12](p)}function w(p){t[13](p)}let D={indicator:t[2],selectedArea:t[3],sameGeogLevelAreasCodes:t[4],data:t[9][t[2].code].filter(t[11]),selectedIndicatorCalculations:t[8],maxPeriod:t[5]};t[0]!==void 0&&(D.hoverId=t[0]),t[1]!==void 0&&(D.hoverIndicatorId=t[1]),s=new Dl({props:D}),fe.push(()=>ue(s,"hoverId",v)),fe.push(()=>ue(s,"hoverIndicatorId",w));const z=[jl,Xl],T=[];function F(p,I){return p[7].length>1?0:1}return d=F(t),m=T[d]=z[d](t),{c(){e=U("div"),x(r.$$.fragment),i=ie(),x(n.$$.fragment),a=ie(),l=U("div"),o=U("div"),x(s.$$.fragment),c=ie(),_=U("div"),m.c(),this.h()},l(p){e=Q(p,"DIV",{class:!0});var I=k(e);$(r.$$.fragment,I),i=ne(I),$(n.$$.fragment,I),a=ne(I),l=Q(I,"DIV",{class:!0});var y=k(l);o=Q(y,"DIV",{class:!0});var A=k(o);$(s.$$.fragment,A),A.forEach(g),c=ne(y),_=Q(y,"DIV",{class:!0});var B=k(_);m.l(B),B.forEach(g),y.forEach(g),I.forEach(g),this.h()},h(){u(o,"class","beeswarm-container svelte-b5cc62"),u(_,"class","line-chart-container svelte-b5cc62"),u(l,"class","visuals-container svelte-b5cc62"),u(e,"class","indicator-container svelte-b5cc62")},m(p,I){N(p,e,I),ee(r,e,null),R(e,i),ee(n,e,null),R(e,a),R(e,l),R(l,o),ee(s,o,null),R(l,c),R(l,_),T[d].m(_,null),b=!0},p(p,[I]){const y={};I&4&&(y.titleText=p[2].metadata.label),I&4&&(y.unitDescriptionText=p[2].metadata.subText),I&4&&(y.additionalText=(p[2].metadata.subtitle+"|"+p[2].metadata.additionalDescription).split("|")),n.$set(y);const A={};I&4&&(A.indicator=p[2]),I&8&&(A.selectedArea=p[3]),I&16&&(A.sameGeogLevelAreasCodes=p[4]),I&4&&(A.data=p[9][p[2].code].filter(p[11])),I&256&&(A.selectedIndicatorCalculations=p[8]),I&32&&(A.maxPeriod=p[5]),!f&&I&1&&(f=!0,A.hoverId=p[0],he(()=>f=!1)),!h&&I&2&&(h=!0,A.hoverIndicatorId=p[1],he(()=>h=!1)),s.$set(A);let B=d;d=F(p),d===B?T[d].p(p,I):(me(),P(T[B],1,1,()=>{T[B]=null}),ge(),m=T[d],m?m.p(p,I):(m=T[d]=z[d](p),m.c()),C(m,1),m.m(_,null))},i(p){b||(C(r.$$.fragment,p),C(n.$$.fragment,p),C(s.$$.fragment,p),C(m),b=!0)},o(p){P(r.$$.fragment,p),P(n.$$.fragment,p),P(s.$$.fragment,p),P(m),b=!1},d(p){p&&g(e),te(r),te(n),te(s),T[d].d()}}}const sr=(t,e)=>t.period-e.period,fr=(t,e)=>t.xDomainNumb-e.xDomainNumb,ur=(t,e)=>t.xDomainNumb-e.xDomainNumb;function Ul(t,e,r){let i,n,a,l,{indicator:o,selectedArea:s,sameGeogLevelAreasCodes:f,hoverId:h,hoverIndicatorId:c}=e,_=Be("combinedDataObject"),d=Be("periodsLookupArray"),m=Be("indicatorsCalculationsArray");const b=p=>p.value!="NA"&&p.xDomainNumb===o.maxXDomainNumb;function v(p){h=p,r(0,h)}function w(p){c=p,r(1,c)}const D=p=>o.code===p.code&&p.period>=n.xDomainNumb&&p.period<=a.xDomainNumb&&p.geog_level===s.geogLevel,z=p=>p.value!="NA"&&p.xDomainNumb>=n.xDomainNumb&&p.xDomainNumb<=a.xDomainNumb&&p.areacd===s.areacd,T=p=>p.value!="NA"&&p.xDomainNumb>=n.xDomainNumb&&p.xDomainNumb<=a.xDomainNumb&&p.areacd===h;function F(p){h=p,r(0,h)}return t.$$set=p=>{"indicator"in p&&r(2,o=p.indicator),"selectedArea"in p&&r(3,s=p.selectedArea),"sameGeogLevelAreasCodes"in p&&r(4,f=p.sameGeogLevelAreasCodes),"hoverId"in p&&r(0,h=p.hoverId),"hoverIndicatorId"in p&&r(1,c=p.hoverIndicatorId)},t.$$.update=()=>{t.$$.dirty&4&&r(7,i=d.filter(p=>p.periodGroup===o.periodGroup&p.xDomainNumb>=o.minXDomainNumb&p.xDomainNumb<=o.maxXDomainNumb)),t.$$.dirty&128&&r(6,n=i[i.length-1]),t.$$.dirty&128&&r(5,a=i[0]),t.$$.dirty&96&&console.log(n,a),t.$$.dirty&44&&r(8,l=m.find(p=>o.code===p.code&&a.xDomainNumb===p.period&&p.geog_level===s.geogLevel))},console.log(m),[h,c,o,s,f,a,n,i,l,_,m,b,v,w,D,z,T,F]}class Ql extends Ae{constructor(e){super(),pe(this,e,Ul,Kl,ye,{indicator:2,selectedArea:3,sameGeogLevelAreasCodes:4,hoverId:0,hoverIndicatorId:1})}}function hr(t,e,r){const i=t.slice();return i[8]=e[r],i}function cr(t,e,r){const i=t.slice();return i[11]=e[r],i}function dr(t){let e,r,i,n;function a(s){t[6](s)}function l(s){t[7](s)}let o={indicator:t[11],selectedArea:t[1],sameGeogLevelAreasCodes:t[2]};return t[3]!==void 0&&(o.hoverId=t[3]),t[4]!==void 0&&(o.hoverIndicatorId=t[4]),e=new Ql({props:o}),fe.push(()=>ue(e,"hoverId",a)),fe.push(()=>ue(e,"hoverIndicatorId",l)),{c(){x(e.$$.fragment)},l(s){$(e.$$.fragment,s)},m(s,f){ee(e,s,f),n=!0},p(s,f){const h={};f&1&&(h.indicator=s[11]),f&2&&(h.selectedArea=s[1]),f&4&&(h.sameGeogLevelAreasCodes=s[2]),!r&&f&8&&(r=!0,h.hoverId=s[3],he(()=>r=!1)),!i&&f&16&&(i=!0,h.hoverIndicatorId=s[4],he(()=>i=!1)),e.$set(h)},i(s){n||(C(e.$$.fragment,s),n=!0)},o(s){P(e.$$.fragment,s),n=!1},d(s){te(e,s)}}}function _r(t){let e,r,i,n,a=t[8].name[0].toUpperCase()+t[8].name.substring(1)+"",l,o,s,f;r=new Ye({props:{orientation:"vertical"}});let h=t[8].indicators,c=[];for(let d=0;d<h.length;d+=1)c[d]=dr(cr(t,h,d));const _=d=>P(c[d],1,1,()=>{c[d]=null});return{c(){e=U("div"),x(r.$$.fragment),i=ie(),n=U("h4"),l=be(a),o=ie();for(let d=0;d<c.length;d+=1)c[d].c();s=ie(),this.h()},l(d){e=Q(d,"DIV",{class:!0});var m=k(e);$(r.$$.fragment,m),i=ne(m),n=Q(m,"H4",{class:!0});var b=k(n);l=ve(b,a),b.forEach(g),o=ne(m);for(let v=0;v<c.length;v+=1)c[v].l(m);s=ne(m),m.forEach(g),this.h()},h(){u(n,"class","sub-topic-header svelte-ywl2e3"),u(e,"class","sub-topic-container")},m(d,m){N(d,e,m),ee(r,e,null),R(e,i),R(e,n),R(n,l),R(e,o);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(e,null);R(e,s),f=!0},p(d,m){if((!f||m&1)&&a!==(a=d[8].name[0].toUpperCase()+d[8].name.substring(1)+"")&&we(l,a),m&31){h=d[8].indicators;let b;for(b=0;b<h.length;b+=1){const v=cr(d,h,b);c[b]?(c[b].p(v,m),C(c[b],1)):(c[b]=dr(v),c[b].c(),C(c[b],1),c[b].m(e,s))}for(me(),b=h.length;b<c.length;b+=1)_(b);ge()}},i(d){if(!f){C(r.$$.fragment,d);for(let m=0;m<h.length;m+=1)C(c[m]);f=!0}},o(d){P(r.$$.fragment,d),c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)P(c[m]);f=!1},d(d){d&&g(e),te(r),Ie(c,d)}}}function Jl(t){let e,r,i=t[1].areanm+"",n,a,l,o="Median of all "+{lower:"local authorities",upper:"local authorities",region:"regions",countries:"countries",other:"areas"}[t[1].geogLevel],s,f,h,c,_=t[0].subTopics,d=[];for(let b=0;b<_.length;b+=1)d[b]=_r(hr(t,_,b));const m=b=>P(d[b],1,1,()=>{d[b]=null});return{c(){e=U("div"),r=U("span"),n=be(i),a=ie(),l=U("span"),s=be(o),f=ie();for(let b=0;b<d.length;b+=1)d[b].c();h=le(),this.h()},l(b){e=Q(b,"DIV",{class:!0});var v=k(e);r=Q(v,"SPAN",{class:!0});var w=k(r);n=ve(w,i),w.forEach(g),a=ne(v),l=Q(v,"SPAN",{class:!0});var D=k(l);s=ve(D,o),D.forEach(g),v.forEach(g),f=ne(b);for(let z=0;z<d.length;z+=1)d[z].l(b);h=le(),this.h()},h(){u(r,"class","selected-area-key svelte-ywl2e3"),u(l,"class","median-area-key svelte-ywl2e3"),u(e,"class","sticky svelte-ywl2e3")},m(b,v){N(b,e,v),R(e,r),R(r,n),R(e,a),R(e,l),R(l,s),N(b,f,v);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(b,v);N(b,h,v),c=!0},p(b,v){if((!c||v&2)&&i!==(i=b[1].areanm+"")&&we(n,i),(!c||v&2)&&o!==(o="Median of all "+{lower:"local authorities",upper:"local authorities",region:"regions",countries:"countries",other:"areas"}[b[1].geogLevel])&&we(s,o),v&31){_=b[0].subTopics;let w;for(w=0;w<_.length;w+=1){const D=hr(b,_,w);d[w]?(d[w].p(D,v),C(d[w],1)):(d[w]=_r(D),d[w].c(),C(d[w],1),d[w].m(h.parentNode,h))}for(me(),w=_.length;w<d.length;w+=1)m(w);ge()}},i(b){if(!c){for(let v=0;v<_.length;v+=1)C(d[v]);c=!0}},o(b){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)P(d[v]);c=!1},d(b){b&&g(e),b&&g(f),Ie(d,b),b&&g(h)}}}function xl(t){let e,r,i;return r=new kt({props:{title:t[5],$$slots:{default:[Jl]},$$scope:{ctx:t}}}),{c(){e=U("div"),x(r.$$.fragment),this.h()},l(n){e=Q(n,"DIV",{class:!0});var a=k(e);$(r.$$.fragment,a),a.forEach(g),this.h()},h(){u(e,"class","topic-section-container svelte-ywl2e3")},m(n,a){N(n,e,a),ee(r,e,null),i=!0},p(n,[a]){const l={};a&16415&&(l.$$scope={dirty:a,ctx:n}),r.$set(l)},i(n){i||(C(r.$$.fragment,n),i=!0)},o(n){P(r.$$.fragment,n),i=!1},d(n){n&&g(e),te(r)}}}function $l(t,e,r){let{topic:i,selectedArea:n,sameGeogLevelAreasCodes:a}=e,l=i.name[0].toUpperCase()+i.name.substring(1),o,s;function f(c){o=c,r(3,o)}function h(c){s=c,r(4,s)}return t.$$set=c=>{"topic"in c&&r(0,i=c.topic),"selectedArea"in c&&r(1,n=c.selectedArea),"sameGeogLevelAreasCodes"in c&&r(2,a=c.sameGeogLevelAreasCodes)},[i,n,a,o,s,l,f,h]}class ea extends Ae{constructor(e){super(),pe(this,e,$l,xl,ye,{topic:0,selectedArea:1,sameGeogLevelAreasCodes:2})}}function mr(t,e,r){const i=t.slice();return i[9]=e[r],i[11]=r,i}function gr(t){let e,r,i,n=!1,a,l=t[9][t[5]]+"",o,s,f,h,c;return f=Hi(t[8][0]),{c(){e=U("label"),r=U("input"),a=ie(),o=be(l),s=ie(),this.h()},l(_){e=Q(_,"LABEL",{class:!0});var d=k(e);r=Q(d,"INPUT",{type:!0,name:!0,class:!0}),a=ne(d),o=ve(d,l),s=ne(d),d.forEach(g),this.h()},h(){u(r,"type","checkbox"),r.__value=i=t[9][t[4]],r.value=r.__value,u(r,"name",t[2]),u(r,"class","svelte-cxxp9s"),u(e,"class","svelte-cxxp9s"),f.p(r)},m(_,d){N(_,e,d),R(e,r),r.checked=~(t[0]||[]).indexOf(r.__value),R(e,a),R(e,o),R(e,s),h||(c=Pe(r,"change",t[7]),h=!0)},p(_,d){d&24&&i!==(i=_[9][_[4]])&&(r.__value=i,r.value=r.__value,n=!0),d&4&&u(r,"name",_[2]),(n||d&9)&&(r.checked=~(_[0]||[]).indexOf(r.__value)),d&40&&l!==(l=_[9][_[5]]+"")&&we(o,l)},d(_){_&&g(e),f.r(),h=!1,c()}}}function ta(t){let e,r,i,n,a,l,o=t[3],s=[];for(let f=0;f<o.length;f+=1)s[f]=gr(mr(t,o,f));return{c(){e=U("div"),r=U("p"),i=be(t[1]),n=ie(),a=U("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=Q(f,"DIV",{class:!0,stlye:!0});var h=k(e);r=Q(h,"P",{class:!0});var c=k(r);i=ve(c,t[1]),c.forEach(g),n=ne(h),a=Q(h,"DIV",{class:!0});var _=k(a);for(let d=0;d<s.length;d+=1)s[d].l(_);_.forEach(g),h.forEach(g),this.h()},h(){u(r,"class","checkbox-title svelte-cxxp9s"),u(a,"class",l="checkbox-labels-container checkbox-labels-container-"+t[6]+"-columns svelte-cxxp9s"),u(e,"class","checkbox-container svelte-cxxp9s"),u(e,"stlye","")},m(f,h){N(f,e,h),R(e,r),R(r,i),R(e,n),R(e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(a,null)},p(f,[h]){if(h&2&&we(i,f[1]),h&61){o=f[3];let c;for(c=0;c<o.length;c+=1){const _=mr(f,o,c);s[c]?s[c].p(_,h):(s[c]=gr(_),s[c].c(),s[c].m(a,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}h&64&&l!==(l="checkbox-labels-container checkbox-labels-container-"+f[6]+"-columns svelte-cxxp9s")&&u(a,"class",l)},i:ae,o:ae,d(f){f&&g(e),Ie(s,f)}}}function ra(t,e,r){let{title:i,name:n,optionsArray:a,valueArray:l,idKey:o,labelKey:s,columns:f=1}=e;const h=[[]];function c(){l=fn(h[0],this.__value,this.checked),r(0,l)}return t.$$set=_=>{"title"in _&&r(1,i=_.title),"name"in _&&r(2,n=_.name),"optionsArray"in _&&r(3,a=_.optionsArray),"valueArray"in _&&r(0,l=_.valueArray),"idKey"in _&&r(4,o=_.idKey),"labelKey"in _&&r(5,s=_.labelKey),"columns"in _&&r(6,f=_.columns)},[l,i,n,a,o,s,f,c,h]}class xe extends Ae{constructor(e){super(),pe(this,e,ra,ta,ye,{title:1,name:2,optionsArray:3,valueArray:0,idKey:4,labelKey:5,columns:6})}}function br(t,e,r){const i=t.slice();return i[5]=e[r],i[7]=r,i}function vr(t){let e,r,i,n=!1,a,l,o,s=t[5].label+"",f,h,c,_,d;return c=Hi(t[4][0]),{c(){e=U("label"),r=U("input"),a=ie(),l=U("div"),o=U("p"),f=be(s),h=ie(),this.h()},l(m){e=Q(m,"LABEL",{class:!0});var b=k(e);r=Q(b,"INPUT",{style:!0,type:!0,name:!0}),a=ne(b),l=Q(b,"DIV",{class:!0,style:!0});var v=k(l);o=Q(v,"P",{class:!0});var w=k(o);f=ve(w,s),w.forEach(g),v.forEach(g),h=ne(b),b.forEach(g),this.h()},h(){He(r,"display","none"),u(r,"type","radio"),r.__value=i=t[5].id,r.value=r.__value,u(r,"name",t[2]),u(o,"class","svelte-126xkd0"),u(l,"class","optionLabel svelte-126xkd0"),He(l,"background-color",t[0]===t[5].id?"white":"#e3e3e3"),u(e,"class","svelte-126xkd0"),c.p(r)},m(m,b){N(m,e,b),R(e,r),r.checked=r.__value===t[0],R(e,a),R(e,l),R(l,o),R(o,f),R(e,h),_||(d=Pe(r,"change",t[3]),_=!0)},p(m,b){b&2&&i!==(i=m[5].id)&&(r.__value=i,r.value=r.__value,n=!0),b&4&&u(r,"name",m[2]),(n||b&3)&&(r.checked=r.__value===m[0]),b&2&&s!==(s=m[5].label+"")&&we(f,s),b&3&&He(l,"background-color",m[0]===m[5].id?"white":"#e3e3e3")},d(m){m&&g(e),c.r(),_=!1,d()}}}function ia(t){let e,r=t[1],i=[];for(let n=0;n<r.length;n+=1)i[n]=vr(br(t,r,n));return{c(){e=U("div");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=Q(n,"DIV",{class:!0});var a=k(e);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach(g),this.h()},h(){u(e,"class","radio-container svelte-126xkd0")},m(n,a){N(n,e,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(n,[a]){if(a&7){r=n[1];let l;for(l=0;l<r.length;l+=1){const o=br(n,r,l);i[l]?i[l].p(o,a):(i[l]=vr(o),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},i:ae,o:ae,d(n){n&&g(e),Ie(i,n)}}}function na(t,e,r){let{optionsArray:i,chosenId:n,name:a}=e;const l=[[]];function o(){n=this.__value,r(0,n)}return t.$$set=s=>{"optionsArray"in s&&r(1,i=s.optionsArray),"chosenId"in s&&r(0,n=s.chosenId),"name"in s&&r(2,a=s.name)},[n,i,a,o,l]}class la extends Ae{constructor(e){super(),pe(this,e,na,ia,ye,{optionsArray:1,chosenId:0,name:2})}}function Ar(t,e,r){const i=t.slice();return i[4]=e[r],i[6]=r,i}function pr(t){let e,r=t[4].label+"",i,n;return{c(){e=U("option"),i=be(r),this.h()},l(a){e=Q(a,"OPTION",{});var l=k(e);i=ve(l,r),l.forEach(g),this.h()},h(){e.__value=n=t[4],e.value=e.__value},m(a,l){N(a,e,l),R(e,i)},p(a,l){l&4&&r!==(r=a[4].label+"")&&we(i,r),l&4&&n!==(n=a[4])&&(e.__value=n,e.value=e.__value)},d(a){a&&g(e)}}}function aa(t){let e,r,i,n,a=t[2],l=[];for(let o=0;o<a.length;o+=1)l[o]=pr(Ar(t,a,o));return{c(){e=U("div"),r=U("select");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=Q(o,"DIV",{class:!0});var s=k(e);r=Q(s,"SELECT",{id:!0,name:!0,class:!0});var f=k(r);for(let h=0;h<l.length;h+=1)l[h].l(f);f.forEach(g),s.forEach(g),this.h()},h(){u(r,"id",t[1]),u(r,"name",t[1]),u(r,"class","ons-input ons-input--select svelte-1viwzfz"),t[0]===void 0&&lt(()=>t[3].call(r)),u(e,"class","ons-field")},m(o,s){N(o,e,s),R(e,r);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,null);Wt(r,t[0],!0),i||(n=Pe(r,"change",t[3]),i=!0)},p(o,[s]){if(s&4){a=o[2];let f;for(f=0;f<a.length;f+=1){const h=Ar(o,a,f);l[f]?l[f].p(h,s):(l[f]=pr(h),l[f].c(),l[f].m(r,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=a.length}s&2&&u(r,"id",o[1]),s&2&&u(r,"name",o[1]),s&5&&Wt(r,o[0])},i:ae,o:ae,d(o){o&&g(e),Ie(l,o),i=!1,n()}}}function oa(t,e,r){let{chosenId:i,name:n="",optionsArray:a}=e;function l(){i=un(this),r(0,i),r(2,a)}return t.$$set=o=>{"chosenId"in o&&r(0,i=o.chosenId),"name"in o&&r(1,n=o.name),"optionsArray"in o&&r(2,a=o.optionsArray)},[i,n,a,l]}class sa extends Ae{constructor(e){super(),pe(this,e,oa,aa,ye,{chosenId:0,name:1,optionsArray:2})}}function yr(t,e,r){const i=t.slice();return i[7]=e[r],i}function kr(t){let e,r=t[1],i=[];for(let n=0;n<r.length;n+=1)i[n]=wr(yr(t,r,n));return{c(){e=U("div");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=Q(n,"DIV",{class:!0});var a=k(e);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach(g),this.h()},h(){u(e,"class","indicator-additional-description-text-container svelte-1im63hd")},m(n,a){N(n,e,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(n,a){if(a&2){r=n[1];let l;for(l=0;l<r.length;l+=1){const o=yr(n,r,l);i[l]?i[l].p(o,a):(i[l]=wr(o),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},d(n){n&&g(e),Ie(i,n)}}}function wr(t){let e,r=t[7]+"",i;return{c(){e=U("p"),i=be(r),this.h()},l(n){e=Q(n,"P",{class:!0});var a=k(e);i=ve(a,r),a.forEach(g),this.h()},h(){u(e,"class","svelte-1im63hd")},m(n,a){N(n,e,a),R(e,i)},p(n,a){a&2&&r!==(r=n[7]+"")&&we(i,r)},d(n){n&&g(e)}}}function fa(t){let e,r,i,n,a,l,o,s,f;n=new rn({props:{expandIcon:t[2]}});let h=t[3]&&kr(t);return{c(){e=U("button"),r=U("span"),i=be(t[0]),x(n.$$.fragment),a=ie(),h&&h.c(),l=le(),this.h()},l(c){e=Q(c,"BUTTON",{class:!0});var _=k(e);r=Q(_,"SPAN",{});var d=k(r);i=ve(d,t[0]),$(n.$$.fragment,d),d.forEach(g),_.forEach(g),a=ne(c),h&&h.l(c),l=le(),this.h()},h(){u(e,"class","svelte-1im63hd")},m(c,_){N(c,e,_),R(e,r),R(r,i),ee(n,r,null),N(c,a,_),h&&h.m(c,_),N(c,l,_),o=!0,s||(f=[Pe(e,"mouseenter",t[4]),Pe(e,"mouseleave",t[5]),Pe(e,"click",t[6])],s=!0)},p(c,[_]){(!o||_&1)&&we(i,c[0]);const d={};_&4&&(d.expandIcon=c[2]),n.$set(d),c[3]?h?h.p(c,_):(h=kr(c),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null)},i(c){o||(C(n.$$.fragment,c),o=!0)},o(c){P(n.$$.fragment,c),o=!1},d(c){c&&g(e),te(n),c&&g(a),h&&h.d(c),c&&g(l),s=!1,bt(f)}}}function ua(t,e,r){let{subtitleText:i,additionalText:n}=e,a=!1,l=!1;const o=()=>{r(2,a=!0)},s=()=>{r(2,a=!1)},f=()=>{r(3,l=!l)};return t.$$set=h=>{"subtitleText"in h&&r(0,i=h.subtitleText),"additionalText"in h&&r(1,n=h.additionalText)},[i,n,a,l,o,s,f]}class ha extends Ae{constructor(e){super(),pe(this,e,ua,fa,ye,{subtitleText:0,additionalText:1})}}function Ir(t){let e,r,i,n;return{c(){e=W("svg"),r=W("path"),this.h()},l(a){e=L(a,"svg",{class:!0,viewBox:!0,xmlns:!0,focusable:!0,fill:!0});var l=k(e);r=L(l,"path",{d:!0,"stroke-width":!0,fill:!0,stroke:!0}),k(r).forEach(g),l.forEach(g),this.h()},h(){u(r,"d",i=t[6][t[0]].d),u(r,"stroke-width",t[4]),u(r,"fill",t[5]),u(r,"stroke",t[3]),u(e,"class","ons-svg-icon"),u(e,"viewBox",n=t[6][t[0]].viewBox),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"focusable","false"),u(e,"fill","currentColor"),Ne(e,"ons-u-ml-xs",t[1]),Ne(e,"ons-u-mr-xs",t[2])},m(a,l){N(a,e,l),R(e,r)},p(a,l){l&1&&i!==(i=a[6][a[0]].d)&&u(r,"d",i),l&16&&u(r,"stroke-width",a[4]),l&32&&u(r,"fill",a[5]),l&8&&u(r,"stroke",a[3]),l&1&&n!==(n=a[6][a[0]].viewBox)&&u(e,"viewBox",n),l&2&&Ne(e,"ons-u-ml-xs",a[1]),l&4&&Ne(e,"ons-u-mr-xs",a[2])},d(a){a&&g(e)}}}function ca(t){let e,r=t[6][t[0]]&&Ir(t);return{c(){r&&r.c(),e=le()},l(i){r&&r.l(i),e=le()},m(i,n){r&&r.m(i,n),N(i,e,n)},p(i,[n]){i[6][i[0]]?r?r.p(i,n):(r=Ir(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:ae,o:ae,d(i){r&&r.d(i),i&&g(e)}}}function da(t,e,r){let{type:i="arrow"}=e,{marginLeft:n=!1}=e,{marginRight:a=!1}=e,{stroke:l,strokeWidth:o,fill:s}=e;const f={arrow:{d:"m10 .2-.9.9c-.1.1-.1.4 0 .5l4 4H.6c-.2 0-.4.2-.4.4v1.2c0 .2.2.4.4.4h12.5l-3.9 3.7c-.2.2-.2.4 0 .6l.8.9c.2.2.4.2.6 0L16.8 7c.2-.2.2-.4 0-.6L10.7.3c-.3-.2-.5-.2-.7-.1z",viewBox:"0 0 17 13"},externalLink:{d:"M13.5,9H13a.5.5,0,0,0-.5.5v3h-9v-9h3A.5.5,0,0,0,7,3V2.5A.5.5,0,0,0,6.5,2h-4a.5.5,0,0,0-.5.5v11a.5.5,0,0,0,.5.5h11a.5.5,0,0,0,.5-.5v-4A.5.5,0,0,0,13.5,9Z M8.83,7.88a.51.51,0,0,0,.71,0l2.31-2.32,1.28,1.28A.51.51,0,0,0,14,6.49v-4a.52.52,0,0,0-.5-.5h-4A.51.51,0,0,0,9,2.52a.58.58,0,0,0,.14.33l1.28,1.28L8.12,6.46a.51.51,0,0,0,0,.71Z",viewBox:"2 2 12 12"},signout:{d:"M13.85,7.65l-2.5-2.5a.5.5,0,0,0-.71,0,.48.48,0,0,0-.15.36V7h-3a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h3v1.5A.49.49,0,0,0,11,11a.48.48,0,0,0,.34-.14l2.51-2.5a.49.49,0,0,0,0-.68Z M8.5,14h-6a.5.5,0,0,1-.5-.5V2.5A.5.5,0,0,1,2.5,2h6a.5.5,0,0,1,.5.5V3a.5.5,0,0,1-.5.5h-5v9h5A.5.5,0,0,1,9,13v.5A.5.5,0,0,1,8.5,14Z",viewBox:"0 0 12 12"},print:{d:"M17 4H3C1.3 4 0 5.2 0 6.8v5.5h4V16h12v-3.7h4V6.8C20 5.2 18.7 4 17 4zm-3 10H6V9h8v5zm3-6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-1-8H4v3h12V0z",viewBox:"0 0 20 16"},download:{d:"M5.6 9a.48.48 0 0 0 .7 0l3-3.2a.48.48 0 0 0 0-.7C9.3 5 9.2 5 9 5H7.5V.5A.47.47 0 0 0 7 0H5a.47.47 0 0 0-.5.5V5H3a.47.47 0 0 0-.5.5.37.37 0 0 0 .1.3Z M11.5 9H11a.47.47 0 0 0-.5.5v1h-9v-1A.47.47 0 0 0 1 9H.5a.47.47 0 0 0-.5.5v2a.47.47 0 0 0 .5.5h11a.47.47 0 0 0 .5-.5v-2a.47.47 0 0 0-.5-.5Z",viewBox:"0 0 12 12"},tick:{d:"M14.35,3.9l-.71-.71a.5.5,0,0,0-.71,0h0L5.79,10.34,3.07,7.61a.51.51,0,0,0-.71,0l-.71.71a.51.51,0,0,0,0,.71l3.78,3.78a.5.5,0,0,0,.71,0h0L14.35,4.6A.5.5,0,0,0,14.35,3.9Z",viewBox:"1.5 3 13 10"},search:{d:"M11.86 10.23 8.62 6.99a4.63 4.63 0 1 0-6.34 1.64 4.55 4.55 0 0 0 2.36.64 4.65 4.65 0 0 0 2.33-.65l3.24 3.23a.46.46 0 0 0 .65 0l1-1a.48.48 0 0 0 0-.62Zm-5-3.32a3.28 3.28 0 0 1-2.31.93 3.22 3.22 0 1 1 2.35-.93Z",viewBox:"0 0 12 12"},edit:{d:"M 20 1 l-18 18 l0 3 l3 0 l18 -18 z M 17 4 l3 3 M4 17 l3 3",viewBox:"0 0 24 24"},cross:{d:"M 1 1 l22 22 M23 1 l-22 22",viewBox:"0 0 24 24"}};return t.$$set=h=>{"type"in h&&r(0,i=h.type),"marginLeft"in h&&r(1,n=h.marginLeft),"marginRight"in h&&r(2,a=h.marginRight),"stroke"in h&&r(3,l=h.stroke),"strokeWidth"in h&&r(4,o=h.strokeWidth),"fill"in h&&r(5,s=h.fill)},[i,n,a,l,o,s,f]}class At extends Ae{constructor(e){super(),pe(this,e,da,ca,ye,{type:0,marginLeft:1,marginRight:2,stroke:3,strokeWidth:4,fill:5})}}function _a(t){let e,r,i,n,a,l,o,s,f=t[4]&&t[5]==="before"&&Dr(t);const h=t[12].default,c=qi(h,t,t[11],null);let _=t[4]&&t[5]==="after"&&Rr(t);return{c(){e=U("button"),r=U("span"),f&&f.c(),i=ie(),n=U("span"),c&&c.c(),a=ie(),_&&_.c(),this.h()},l(d){e=Q(d,"BUTTON",{type:!0,class:!0});var m=k(e);r=Q(m,"SPAN",{class:!0});var b=k(r);f&&f.l(b),i=ne(b),n=Q(b,"SPAN",{class:!0});var v=k(n);c&&c.l(v),v.forEach(g),a=ne(b),_&&_.l(b),b.forEach(g),m.forEach(g),this.h()},h(){u(n,"class","ons-btn__text"),u(r,"class","ons-btn__inner"),u(e,"type",t[0]),u(e,"class","ons-btn"),e.disabled=t[6],Ne(e,"ons-btn--small",t[3]),Ne(e,"ons-btn--secondary",t[1]==="secondary"),Ne(e,"ons-btn--ghost",t[1]==="ghost"),Ne(e,"ons-btn--disabled",t[6])},m(d,m){N(d,e,m),R(e,r),f&&f.m(r,null),R(r,i),R(r,n),c&&c.m(n,null),R(r,a),_&&_.m(r,null),l=!0,o||(s=Pe(e,"click",t[14]),o=!0)},p(d,m){d[4]&&d[5]==="before"?f?(f.p(d,m),m&48&&C(f,1)):(f=Dr(d),f.c(),C(f,1),f.m(r,i)):f&&(me(),P(f,1,1,()=>{f=null}),ge()),c&&c.p&&(!l||m&2048)&&Gi(c,h,d,d[11],l?Yi(h,d[11],m,null):Zi(d[11]),null),d[4]&&d[5]==="after"?_?(_.p(d,m),m&48&&C(_,1)):(_=Rr(d),_.c(),C(_,1),_.m(r,null)):_&&(me(),P(_,1,1,()=>{_=null}),ge()),(!l||m&1)&&u(e,"type",d[0]),(!l||m&64)&&(e.disabled=d[6]),(!l||m&8)&&Ne(e,"ons-btn--small",d[3]),(!l||m&2)&&Ne(e,"ons-btn--secondary",d[1]==="secondary"),(!l||m&2)&&Ne(e,"ons-btn--ghost",d[1]==="ghost"),(!l||m&64)&&Ne(e,"ons-btn--disabled",d[6])},i(d){l||(C(f),C(c,d),C(_),l=!0)},o(d){P(f),P(c,d),P(_),l=!1},d(d){d&&g(e),f&&f.d(),c&&c.d(d),_&&_.d(),o=!1,s()}}}function ma(t){let e,r,i,n,a,l,o,s,f,h=t[4]&&t[5]==="before"&&Cr(t);const c=t[12].default,_=qi(c,t,t[11],null);let d=t[4]&&t[5]==="after"&&Er(t);return{c(){e=U("a"),r=U("span"),h&&h.c(),i=ie(),n=U("span"),_&&_.c(),a=ie(),d&&d.c(),this.h()},l(m){e=Q(m,"A",{href:!0,role:!0,class:!0,disabled:!0});var b=k(e);r=Q(b,"SPAN",{class:!0});var v=k(r);h&&h.l(v),i=ne(v),n=Q(v,"SPAN",{class:!0});var w=k(n);_&&_.l(w),w.forEach(g),a=ne(v),d&&d.l(v),v.forEach(g),b.forEach(g),this.h()},h(){u(n,"class","ons-btn__text"),u(r,"class","ons-btn__inner"),u(e,"href",l=t[6]?null:t[2]),u(e,"role","button"),u(e,"class","ons-btn ons-btn--link ons-js-submit-btn"),u(e,"disabled",t[6]),Ne(e,"ons-btn--small",t[3]),Ne(e,"ons-btn--secondary",t[1]==="secondary"),Ne(e,"ons-btn--ghost",t[1]==="ghost"),Ne(e,"ons-btn--disabled",t[6])},m(m,b){N(m,e,b),R(e,r),h&&h.m(r,null),R(r,i),R(r,n),_&&_.m(n,null),R(r,a),d&&d.m(r,null),o=!0,s||(f=Pe(e,"click",t[13]),s=!0)},p(m,b){m[4]&&m[5]==="before"?h?(h.p(m,b),b&48&&C(h,1)):(h=Cr(m),h.c(),C(h,1),h.m(r,i)):h&&(me(),P(h,1,1,()=>{h=null}),ge()),_&&_.p&&(!o||b&2048)&&Gi(_,c,m,m[11],o?Yi(c,m[11],b,null):Zi(m[11]),null),m[4]&&m[5]==="after"?d?(d.p(m,b),b&48&&C(d,1)):(d=Er(m),d.c(),C(d,1),d.m(r,null)):d&&(me(),P(d,1,1,()=>{d=null}),ge()),(!o||b&68&&l!==(l=m[6]?null:m[2]))&&u(e,"href",l),(!o||b&64)&&u(e,"disabled",m[6]),(!o||b&8)&&Ne(e,"ons-btn--small",m[3]),(!o||b&2)&&Ne(e,"ons-btn--secondary",m[1]==="secondary"),(!o||b&2)&&Ne(e,"ons-btn--ghost",m[1]==="ghost"),(!o||b&64)&&Ne(e,"ons-btn--disabled",m[6])},i(m){o||(C(h),C(_,m),C(d),o=!0)},o(m){P(h),P(_,m),P(d),o=!1},d(m){m&&g(e),h&&h.d(),_&&_.d(m),d&&d.d(),s=!1,f()}}}function Dr(t){let e,r;return e=new At({props:{type:t[4],marginRight:!0,stroke:t[7],strokeWidth:t[8],fill:t[9]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n&16&&(a.type=i[4]),n&128&&(a.stroke=i[7]),n&256&&(a.strokeWidth=i[8]),n&512&&(a.fill=i[9]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Rr(t){let e,r;return e=new At({props:{type:t[4],marginLeft:!0,stroke:t[7],strokeWidth:t[8],fill:t[9]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n&16&&(a.type=i[4]),n&128&&(a.stroke=i[7]),n&256&&(a.strokeWidth=i[8]),n&512&&(a.fill=i[9]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Cr(t){let e,r;return e=new At({props:{type:t[4],marginRight:!0,stroke:t[7],strokeWidth:t[8],fill:t[9]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n&16&&(a.type=i[4]),n&128&&(a.stroke=i[7]),n&256&&(a.strokeWidth=i[8]),n&512&&(a.fill=i[9]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Er(t){let e,r;return e=new At({props:{type:t[4],marginLeft:!0,stroke:t[7],strokeWidth:t[8],fill:t[9]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n&16&&(a.type=i[4]),n&128&&(a.stroke=i[7]),n&256&&(a.strokeWidth=i[8]),n&512&&(a.fill=i[9]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function ga(t){let e,r,i,n;const a=[ma,_a],l=[];function o(s,f){return s[2]?0:1}return e=o(t),r=l[e]=a[e](t),{c(){r.c(),i=le()},l(s){r.l(s),i=le()},m(s,f){l[e].m(s,f),N(s,i,f),n=!0},p(s,[f]){let h=e;e=o(s),e===h?l[e].p(s,f):(me(),P(l[h],1,1,()=>{l[h]=null}),ge(),r=l[e],r?r.p(s,f):(r=l[e]=a[e](s),r.c()),C(r,1),r.m(i.parentNode,i))},i(s){n||(C(r),n=!0)},o(s){P(r),n=!1},d(s){l[e].d(s),s&&g(i)}}}function ba(t,e,r){let{$$slots:i={},$$scope:n}=e;const a=hn();let{type:l="button"}=e,{variant:o="primary"}=e,{href:s=""}=e,{small:f=!1}=e,{icon:h=""}=e,{iconPosition:c="before"}=e,{disabled:_=!1}=e,{stroke:d=null,strokeWidth:m=null,fill:b=null}=e;const v=D=>a("click",D),w=D=>a("click",D);return t.$$set=D=>{"type"in D&&r(0,l=D.type),"variant"in D&&r(1,o=D.variant),"href"in D&&r(2,s=D.href),"small"in D&&r(3,f=D.small),"icon"in D&&r(4,h=D.icon),"iconPosition"in D&&r(5,c=D.iconPosition),"disabled"in D&&r(6,_=D.disabled),"stroke"in D&&r(7,d=D.stroke),"strokeWidth"in D&&r(8,m=D.strokeWidth),"fill"in D&&r(9,b=D.fill),"$$scope"in D&&r(11,n=D.$$scope)},[l,o,s,f,h,c,_,d,m,b,a,n,i,v,w]}class an extends Ae{constructor(e){super(),pe(this,e,ba,ga,ye,{type:0,variant:1,href:2,small:3,icon:4,iconPosition:5,disabled:6,stroke:7,strokeWidth:8,fill:9})}}function va(t){let e,r,i,n;return{c(){e=W("svg"),r=W("path"),this.h()},l(a){e=L(a,"svg",{cursor:!0,xmlns:!0,"aria-hidden":!0,viewBox:!0,width:!0});var l=k(e);r=L(l,"path",{stroke:!0,fill:!0,"stroke-width":!0,d:!0}),k(r).forEach(g),l.forEach(g),this.h()},h(){u(r,"stroke","currentcolor"),u(r,"fill","none"),u(r,"stroke-width","3.5px"),u(r,"d","M 1 1 l22 22 M23 1 l-22 22"),u(e,"cursor","pointer"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"aria-hidden","true"),u(e,"viewBox","0 0 36 30"),u(e,"width","20")},m(a,l){N(a,e,l),R(e,r),i||(n=Pe(e,"click",t[1]),i=!0)},p:ae,d(a){a&&g(e),i=!1,n()}}}function Aa(t){let e,r;return{c(){e=W("svg"),r=W("path"),this.h()},l(i){e=L(i,"svg",{xmlns:!0,"aria-hidden":!0,viewBox:!0,width:!0});var n=k(e);r=L(n,"path",{fill:!0,d:!0}),k(r).forEach(g),n.forEach(g),this.h()},h(){u(r,"fill","currentcolor"),u(r,"d","M11.86 10.23 8.62 6.99a4.63 4.63 0 1 0-6.34 1.64 4.55 4.55 0 0 0 2.36.64 4.65 4.65 0 0 0 2.33-.65l3.24 3.23a.46.46 0 0 0 .65 0l1-1a.48.48 0 0 0 0-.62Zm-5-3.32a3.28 3.28 0 0 1-2.31.93 3.22 3.22 0 1 1 2.35-.93Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"aria-hidden","true"),u(e,"viewBox","0 0 14 14"),u(e,"width","20")},m(i,n){N(i,e,n),R(e,r)},p:ae,d(i){i&&g(e)}}}function pa(t){let e,r,i,n,a,l;function o(h,c){return h[0]===""?Aa:va}let s=o(t),f=s(t);return{c(){e=U("div"),r=U("div"),i=U("input"),n=ie(),f.c(),this.h()},l(h){e=Q(h,"DIV",{class:!0});var c=k(e);r=Q(c,"DIV",{class:!0});var _=k(r);i=Q(_,"INPUT",{placeholder:!0,class:!0}),n=ne(_),f.l(_),_.forEach(g),c.forEach(g),this.h()},h(){u(i,"placeholder","Type to search areas"),u(i,"class","svelte-16719b9"),u(r,"class","input-container svelte-16719b9"),u(e,"class","input-container-focused-border svelte-16719b9")},m(h,c){N(h,e,c),R(e,r),R(r,i),Lt(i,t[0]),R(r,n),f.m(r,null),a||(l=Pe(i,"input",t[2]),a=!0)},p(h,[c]){c&1&&i.value!==h[0]&&Lt(i,h[0]),s===(s=o(h))&&f?f.p(h,c):(f.d(1),f=s(h),f&&(f.c(),f.m(r,null)))},i:ae,o:ae,d(h){h&&g(e),f.d(),a=!1,l()}}}function ya(t,e,r){let{searchText:i}=e;const n=()=>{r(0,i="")};function a(){i=this.value,r(0,i)}return t.$$set=l=>{"searchText"in l&&r(0,i=l.searchText)},[i,n,a]}class ka extends Ae{constructor(e){super(),pe(this,e,ya,pa,ye,{searchText:0})}}function wa(t){let e,r,i=t[0]["areanm"in t[0]?"areanm":"label"]+"",n,a,l,o,s,f;return{c(){e=U("button"),r=U("span"),n=be(i),a=ie(),l=W("svg"),o=W("path"),this.h()},l(h){e=Q(h,"BUTTON",{class:!0,style:!0});var c=k(e);r=Q(c,"SPAN",{style:!0});var _=k(r);n=ve(_,i),_.forEach(g),a=ne(c),l=L(c,"svg",{cursor:!0,xmlns:!0,"aria-hidden":!0,viewBox:!0,width:!0});var d=k(l);o=L(d,"path",{stroke:!0,fill:!0,"stroke-width":!0,d:!0}),k(o).forEach(g),d.forEach(g),c.forEach(g),this.h()},h(){He(r,"color",t[1]),u(o,"stroke",t[1]),u(o,"fill","none"),u(o,"stroke-width","3px"),u(o,"d","M 1 1 l22 22 M23 1 l-22 22"),u(l,"cursor","pointer"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"aria-hidden","true"),u(l,"viewBox","0 0 36 24"),u(l,"width","20"),u(e,"class","visible-area-container svelte-4273sc"),He(e,"background-color",t[2])},m(h,c){N(h,e,c),R(e,r),R(r,n),R(e,a),R(e,l),R(l,o),s||(f=Pe(e,"click",t[3]),s=!0)},p(h,[c]){c&1&&i!==(i=h[0]["areanm"in h[0]?"areanm":"label"]+"")&&we(n,i),c&2&&He(r,"color",h[1]),c&2&&u(o,"stroke",h[1]),c&4&&He(e,"background-color",h[2])},i:ae,o:ae,d(h){h&&g(e),s=!1,f()}}}function Ia(t,e,r){let i,n,{areaType:a}=e,{chosenParentAreasArray:l,chosenRelatedAreasArray:o,chosenSameRegionArray:s,chosenCountriesArray:f,chosenRegionsArray:h,chosenAllOtherArray:c}=e;const _=()=>{"areanm"in a?(r(4,l=l.filter(d=>d!=a.areacd)),r(6,s=s.filter(d=>d!=a.areacd)),r(7,f=f.filter(d=>d!=a.areacd)),r(8,h=h.filter(d=>d!=a.areacd)),r(9,c=c.filter(d=>d!=a.areacd))):r(5,o=o.filter(d=>d!=a.role))};return t.$$set=d=>{"areaType"in d&&r(0,a=d.areaType),"chosenParentAreasArray"in d&&r(4,l=d.chosenParentAreasArray),"chosenRelatedAreasArray"in d&&r(5,o=d.chosenRelatedAreasArray),"chosenSameRegionArray"in d&&r(6,s=d.chosenSameRegionArray),"chosenCountriesArray"in d&&r(7,f=d.chosenCountriesArray),"chosenRegionsArray"in d&&r(8,h=d.chosenRegionsArray),"chosenAllOtherArray"in d&&r(9,c=d.chosenAllOtherArray)},t.$$.update=()=>{t.$$.dirty&1&&r(2,i=oe[a.role in oe?a.role:"default"].color),t.$$.dirty&1&&r(1,n=oe[a.role in oe?a.role:"default"].contrast)},[a,n,i,_,l,o,s,f,h,c]}class Da extends Ae{constructor(e){super(),pe(this,e,Ia,wa,ye,{areaType:0,chosenParentAreasArray:4,chosenRelatedAreasArray:5,chosenSameRegionArray:6,chosenCountriesArray:7,chosenRegionsArray:8,chosenAllOtherArray:9})}}function Mr(t,e,r){const i=t.slice();return i[13]=e[r],i}function Nr(t){let e,r,i,n,a,l,o,s;function f(v){t[7](v)}function h(v){t[8](v)}function c(v){t[9](v)}function _(v){t[10](v)}function d(v){t[11](v)}function m(v){t[12](v)}let b={areaType:t[13]};return t[0]!==void 0&&(b.chosenParentAreasArray=t[0]),t[1]!==void 0&&(b.chosenRelatedAreasArray=t[1]),t[2]!==void 0&&(b.chosenSameRegionArray=t[2]),t[3]!==void 0&&(b.chosenCountriesArray=t[3]),t[4]!==void 0&&(b.chosenRegionsArray=t[4]),t[5]!==void 0&&(b.chosenAllOtherArray=t[5]),e=new Da({props:b}),fe.push(()=>ue(e,"chosenParentAreasArray",f)),fe.push(()=>ue(e,"chosenRelatedAreasArray",h)),fe.push(()=>ue(e,"chosenSameRegionArray",c)),fe.push(()=>ue(e,"chosenCountriesArray",_)),fe.push(()=>ue(e,"chosenRegionsArray",d)),fe.push(()=>ue(e,"chosenAllOtherArray",m)),{c(){x(e.$$.fragment)},l(v){$(e.$$.fragment,v)},m(v,w){ee(e,v,w),s=!0},p(v,w){const D={};w&64&&(D.areaType=v[13]),!r&&w&1&&(r=!0,D.chosenParentAreasArray=v[0],he(()=>r=!1)),!i&&w&2&&(i=!0,D.chosenRelatedAreasArray=v[1],he(()=>i=!1)),!n&&w&4&&(n=!0,D.chosenSameRegionArray=v[2],he(()=>n=!1)),!a&&w&8&&(a=!0,D.chosenCountriesArray=v[3],he(()=>a=!1)),!l&&w&16&&(l=!0,D.chosenRegionsArray=v[4],he(()=>l=!1)),!o&&w&32&&(o=!0,D.chosenAllOtherArray=v[5],he(()=>o=!1)),e.$set(D)},i(v){s||(C(e.$$.fragment,v),s=!0)},o(v){P(e.$$.fragment,v),s=!1},d(v){te(e,v)}}}function Ra(t){let e,r,i=t[6],n=[];for(let l=0;l<i.length;l+=1)n[l]=Nr(Mr(t,i,l));const a=l=>P(n[l],1,1,()=>{n[l]=null});return{c(){e=U("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=Q(l,"DIV",{class:!0});var o=k(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(g),this.h()},h(){u(e,"class","visible-areas-container svelte-5en97q")},m(l,o){N(l,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);r=!0},p(l,[o]){if(o&127){i=l[6];let s;for(s=0;s<i.length;s+=1){const f=Mr(l,i,s);n[s]?(n[s].p(f,o),C(n[s],1)):(n[s]=Nr(f),n[s].c(),C(n[s],1),n[s].m(e,null))}for(me(),s=i.length;s<n.length;s+=1)a(s);ge()}},i(l){if(!r){for(let o=0;o<i.length;o+=1)C(n[o]);r=!0}},o(l){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)P(n[o]);r=!1},d(l){l&&g(e),Ie(n,l)}}}function Ca(t,e,r){let{visibleAreaTypesWithData:i}=e,{chosenParentAreasArray:n,chosenRelatedAreasArray:a,chosenSameRegionArray:l,chosenCountriesArray:o,chosenRegionsArray:s,chosenAllOtherArray:f}=e;function h(v){n=v,r(0,n)}function c(v){a=v,r(1,a)}function _(v){l=v,r(2,l)}function d(v){o=v,r(3,o)}function m(v){s=v,r(4,s)}function b(v){f=v,r(5,f)}return t.$$set=v=>{"visibleAreaTypesWithData"in v&&r(6,i=v.visibleAreaTypesWithData),"chosenParentAreasArray"in v&&r(0,n=v.chosenParentAreasArray),"chosenRelatedAreasArray"in v&&r(1,a=v.chosenRelatedAreasArray),"chosenSameRegionArray"in v&&r(2,l=v.chosenSameRegionArray),"chosenCountriesArray"in v&&r(3,o=v.chosenCountriesArray),"chosenRegionsArray"in v&&r(4,s=v.chosenRegionsArray),"chosenAllOtherArray"in v&&r(5,f=v.chosenAllOtherArray)},[n,a,l,o,s,f,i,h,c,_,d,m,b]}class Ea extends Ae{constructor(e){super(),pe(this,e,Ca,Ra,ye,{visibleAreaTypesWithData:6,chosenParentAreasArray:0,chosenRelatedAreasArray:1,chosenSameRegionArray:2,chosenCountriesArray:3,chosenRegionsArray:4,chosenAllOtherArray:5})}}function Pr(t){let e,r;return e=new an({props:{small:!0,icon:"edit",variant:"secondary",strokeWidth:"1.5px",stroke:"currentcolor",fill:"none",$$slots:{default:[Ma]},$$scope:{ctx:t}}}),e.$on("click",t[17]),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[1]&512&&(a.$$scope={dirty:n,ctx:i}),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Ma(t){let e;return{c(){e=be("Add/remove comparison areas")},l(r){e=ve(r,"Add/remove comparison areas")},m(r,i){N(r,e,i)},d(r){r&&g(e)}}}function Tr(t){let e,r,i,n,a,l,o,s,f,h,c,_,d,m,b,v,w,D,z,T,F,p,I,y,A,B,Z,H,M,X,j,G;l=new an({props:{small:!0,icon:"cross",variant:"secondary",stroke:"currentcolor",fill:"none",strokeWidth:"2.5px"}}),l.$on("click",t[18]);function ke(K){t[26](K)}function O(K){t[27](K)}function Ce(K){t[28](K)}function E(K){t[29](K)}function J(K){t[30](K)}function De(K){t[31](K)}let Me={visibleAreaTypesWithData:t[8]};t[0]!==void 0&&(Me.chosenParentAreasArray=t[0]),t[1]!==void 0&&(Me.chosenRelatedAreasArray=t[1]),t[2]!==void 0&&(Me.chosenSameRegionArray=t[2]),t[3]!==void 0&&(Me.chosenCountriesArray=t[3]),t[4]!==void 0&&(Me.chosenRegionsArray=t[4]),t[5]!==void 0&&(Me.chosenAllOtherArray=t[5]),s=new Ea({props:Me}),fe.push(()=>ue(s,"chosenParentAreasArray",ke)),fe.push(()=>ue(s,"chosenRelatedAreasArray",O)),fe.push(()=>ue(s,"chosenSameRegionArray",Ce)),fe.push(()=>ue(s,"chosenCountriesArray",E)),fe.push(()=>ue(s,"chosenRegionsArray",J)),fe.push(()=>ue(s,"chosenAllOtherArray",De)),v=new Ye({props:{orientation:"vertical"}});let _e=t[16].length>0&&Wr(t),se=t[16].length>0&&t[15].length>0&&Lr(),S=t[15].length>0&&Br(t);p=new Ye({props:{orientation:"vertical"}});function Y(K){t[34](K)}let Ee={};t[9]!==void 0&&(Ee.searchText=t[9]),B=new ka({props:Ee}),fe.push(()=>ue(B,"searchText",Y));let de=t[14].length>0&&Or(t),q=t[13].length>0&&t[6].geogLevel!="country"&&Sr(t),re=t[12].length>0&&t[6].geogLevel!="region"&&Vr(t),Re=t[11].length>0&&zr(t);return{c(){e=U("div"),r=U("div"),i=U("p"),n=be("Add/remove comparison areas"),a=ie(),x(l.$$.fragment),o=ie(),x(s.$$.fragment),b=ie(),x(v.$$.fragment),w=ie(),D=U("div"),_e&&_e.c(),z=ie(),se&&se.c(),T=ie(),S&&S.c(),F=ie(),x(p.$$.fragment),I=ie(),y=U("div"),A=U("div"),x(B.$$.fragment),H=ie(),de&&de.c(),M=ie(),q&&q.c(),X=ie(),re&&re.c(),j=ie(),Re&&Re.c(),this.h()},l(K){e=Q(K,"DIV",{class:!0});var ce=k(e);r=Q(ce,"DIV",{class:!0});var V=k(r);i=Q(V,"P",{class:!0});var We=k(i);n=ve(We,"Add/remove comparison areas"),We.forEach(g),a=ne(V),$(l.$$.fragment,V),V.forEach(g),o=ne(ce),$(s.$$.fragment,ce),b=ne(ce),$(v.$$.fragment,ce),w=ne(ce),D=Q(ce,"DIV",{class:!0});var Se=k(D);_e&&_e.l(Se),z=ne(Se),se&&se.l(Se),T=ne(Se),S&&S.l(Se),Se.forEach(g),F=ne(ce),$(p.$$.fragment,ce),I=ne(ce),y=Q(ce,"DIV",{class:!0});var Le=k(y);A=Q(Le,"DIV",{class:!0});var $e=k(A);$(B.$$.fragment,$e),$e.forEach(g),H=ne(Le),de&&de.l(Le),M=ne(Le),q&&q.l(Le),X=ne(Le),re&&re.l(Le),j=ne(Le),Re&&Re.l(Le),Le.forEach(g),ce.forEach(g),this.h()},h(){u(i,"class","modal-title svelte-1a1mim1"),u(r,"class","row-container title-exit-button-container svelte-1a1mim1"),u(D,"class","row-container parent-related-checkboxes-container svelte-1a1mim1"),u(A,"class","sticky svelte-1a1mim1"),u(y,"class","sticky-container svelte-1a1mim1"),u(e,"class","add-comparison-areas-container svelte-1a1mim1")},m(K,ce){N(K,e,ce),R(e,r),R(r,i),R(i,n),R(r,a),ee(l,r,null),R(e,o),ee(s,e,null),R(e,b),ee(v,e,null),R(e,w),R(e,D),_e&&_e.m(D,null),R(D,z),se&&se.m(D,null),R(D,T),S&&S.m(D,null),R(e,F),ee(p,e,null),R(e,I),R(e,y),R(y,A),ee(B,A,null),R(y,H),de&&de.m(y,null),R(y,M),q&&q.m(y,null),R(y,X),re&&re.m(y,null),R(y,j),Re&&Re.m(y,null),G=!0},p(K,ce){const V={};ce[0]&256&&(V.visibleAreaTypesWithData=K[8]),!f&&ce[0]&1&&(f=!0,V.chosenParentAreasArray=K[0],he(()=>f=!1)),!h&&ce[0]&2&&(h=!0,V.chosenRelatedAreasArray=K[1],he(()=>h=!1)),!c&&ce[0]&4&&(c=!0,V.chosenSameRegionArray=K[2],he(()=>c=!1)),!_&&ce[0]&8&&(_=!0,V.chosenCountriesArray=K[3],he(()=>_=!1)),!d&&ce[0]&16&&(d=!0,V.chosenRegionsArray=K[4],he(()=>d=!1)),!m&&ce[0]&32&&(m=!0,V.chosenAllOtherArray=K[5],he(()=>m=!1)),s.$set(V),K[16].length>0?_e?(_e.p(K,ce),ce[0]&65536&&C(_e,1)):(_e=Wr(K),_e.c(),C(_e,1),_e.m(D,z)):_e&&(me(),P(_e,1,1,()=>{_e=null}),ge()),K[16].length>0&&K[15].length>0?se?ce[0]&98304&&C(se,1):(se=Lr(),se.c(),C(se,1),se.m(D,T)):se&&(me(),P(se,1,1,()=>{se=null}),ge()),K[15].length>0?S?(S.p(K,ce),ce[0]&32768&&C(S,1)):(S=Br(K),S.c(),C(S,1),S.m(D,null)):S&&(me(),P(S,1,1,()=>{S=null}),ge());const We={};!Z&&ce[0]&512&&(Z=!0,We.searchText=K[9],he(()=>Z=!1)),B.$set(We),K[14].length>0?de?(de.p(K,ce),ce[0]&16384&&C(de,1)):(de=Or(K),de.c(),C(de,1),de.m(y,M)):de&&(me(),P(de,1,1,()=>{de=null}),ge()),K[13].length>0&&K[6].geogLevel!="country"?q?(q.p(K,ce),ce[0]&8256&&C(q,1)):(q=Sr(K),q.c(),C(q,1),q.m(y,X)):q&&(me(),P(q,1,1,()=>{q=null}),ge()),K[12].length>0&&K[6].geogLevel!="region"?re?(re.p(K,ce),ce[0]&4160&&C(re,1)):(re=Vr(K),re.c(),C(re,1),re.m(y,j)):re&&(me(),P(re,1,1,()=>{re=null}),ge()),K[11].length>0?Re?(Re.p(K,ce),ce[0]&2048&&C(Re,1)):(Re=zr(K),Re.c(),C(Re,1),Re.m(y,null)):Re&&(me(),P(Re,1,1,()=>{Re=null}),ge())},i(K){G||(C(l.$$.fragment,K),C(s.$$.fragment,K),C(v.$$.fragment,K),C(_e),C(se),C(S),C(p.$$.fragment,K),C(B.$$.fragment,K),C(de),C(q),C(re),C(Re),G=!0)},o(K){P(l.$$.fragment,K),P(s.$$.fragment,K),P(v.$$.fragment,K),P(_e),P(se),P(S),P(p.$$.fragment,K),P(B.$$.fragment,K),P(de),P(q),P(re),P(Re),G=!1},d(K){K&&g(e),te(l),te(s),te(v),_e&&_e.d(),se&&se.d(),S&&S.d(),te(p),te(B),de&&de.d(),q&&q.d(),re&&re.d(),Re&&Re.d()}}}function Wr(t){let e,r,i,n;function a(o){t[32](o)}let l={title:"Parent areas:",name:"parent-areas-checkbox-selection",optionsArray:t[16],labelKey:"areanm",idKey:"areacd"};return t[0]!==void 0&&(l.valueArray=t[0]),r=new xe({props:l}),fe.push(()=>ue(r,"valueArray",a)),{c(){e=U("div"),x(r.$$.fragment),this.h()},l(o){e=Q(o,"DIV",{class:!0});var s=k(e);$(r.$$.fragment,s),s.forEach(g),this.h()},h(){u(e,"class","column-container svelte-1a1mim1")},m(o,s){N(o,e,s),ee(r,e,null),n=!0},p(o,s){const f={};s[0]&65536&&(f.optionsArray=o[16]),!i&&s[0]&1&&(i=!0,f.valueArray=o[0],he(()=>i=!1)),r.$set(f)},i(o){n||(C(r.$$.fragment,o),n=!0)},o(o){P(r.$$.fragment,o),n=!1},d(o){o&&g(e),te(r)}}}function Lr(t){let e,r;return e=new Ye({props:{orientation:"horizontal"}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Br(t){let e,r,i,n;function a(o){t[33](o)}let l={title:"Related areas:",name:"related-areas-checkbox-selection",optionsArray:t[15],labelKey:"label",idKey:"id"};return t[1]!==void 0&&(l.valueArray=t[1]),r=new xe({props:l}),fe.push(()=>ue(r,"valueArray",a)),{c(){e=U("div"),x(r.$$.fragment),this.h()},l(o){e=Q(o,"DIV",{class:!0});var s=k(e);$(r.$$.fragment,s),s.forEach(g),this.h()},h(){u(e,"class","column-container svelte-1a1mim1")},m(o,s){N(o,e,s),ee(r,e,null),n=!0},p(o,s){const f={};s[0]&32768&&(f.optionsArray=o[15]),!i&&s[0]&2&&(i=!0,f.valueArray=o[1],he(()=>i=!1)),r.$set(f)},i(o){n||(C(r.$$.fragment,o),n=!0)},o(o){P(r.$$.fragment,o),n=!1},d(o){o&&g(e),te(r)}}}function Or(t){let e,r,i,n,a,l;function o(f){t[35](f)}let s={title:t[7]+":",name:"parent-areas-checkbox-selection",optionsArray:t[14],labelKey:"areanm",idKey:"areacd",columns:"2"};return t[2]!==void 0&&(s.valueArray=t[2]),r=new xe({props:s}),fe.push(()=>ue(r,"valueArray",o)),a=new Ye({props:{orientation:"vertical"}}),{c(){e=U("div"),x(r.$$.fragment),n=ie(),x(a.$$.fragment),this.h()},l(f){e=Q(f,"DIV",{class:!0});var h=k(e);$(r.$$.fragment,h),h.forEach(g),n=ne(f),$(a.$$.fragment,f),this.h()},h(){u(e,"class","checkbox-grid-container svelte-1a1mim1")},m(f,h){N(f,e,h),ee(r,e,null),N(f,n,h),ee(a,f,h),l=!0},p(f,h){const c={};h[0]&128&&(c.title=f[7]+":"),h[0]&16384&&(c.optionsArray=f[14]),!i&&h[0]&4&&(i=!0,c.valueArray=f[2],he(()=>i=!1)),r.$set(c)},i(f){l||(C(r.$$.fragment,f),C(a.$$.fragment,f),l=!0)},o(f){P(r.$$.fragment,f),P(a.$$.fragment,f),l=!1},d(f){f&&g(e),te(r),f&&g(n),te(a,f)}}}function Sr(t){let e,r,i,n,a,l;function o(f){t[36](f)}let s={title:"Countries:",name:"parent-areas-checkbox-selection",optionsArray:t[13],labelKey:"areanm",idKey:"areacd",columns:"2"};return t[3]!==void 0&&(s.valueArray=t[3]),r=new xe({props:s}),fe.push(()=>ue(r,"valueArray",o)),a=new Ye({props:{orientation:"vertical"}}),{c(){e=U("div"),x(r.$$.fragment),n=ie(),x(a.$$.fragment),this.h()},l(f){e=Q(f,"DIV",{class:!0});var h=k(e);$(r.$$.fragment,h),h.forEach(g),n=ne(f),$(a.$$.fragment,f),this.h()},h(){u(e,"class","checkbox-grid-container svelte-1a1mim1")},m(f,h){N(f,e,h),ee(r,e,null),N(f,n,h),ee(a,f,h),l=!0},p(f,h){const c={};h[0]&8192&&(c.optionsArray=f[13]),!i&&h[0]&8&&(i=!0,c.valueArray=f[3],he(()=>i=!1)),r.$set(c)},i(f){l||(C(r.$$.fragment,f),C(a.$$.fragment,f),l=!0)},o(f){P(r.$$.fragment,f),P(a.$$.fragment,f),l=!1},d(f){f&&g(e),te(r),f&&g(n),te(a,f)}}}function Vr(t){let e,r,i,n,a,l;function o(f){t[37](f)}let s={title:"Regions of England:",name:"parent-areas-checkbox-selection",optionsArray:t[12],labelKey:"areanm",idKey:"areacd",columns:"2"};return t[4]!==void 0&&(s.valueArray=t[4]),r=new xe({props:s}),fe.push(()=>ue(r,"valueArray",o)),a=new Ye({props:{orientation:"vertical"}}),{c(){e=U("div"),x(r.$$.fragment),n=ie(),x(a.$$.fragment),this.h()},l(f){e=Q(f,"DIV",{class:!0});var h=k(e);$(r.$$.fragment,h),h.forEach(g),n=ne(f),$(a.$$.fragment,f),this.h()},h(){u(e,"class","checkbox-grid-container svelte-1a1mim1")},m(f,h){N(f,e,h),ee(r,e,null),N(f,n,h),ee(a,f,h),l=!0},p(f,h){const c={};h[0]&4096&&(c.optionsArray=f[12]),!i&&h[0]&16&&(i=!0,c.valueArray=f[4],he(()=>i=!1)),r.$set(c)},i(f){l||(C(r.$$.fragment,f),C(a.$$.fragment,f),l=!0)},o(f){P(r.$$.fragment,f),P(a.$$.fragment,f),l=!1},d(f){f&&g(e),te(r),f&&g(n),te(a,f)}}}function zr(t){let e,r,i,n;function a(o){t[38](o)}let l={title:"All other areas:",name:"parent-areas-checkbox-selection",optionsArray:t[11],labelKey:"areanm",idKey:"areacd",columns:"2"};return t[5]!==void 0&&(l.valueArray=t[5]),r=new xe({props:l}),fe.push(()=>ue(r,"valueArray",a)),{c(){e=U("div"),x(r.$$.fragment),this.h()},l(o){e=Q(o,"DIV",{class:!0});var s=k(e);$(r.$$.fragment,s),s.forEach(g),this.h()},h(){u(e,"class","checkbox-grid-container svelte-1a1mim1")},m(o,s){N(o,e,s),ee(r,e,null),n=!0},p(o,s){const f={};s[0]&2048&&(f.optionsArray=o[11]),!i&&s[0]&32&&(i=!0,f.valueArray=o[5],he(()=>i=!1)),r.$set(f)},i(o){n||(C(r.$$.fragment,o),n=!0)},o(o){P(r.$$.fragment,o),n=!1},d(o){o&&g(e),te(r)}}}function Na(t){let e,r,i,n=!t[10]&&Pr(t),a=t[10]&&Tr(t);return{c(){n&&n.c(),e=ie(),a&&a.c(),r=le()},l(l){n&&n.l(l),e=ne(l),a&&a.l(l),r=le()},m(l,o){n&&n.m(l,o),N(l,e,o),a&&a.m(l,o),N(l,r,o),i=!0},p(l,o){l[10]?n&&(me(),P(n,1,1,()=>{n=null}),ge()):n?(n.p(l,o),o[0]&1024&&C(n,1)):(n=Pr(l),n.c(),C(n,1),n.m(e.parentNode,e)),l[10]?a?(a.p(l,o),o[0]&1024&&C(a,1)):(a=Tr(l),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(me(),P(a,1,1,()=>{a=null}),ge())},i(l){i||(C(n),C(a),i=!0)},o(l){P(n),P(a),i=!1},d(l){n&&n.d(l),l&&g(e),a&&a.d(l),l&&g(r)}}}function Pa(t,e,r){let i,n,a,l,o,s,f,h,c,{selectedArea:_,sameRegionsLabel:d,areasCodesForAreasWithData:m,selectedAndRelatedAreas:b,selectedAndRelatedAreasCodes:v,sameRegionAreasCodes:w,visibleAreaTypesWithData:D}=e,{chosenParentAreasArray:z,chosenRelatedAreasArray:T,chosenSameRegionArray:F,chosenCountriesArray:p,chosenRegionsArray:I,chosenAllOtherArray:y}=e,A=!1;const B=()=>{r(10,A=!0)},Z=()=>{r(10,A=!1)};let H="",M=Be("areasArray");function X(Y){z=Y,r(0,z)}function j(Y){T=Y,r(1,T)}function G(Y){F=Y,r(2,F)}function ke(Y){p=Y,r(3,p)}function O(Y){I=Y,r(4,I)}function Ce(Y){y=Y,r(5,y)}function E(Y){z=Y,r(0,z)}function J(Y){T=Y,r(1,T)}function De(Y){H=Y,r(9,H)}function Me(Y){F=Y,r(2,F)}function _e(Y){p=Y,r(3,p)}function se(Y){I=Y,r(4,I)}function S(Y){y=Y,r(5,y)}return t.$$set=Y=>{"selectedArea"in Y&&r(6,_=Y.selectedArea),"sameRegionsLabel"in Y&&r(7,d=Y.sameRegionsLabel),"areasCodesForAreasWithData"in Y&&r(19,m=Y.areasCodesForAreasWithData),"selectedAndRelatedAreas"in Y&&r(20,b=Y.selectedAndRelatedAreas),"selectedAndRelatedAreasCodes"in Y&&r(21,v=Y.selectedAndRelatedAreasCodes),"sameRegionAreasCodes"in Y&&r(22,w=Y.sameRegionAreasCodes),"visibleAreaTypesWithData"in Y&&r(8,D=Y.visibleAreaTypesWithData),"chosenParentAreasArray"in Y&&r(0,z=Y.chosenParentAreasArray),"chosenRelatedAreasArray"in Y&&r(1,T=Y.chosenRelatedAreasArray),"chosenSameRegionArray"in Y&&r(2,F=Y.chosenSameRegionArray),"chosenCountriesArray"in Y&&r(3,p=Y.chosenCountriesArray),"chosenRegionsArray"in Y&&r(4,I=Y.chosenRegionsArray),"chosenAllOtherArray"in Y&&r(5,y=Y.chosenAllOtherArray)},t.$$.update=()=>{t.$$.dirty[0]&512&&r(25,i=H?new RegExp(H,"i"):null),t.$$.dirty[0]&524352&&r(24,n=M.filter(Y=>m.includes(Y.areacd)&Y.areacd!=_.areacd)),t.$$.dirty[0]&50331648&&r(23,a=i?n.filter(Y=>i.test(Y.areanm)):n),t.$$.dirty[0]&18874368&&r(16,l=n.filter(Y=>v.includes(Y.areacd))),t.$$.dirty[0]&4718720&&r(15,o=[vn(m,w)&&d?{id:"sameRegion",label:d}:void 0].filter(Y=>Y)),t.$$.dirty[0]&14680064&&r(14,s=a.filter(Y=>w.includes(Y.areacd)&&!v.includes(Y.areacd))),t.$$.dirty[0]&10485760&&r(13,f=a.filter(Y=>Y.geogLevel==="country"&&!v.includes(Y.areacd))),t.$$.dirty[0]&10485760&&r(12,h=a.filter(Y=>Y.geogLevel==="region"&&!v.includes(Y.areacd))),t.$$.dirty[0]&14680064&&r(11,c=a.filter(Y=>Y.geogLevel!="other"&&!w.includes(Y.areacd)&&!["country","region"].includes(Y.geogLevel)&&!v.includes(Y.areacd)))},[z,T,F,p,I,y,_,d,D,H,A,c,h,f,s,o,l,B,Z,m,b,v,w,a,n,i,X,j,G,ke,O,Ce,E,J,De,Me,_e,se,S]}class Ta extends Ae{constructor(e){super(),pe(this,e,Pa,Na,ye,{selectedArea:6,sameRegionsLabel:7,areasCodesForAreasWithData:19,selectedAndRelatedAreas:20,selectedAndRelatedAreasCodes:21,sameRegionAreasCodes:22,visibleAreaTypesWithData:8,chosenParentAreasArray:0,chosenRelatedAreasArray:1,chosenSameRegionArray:2,chosenCountriesArray:3,chosenRegionsArray:4,chosenAllOtherArray:5},null,[-1,-1])}}function on(t,e,r,i){t=t.map(a=>({targetY:r(a),y:r(a),height:i(a),datum:a})),t.sort((a,l)=>a.targetY-l.targetY);const n=[];for(const a of t){const l={data:[a]};for(Fr(l,e),n.push(l);n.length>1&&n[n.length-2].hi>n[n.length-1].lo;){const o=n.pop(),s=n[n.length-1];s.data.push(...o.data),Fr(s,e)}}return n.map(a=>a.data).flat()}function Fr(t,e){const r=La(t.data),i=Wa(t.data,r);t.lo=i-r/2,t.lo<e[0]?t.lo=e[0]:t.lo>e[1]-r&&(t.lo=e[1]-r),t.hi=t.lo+r,sn(t.data,t.lo,(n,a)=>{n.y=a})}function Wa(t,e){const r=[];return sn(t,-e/2,(i,n)=>{r.push({val:i.targetY-n,weight:1/i.height})}),Ba(r)}function sn(t,e,r){let i=e;for(const n of t)i+=n.height/2,r(n,i),i+=n.height/2}function La(t){let e=0;for(const r of t)e+=r.height;return e}function Ba(t){let e=0,r=0;for(const i of t)e+=i.val*i.weight,r+=i.weight;return e/r}function Hr(t,e,r){const i=t.slice();return i[11]=e[r],i}function qr(t){let e,r,i,n;function a(s,f){return f&2&&(r=null),r==null&&(r=!!["parent","country","uk"].includes(s[1].role)),r?Sa:Oa}let l=a(t,-1),o=l(t);return{c(){e=W("g"),o.c(),this.h()},l(s){e=L(s,"g",{transform:!0,opacity:!0});var f=k(e);o.l(f),f.forEach(g),this.h()},h(){u(e,"transform",i="translate("+t[2](t[11].xDomainNumb)+","+t[3](t[11].value)+")"),u(e,"opacity",n=t[0]===void 0?["similar","sameRegion"].includes(t[1].role)?.75:1:.15)},m(s,f){N(s,e,f),o.m(e,null)},p(s,f){l===(l=a(s,f))&&o?o.p(s,f):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null))),f&14&&i!==(i="translate("+s[2](s[11].xDomainNumb)+","+s[3](s[11].value)+")")&&u(e,"transform",i),f&3&&n!==(n=s[0]===void 0?["similar","sameRegion"].includes(s[1].role)?.75:1:.15)&&u(e,"opacity",n)},d(s){s&&g(e),o.d()}}}function Oa(t){let e;return{c(){e=W("circle"),this.h()},l(r){e=L(r,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0}),k(e).forEach(g),this.h()},h(){u(e,"r",4),u(e,"stroke","white"),u(e,"stroke-width","1.5px"),u(e,"fill",t[6])},m(r,i){N(r,e,i)},p(r,i){i&64&&u(e,"fill",r[6])},d(r){r&&g(e)}}}function Sa(t){let e,r;return{c(){e=W("rect"),this.h()},l(i){e=L(i,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(e).forEach(g),this.h()},h(){u(e,"transform",r=["country","uk"].includes(t[1].role)?"rotate(45)":null),u(e,"x","-4"),u(e,"y","-4"),u(e,"width","8"),u(e,"height","8"),u(e,"fill",t[6]),u(e,"stroke","white"),u(e,"stroke-width","1.5px")},m(i,n){N(i,e,n)},p(i,n){n&2&&r!==(r=["country","uk"].includes(i[1].role)?"rotate(45)":null)&&u(e,"transform",r),n&64&&u(e,"fill",i[6])},d(i){i&&g(e)}}}function Gr(t){let e=t[5]||t[11].xDomainNumb===t[4][1]&&!["similar","sameRegion"].includes(t[1].role),r,i=e&&qr(t);return{c(){i&&i.c(),r=le()},l(n){i&&i.l(n),r=le()},m(n,a){i&&i.m(n,a),N(n,r,a)},p(n,a){a&50&&(e=n[5]||n[11].xDomainNumb===n[4][1]&&!["similar","sameRegion"].includes(n[1].role)),e?i?i.p(n,a):(i=qr(n),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(n){i&&i.d(n),n&&g(r)}}}function Va(t){let e,r,i,n,a,l,o,s,f,h,c=t[1].data,_=[];for(let d=0;d<c.length;d+=1)_[d]=Gr(Hr(t,c,d));return{c(){e=W("path"),a=ie();for(let d=0;d<_.length;d+=1)_[d].c();l=ie(),o=W("path"),this.h()},l(d){e=L(d,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),k(e).forEach(g),a=ne(d);for(let m=0;m<_.length;m+=1)_[m].l(d);l=ne(d),o=L(d,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),k(o).forEach(g),this.h()},h(){u(e,"d",r=t[7](t[1].data)),u(e,"fill","none"),u(e,"stroke",t[6]),u(e,"stroke-width",i=["similar","sameRegion"].includes(t[1].role)?"2px":"3px"),u(e,"opacity",n=t[0]===void 0?["similar","sameRegion"].includes(t[1].role)?.75:1:.15),u(o,"d",s=t[7](t[1].data)),u(o,"fill","none"),u(o,"stroke","black"),u(o,"stroke-width","20px"),u(o,"opacity",0)},m(d,m){N(d,e,m),N(d,a,m);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(d,m);N(d,l,m),N(d,o,m),f||(h=[Pe(o,"mouseenter",t[8]),Pe(o,"mouseleave",t[9])],f=!0)},p(d,[m]){if(m&130&&r!==(r=d[7](d[1].data))&&u(e,"d",r),m&64&&u(e,"stroke",d[6]),m&2&&i!==(i=["similar","sameRegion"].includes(d[1].role)?"2px":"3px")&&u(e,"stroke-width",i),m&3&&n!==(n=d[0]===void 0?["similar","sameRegion"].includes(d[1].role)?.75:1:.15)&&u(e,"opacity",n),m&127){c=d[1].data;let b;for(b=0;b<c.length;b+=1){const v=Hr(d,c,b);_[b]?_[b].p(v,m):(_[b]=Gr(v),_[b].c(),_[b].m(l.parentNode,l))}for(;b<_.length;b+=1)_[b].d(1);_.length=c.length}m&130&&s!==(s=d[7](d[1].data))&&u(o,"d",s)},i:ae,o:ae,d(d){d&&g(e),d&&g(a),Ie(_,d),d&&g(l),d&&g(o),f=!1,bt(h)}}}function za(t,e,r){let i,n,{area:a,x:l,y:o,xDomain:s,showPoints:f,hoverId:h}=e;const c=()=>{r(0,h=a.areacd)},_=()=>{r(0,h=void 0)};return t.$$set=d=>{"area"in d&&r(1,a=d.area),"x"in d&&r(2,l=d.x),"y"in d&&r(3,o=d.y),"xDomain"in d&&r(4,s=d.xDomain),"showPoints"in d&&r(5,f=d.showPoints),"hoverId"in d&&r(0,h=d.hoverId)},t.$$.update=()=>{t.$$.dirty&12&&r(7,i=gt().x(d=>l(d.xDomainNumb)).y(d=>o(d.value))),t.$$.dirty&2&&r(6,n=oe[a.role in oe?a.role:"default"].color),t.$$.dirty&2&&oe[a.role in oe?a.role:"default"].contrast},[h,a,l,o,s,f,n,i,c,_]}class Fa extends Ae{constructor(e){super(),pe(this,e,za,Va,ye,{area:1,x:2,y:3,xDomain:4,showPoints:5,hoverId:0})}}function Zr(t,e,r){const i=t.slice();return i[6]=e[r],i}function Yr(t){let e,r;return{c(){e=W("path"),this.h()},l(i){e=L(i,"path",{d:!0,stroke:!0,fill:!0,"pointer-events":!0,opacity:!0}),k(e).forEach(g),this.h()},h(){u(e,"d",r=t[4](t[3])),u(e,"stroke","none"),u(e,"fill",oe.selected.color),u(e,"pointer-events","none"),u(e,"opacity","0.25")},m(i,n){N(i,e,n)},p(i,n){n&24&&r!==(r=i[4](i[3]))&&u(e,"d",r)},d(i){i&&g(e)}}}function Ha(t){let e;return{c(){e=W("circle"),this.h()},l(r){e=L(r,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0,"pointer-events":!0}),k(e).forEach(g),this.h()},h(){u(e,"r",4),u(e,"stroke","white"),u(e,"stroke-width","1.5px"),u(e,"fill",oe.selected.color),u(e,"pointer-events","none")},m(r,i){N(r,e,i)},p:ae,d(r){r&&g(e)}}}function qa(t){let e,r;return{c(){e=W("rect"),this.h()},l(i){e=L(i,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),k(e).forEach(g),this.h()},h(){u(e,"transform",r=["country","uk"].includes(t[0].role)?"rotate(45)":null),u(e,"x","-4"),u(e,"y","-4"),u(e,"width","8"),u(e,"height","8"),u(e,"fill",oe.selected.color),u(e,"stroke","white"),u(e,"stroke-width","1.5px"),u(e,"pointer-events","none")},m(i,n){N(i,e,n)},p(i,n){n&1&&r!==(r=["country","uk"].includes(i[0].role)?"rotate(45)":null)&&u(e,"transform",r)},d(i){i&&g(e)}}}function Xr(t){let e,r,i;function n(o,s){return s&1&&(r=null),r==null&&(r=!!["parent","country","uk"].includes(o[0].role)),r?qa:Ha}let a=n(t,-1),l=a(t);return{c(){e=W("g"),l.c(),this.h()},l(o){e=L(o,"g",{transform:!0});var s=k(e);l.l(s),s.forEach(g),this.h()},h(){u(e,"transform",i="translate("+t[1](t[6].xDomainNumb)+","+t[2](t[6].value)+")")},m(o,s){N(o,e,s),l.m(e,null)},p(o,s){a===(a=n(o,s))&&l?l.p(o,s):(l.d(1),l=a(o),l&&(l.c(),l.m(e,null))),s&7&&i!==(i="translate("+o[1](o[6].xDomainNumb)+","+o[2](o[6].value)+")")&&u(e,"transform",i)},d(o){o&&g(e),l.d()}}}function Ga(t){let e,r,i,n,a,l=t[3]&&Yr(t),o=t[0].data,s=[];for(let f=0;f<o.length;f+=1)s[f]=Xr(Zr(t,o,f));return{c(){l&&l.c(),e=ie(),r=W("path"),n=ie();for(let f=0;f<s.length;f+=1)s[f].c();a=le(),this.h()},l(f){l&&l.l(f),e=ne(f),r=L(f,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),k(r).forEach(g),n=ne(f);for(let h=0;h<s.length;h+=1)s[h].l(f);a=le(),this.h()},h(){u(r,"d",i=t[4](t[0].data)),u(r,"fill","none"),u(r,"stroke",oe.selected.color),u(r,"stroke-width","3px"),u(r,"pointer-events","none")},m(f,h){l&&l.m(f,h),N(f,e,h),N(f,r,h),N(f,n,h);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(f,h);N(f,a,h)},p(f,[h]){if(f[3]?l?l.p(f,h):(l=Yr(f),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),h&17&&i!==(i=f[4](f[0].data))&&u(r,"d",i),h&7){o=f[0].data;let c;for(c=0;c<o.length;c+=1){const _=Zr(f,o,c);s[c]?s[c].p(_,h):(s[c]=Xr(_),s[c].c(),s[c].m(a.parentNode,a))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}},i:ae,o:ae,d(f){l&&l.d(f),f&&g(e),f&&g(r),f&&g(n),Ie(s,f),f&&g(a)}}}function Za(t,e,r){let i,n,{area:a,x:l,y:o,hoverId:s}=e;return t.$$set=f=>{"area"in f&&r(0,a=f.area),"x"in f&&r(1,l=f.x),"y"in f&&r(2,o=f.y),"hoverId"in f&&r(5,s=f.hoverId)},t.$$.update=()=>{t.$$.dirty&6&&r(4,i=gt().x(f=>l(f.xDomainNumb)).y(f=>o(f.value))),t.$$.dirty&1&&console.log(a.data),t.$$.dirty&1&&r(3,n=[...a.data.map(f=>({xDomainNumb:f.xDomainNumb,value:f.uci})),...[...a.data].reverse().map(f=>({xDomainNumb:f.xDomainNumb,value:f.lci}))].filter(f=>f.value!="NA")),t.$$.dirty&8&&console.log(n)},console.log("hello"),[a,l,o,n,i,s]}class Ya extends Ae{constructor(e){super(),pe(this,e,Za,Ga,ye,{area:0,x:1,y:2,hoverId:5})}}function jr(t,e,r){const i=t.slice();return i[8]=e[r],i[10]=r,i}function Kr(t){let e,r,i,n,a=t[0]&&Ur(t),l=t[4],o=[];for(let s=0;s<l.length;s+=1)o[s]=Qr(jr(t,l,s));return{c(){e=W("g"),a&&a.c(),r=W("g");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=L(s,"g",{class:!0,transform:!0});var f=k(e);a&&a.l(f),r=L(f,"g",{});var h=k(r);for(let c=0;c<o.length;c+=1)o[c].l(h);h.forEach(g),f.forEach(g),this.h()},h(){u(e,"class","label-container"),u(e,"transform",n="translate("+(t[2]+10)+","+(t[1].y+(t[4].length===2?-10:0))+")")},m(s,f){N(s,e,f),a&&a.m(e,null),R(e,r);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(r,null);i=Ze.observe(r,t[7].bind(r))},p(s,f){if(s[0]?a?a.p(s,f):(a=Ur(s),a.c(),a.m(e,r)):a&&(a.d(1),a=null),f&48){l=s[4];let h;for(h=0;h<l.length;h+=1){const c=jr(s,l,h);o[h]?o[h].p(c,f):(o[h]=Qr(c),o[h].c(),o[h].m(r,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=l.length}f&22&&n!==(n="translate("+(s[2]+10)+","+(s[1].y+(s[4].length===2?-10:0))+")")&&u(e,"transform",n)},d(s){s&&g(e),a&&a.d(),Ie(o,s),i()}}}function Ur(t){let e,r,i,n;return{c(){e=W("rect"),this.h()},l(a){e=L(a,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,fill:!0}),k(e).forEach(g),this.h()},h(){u(e,"x",-3),u(e,"width",r=t[0].width+6),u(e,"y",i=t[0].y-18),u(e,"height",n=t[0].height),u(e,"rx","2px"),u(e,"stroke","none"),u(e,"fill",t[6])},m(a,l){N(a,e,l)},p(a,l){l&1&&r!==(r=a[0].width+6)&&u(e,"width",r),l&1&&i!==(i=a[0].y-18)&&u(e,"y",i),l&1&&n!==(n=a[0].height)&&u(e,"height",n),l&64&&u(e,"fill",a[6])},d(a){a&&g(e)}}}function Qr(t){let e,r=t[8]+"",i;return{c(){e=W("text"),i=be(r),this.h()},l(n){e=L(n,"text",{y:!0,fill:!0});var a=k(e);i=ve(a,r),a.forEach(g),this.h()},h(){u(e,"y",18*t[10]),u(e,"fill",t[5])},m(n,a){N(n,e,a),R(e,i)},p(n,a){a&16&&r!==(r=n[8]+"")&&we(i,r),a&32&&u(e,"fill",n[5])},d(n){n&&g(e)}}}function Xa(t){let e,r=(t[3]===t[1].datum.areacd||!t[3])&&Kr(t);return{c(){r&&r.c(),e=le()},l(i){r&&r.l(i),e=le()},m(i,n){r&&r.m(i,n),N(i,e,n)},p(i,[n]){i[3]===i[1].datum.areacd||!i[3]?r?r.p(i,n):(r=Kr(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:ae,o:ae,d(i){r&&r.d(i),i&&g(e)}}}function ja(t,e,r){let i,n,a,{label:l,chartWidth:o,labelRect:s,hoverId:f}=e;function h(){var c;s=(c=qe.entries.get(this))==null?void 0:c.contentRect,r(0,s)}return t.$$set=c=>{"label"in c&&r(1,l=c.label),"chartWidth"in c&&r(2,o=c.chartWidth),"labelRect"in c&&r(0,s=c.labelRect),"hoverId"in c&&r(3,f=c.hoverId)},t.$$.update=()=>{t.$$.dirty&10&&r(6,i=oe[l.datum.areacd===f?"selected":l.datum.role in oe?l.datum.role:"default"].color),t.$$.dirty&10&&r(5,n=oe[l.datum.areacd===f?"selected":l.datum.role in oe?l.datum.role:"default"].contrast),t.$$.dirty&2&&r(4,a=l.datum.areanm.length>25?ji(l.datum.areanm,2):[l.datum.areanm])},[s,l,o,f,a,n,i,h]}let Ka=class extends Ae{constructor(e){super(),pe(this,e,ja,Xa,ye,{label:1,chartWidth:2,labelRect:0,hoverId:3})}};function Jr(t,e,r){const i=t.slice();return i[9]=e[r],i[11]=r,i}function xr(t){let e,r,i,n;return{c(){e=W("rect"),this.h()},l(a){e=L(a,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,fill:!0}),k(e).forEach(g),this.h()},h(){u(e,"x",-3),u(e,"width",r=t[1].width+6),u(e,"y",i=t[1].y-18),u(e,"height",n=t[1].height),u(e,"rx","2px"),u(e,"stroke","none"),u(e,"fill",t[4])},m(a,l){N(a,e,l)},p(a,l){l&2&&r!==(r=a[1].width+6)&&u(e,"width",r),l&2&&i!==(i=a[1].y-18)&&u(e,"y",i),l&2&&n!==(n=a[1].height)&&u(e,"height",n),l&16&&u(e,"fill",a[4])},d(a){a&&g(e)}}}function $r(t){let e,r=t[9]+"",i;return{c(){e=W("text"),i=be(r),this.h()},l(n){e=L(n,"text",{y:!0,fill:!0});var a=k(e);i=ve(a,r),a.forEach(g),this.h()},h(){u(e,"y",18*t[11]),u(e,"fill",t[3])},m(n,a){N(n,e,a),R(e,i)},p(n,a){a&4&&r!==(r=n[9]+"")&&we(i,r),a&8&&u(e,"fill",n[3])},d(n){n&&g(e)}}}function Ua(t){let e,r,i,n,a=t[1]&&xr(t),l=t[2],o=[];for(let s=0;s<l.length;s+=1)o[s]=$r(Jr(t,l,s));return{c(){e=W("g"),a&&a.c(),r=W("g");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=L(s,"g",{class:!0,transform:!0});var f=k(e);a&&a.l(f),r=L(f,"g",{});var h=k(r);for(let c=0;c<o.length;c+=1)o[c].l(h);h.forEach(g),f.forEach(g),this.h()},h(){u(e,"class","label-container"),u(e,"transform",n="translate("+(t[0]+10)+","+(t[5]+(t[2].length===2?-10:0))+")")},m(s,f){N(s,e,f),a&&a.m(e,null),R(e,r);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(r,null);i=Ze.observe(r,t[8].bind(r))},p(s,[f]){if(s[1]?a?a.p(s,f):(a=xr(s),a.c(),a.m(e,r)):a&&(a.d(1),a=null),f&12){l=s[2];let h;for(h=0;h<l.length;h+=1){const c=Jr(s,l,h);o[h]?o[h].p(c,f):(o[h]=$r(c),o[h].c(),o[h].m(r,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=l.length}f&5&&n!==(n="translate("+(s[0]+10)+","+(s[5]+(s[2].length===2?-10:0))+")")&&u(e,"transform",n)},i:ae,o:ae,d(s){s&&g(e),a&&a.d(),Ie(o,s),i()}}}function Qa(t,e,r){let i,n,a,{area:l,chartWidth:o,y:s}=e,f,h=s(l.data[0].value);function c(){var _;f=(_=qe.entries.get(this))==null?void 0:_.contentRect,r(1,f)}return t.$$set=_=>{"area"in _&&r(6,l=_.area),"chartWidth"in _&&r(0,o=_.chartWidth),"y"in _&&r(7,s=_.y)},t.$$.update=()=>{t.$$.dirty&64&&r(2,a=l.areanm.length>25?ji(l.areanm,2):[l.areanm])},r(4,i=oe.selected.color),r(3,n=oe.selected.contrast),[o,f,a,n,i,h,l,s,c]}class Ja extends Ae{constructor(e){super(),pe(this,e,Qa,Ua,ye,{area:6,chartWidth:0,y:7})}}function ei(t,e,r){const i=t.slice();return i[10]=e[r],i[11]=e,i[12]=r,i}function ti(t){let e,r,i,n,a,l=t[2].metadata.prefix+Te(t[10])+t[2].metadata.suffix+"",o,s,f;function h(){t[9].call(a,t[12])}return{c(){e=W("g"),r=W("line"),a=W("text"),o=be(l),this.h()},l(c){e=L(c,"g",{class:!0});var _=k(e);r=L(_,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),k(r).forEach(g),a=L(_,"text",{"text-anchor":!0,x:!0,y:!0});var d=k(a);o=ve(d,l),d.forEach(g),_.forEach(g),this.h()},h(){u(r,"x1","0"),u(r,"x2","-8"),u(r,"y1",i=t[1](t[10])),u(r,"y2",n=t[1](t[10])),u(r,"stroke","#222"),u(a,"text-anchor","end"),u(a,"x",-10),u(a,"y",s=t[1](t[10])+5),u(e,"class","tick")},m(c,_){N(c,e,_),R(e,r),R(e,a),R(a,o),f=Ze.observe(a,h.bind(a))},p(c,_){t=c,_&10&&i!==(i=t[1](t[10]))&&u(r,"y1",i),_&10&&n!==(n=t[1](t[10]))&&u(r,"y2",n),_&12&&l!==(l=t[2].metadata.prefix+Te(t[10])+t[2].metadata.suffix+"")&&we(o,l),_&10&&s!==(s=t[1](t[10])+5)&&u(a,"y",s)},d(c){c&&g(e),f()}}}function xa(t){let e,r,i,n,a=t[3],l=[];for(let o=0;o<a.length;o+=1)l[o]=ti(ei(t,a,o));return{c(){e=W("g"),r=W("line");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=L(o,"g",{class:!0});var s=k(e);r=L(s,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0}),k(r).forEach(g);for(let f=0;f<l.length;f+=1)l[f].l(s);s.forEach(g),this.h()},h(){u(r,"x1","0"),u(r,"x2","0"),u(r,"y1",i=t[1](t[0][1])),u(r,"y2",n=t[1](t[0][0])),u(r,"stroke","black"),u(e,"class","y-axis-container")},m(o,s){N(o,e,s),R(e,r);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null)},p(o,[s]){if(s&3&&i!==(i=o[1](o[0][1]))&&u(r,"y1",i),s&3&&n!==(n=o[1](o[0][0]))&&u(r,"y2",n),s&30){a=o[3];let f;for(f=0;f<a.length;f+=1){const h=ei(o,a,f);l[f]?l[f].p(h,s):(l[f]=ti(h),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=a.length}},i:ae,o:ae,d(o){o&&g(e),Ie(l,o)}}}function $a(t,e,r){let i,n,a,{yDomainZeroBaseline:l,y:o,selectedIndicator:s,yAxisMaxTickWidth:f}=e,h=[],c=[];function _(d){var m;c[d]=(m=qe.entries.get(this))==null?void 0:m.contentRect,r(4,c)}return t.$$set=d=>{"yDomainZeroBaseline"in d&&r(0,l=d.yDomainZeroBaseline),"y"in d&&r(1,o=d.y),"selectedIndicator"in d&&r(2,s=d.selectedIndicator),"yAxisMaxTickWidth"in d&&r(5,f=d.yAxisMaxTickWidth)},t.$$.update=()=>{if(t.$$.dirty&1&&r(8,i=Math.abs(l[1]-l[0])),t.$$.dirty&256&&r(7,n=10**Math.floor(Math.log10(i))),t.$$.dirty&384&&r(6,a=i/n<=1.5?n/5:i/n<=3?n/2:i/n<=6?n:n*2),t.$$.dirty&73){r(3,h=[]);for(let d=Math.ceil(l[0]);d<=Math.floor(l[1]);d++)d%a==0&&h.push(d)}t.$$.dirty&16&&console.log(c),t.$$.dirty&48&&r(5,f=c.length>0?Math.max(...c.map(d=>d.width)):f)},[l,o,s,h,c,f,a,n,i,_]}class eo extends Ae{constructor(e){super(),pe(this,e,$a,xa,ye,{yDomainZeroBaseline:0,y:1,selectedIndicator:2,yAxisMaxTickWidth:5})}}function ri(t,e,r){const i=t.slice();return i[9]=e[r],i[11]=r,i}function ii(t){let e,r,i,n,a,l=t[9].label+"",o,s,f=t[4]&&ni(t);return{c(){e=W("g"),r=W("line"),a=W("text"),o=be(l),f&&f.c(),this.h()},l(h){e=L(h,"g",{class:!0});var c=k(e);r=L(c,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),k(r).forEach(g),a=L(c,"text",{"text-anchor":!0,y:!0,x:!0});var _=k(a);o=ve(_,l),_.forEach(g),f&&f.l(c),c.forEach(g),this.h()},h(){u(r,"y1","0"),u(r,"y2","8"),u(r,"x1",i=t[1](t[9].xDomainNumb)),u(r,"x2",n=t[1](t[9].xDomainNumb)),u(r,"stroke","black"),u(a,"text-anchor","middle"),u(a,"y",25),u(a,"x",s=t[1](t[9].xDomainNumb)),u(e,"class","tick")},m(h,c){N(h,e,c),R(e,r),R(e,a),R(a,o),f&&f.m(e,null)},p(h,c){c&6&&i!==(i=h[1](h[9].xDomainNumb))&&u(r,"x1",i),c&6&&n!==(n=h[1](h[9].xDomainNumb))&&u(r,"x2",n),c&4&&l!==(l=h[9].label+"")&&we(o,l),c&6&&s!==(s=h[1](h[9].xDomainNumb))&&u(a,"x",s),h[4]?f?f.p(h,c):(f=ni(h),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(h){h&&g(e),f&&f.d()}}}function ni(t){let e,r,i,n;return{c(){e=W("line"),this.h()},l(a){e=L(a,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,opacity:!0}),k(e).forEach(g),this.h()},h(){u(e,"y1","0"),u(e,"y2",r=-t[3]),u(e,"x1",i=t[1](t[9])),u(e,"x2",n=t[1](t[9])),u(e,"stroke","black"),u(e,"opacity","0.1")},m(a,l){N(a,e,l)},p(a,l){l&8&&r!==(r=-a[3])&&u(e,"y2",r),l&6&&i!==(i=a[1](a[9]))&&u(e,"x1",i),l&6&&n!==(n=a[1](a[9]))&&u(e,"x2",n)},d(a){a&&g(e)}}}function li(t){let e=t[5].includes(parseInt(t[9].xDomainNumb)),r,i=e&&ii(t);return{c(){i&&i.c(),r=le()},l(n){i&&i.l(n),r=le()},m(n,a){i&&i.m(n,a),N(n,r,a)},p(n,a){a&36&&(e=n[5].includes(parseInt(n[9].xDomainNumb))),e?i?i.p(n,a):(i=ii(n),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(n){i&&i.d(n),n&&g(r)}}}function to(t){let e,r,i,n,a,l=t[2],o=[];for(let s=0;s<l.length;s+=1)o[s]=li(ri(t,l,s));return{c(){e=W("g"),r=W("line");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=L(s,"g",{class:!0,transform:!0});var f=k(e);r=L(f,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),k(r).forEach(g);for(let h=0;h<o.length;h+=1)o[h].l(f);f.forEach(g),this.h()},h(){u(r,"y1","0"),u(r,"y2","0"),u(r,"x1",i=t[1](t[0][0])),u(r,"x2",n=t[1](t[0][1])),u(r,"stroke","black"),u(e,"class","x-axis-container"),u(e,"transform",a="translate(0,"+t[3]+")")},m(s,f){N(s,e,f),R(e,r);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null)},p(s,[f]){if(f&3&&i!==(i=s[1](s[0][0]))&&u(r,"x1",i),f&3&&n!==(n=s[1](s[0][1]))&&u(r,"x2",n),f&62){l=s[2];let h;for(h=0;h<l.length;h+=1){const c=ri(s,l,h);o[h]?o[h].p(c,f):(o[h]=li(c),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=l.length}f&8&&a!==(a="translate(0,"+s[3]+")")&&u(e,"transform",a)},i:ae,o:ae,d(s){s&&g(e),Ie(o,s)}}}function ro(t,e,r){let i,n,a,{xDomain:l,x:o,filteredPeriodsArray:s,chartHeight:f,gridlines:h=!1}=e;const c=(_,d,m)=>{const b=[];for(let v=d;v>=_;v-=m)b.push(parseInt(v));return b};return t.$$set=_=>{"xDomain"in _&&r(0,l=_.xDomain),"x"in _&&r(1,o=_.x),"filteredPeriodsArray"in _&&r(2,s=_.filteredPeriodsArray),"chartHeight"in _&&r(3,f=_.chartHeight),"gridlines"in _&&r(4,h=_.gridlines)},t.$$.update=()=>{t.$$.dirty&1&&r(7,i=Math.abs(l[1]-l[0])),t.$$.dirty&128&&r(6,n=i>=15?5:i>=6?2:1),t.$$.dirty&65&&r(5,a=c(l[0],l[1],n))},[l,o,s,f,h,a,n,i]}let io=class extends Ae{constructor(e){super(),pe(this,e,ro,to,ye,{xDomain:0,x:1,filteredPeriodsArray:2,chartHeight:3,gridlines:4})}};function ai(t,e,r){const i=t.slice();return i[33]=e[r],i[34]=e,i[35]=r,i}function oi(t,e,r){const i=t.slice();return i[36]=e[r],i[38]=r,i}function si(t,e,r){const i=t.slice();return i[36]=e[r],i[38]=r,i}function fi(t){let e,r,i;function n(l){t[28](l)}let a={xDomain:t[11],area:t[36],x:t[14],y:t[5],showPoints:t[8].length<4};return t[12]!==void 0&&(a.hoverId=t[12]),e=new Fa({props:a}),fe.push(()=>ue(e,"hoverId",n)),{c(){x(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,o){ee(e,l,o),i=!0},p(l,o){const s={};o[0]&2048&&(s.xDomain=l[11]),o[0]&256&&(s.area=l[36]),o[0]&16384&&(s.x=l[14]),o[0]&32&&(s.y=l[5]),o[0]&256&&(s.showPoints=l[8].length<4),!r&&o[0]&4096&&(r=!0,s.hoverId=l[12],he(()=>r=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){P(e.$$.fragment,l),i=!1},d(l){te(e,l)}}}function ui(t){let e,r;return e=new Ya({props:{hoverId:t[12],xDomain:t[11],area:t[36],x:t[14],y:t[5]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&4096&&(a.hoverId=i[12]),n[0]&2048&&(a.xDomain=i[11]),n[0]&256&&(a.area=i[36]),n[0]&16384&&(a.x=i[14]),n[0]&32&&(a.y=i[5]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function hi(t){let e,r,i=t[12]===t[36].areacd&&ui(t);return{c(){i&&i.c(),e=le()},l(n){i&&i.l(n),e=le()},m(n,a){i&&i.m(n,a),N(n,e,a),r=!0},p(n,a){n[12]===n[36].areacd?i?(i.p(n,a),a[0]&4352&&C(i,1)):(i=ui(n),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(me(),P(i,1,1,()=>{i=null}),ge())},i(n){r||(C(i),r=!0)},o(n){P(i),r=!1},d(n){i&&i.d(n),n&&g(e)}}}function ci(t){let e,r,i=t[13],n=[];for(let l=0;l<i.length;l+=1)n[l]=di(ai(t,i,l));const a=l=>P(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=le()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);e=le()},m(l,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(l,o);N(l,e,o),r=!0},p(l,o){if(o[0]&13328){i=l[13];let s;for(s=0;s<i.length;s+=1){const f=ai(l,i,s);n[s]?(n[s].p(f,o),C(n[s],1)):(n[s]=di(f),n[s].c(),C(n[s],1),n[s].m(e.parentNode,e))}for(me(),s=i.length;s<n.length;s+=1)a(s);ge()}},i(l){if(!r){for(let o=0;o<i.length;o+=1)C(n[o]);r=!0}},o(l){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)P(n[o]);r=!1},d(l){Ie(n,l),l&&g(e)}}}function di(t){let e,r,i,n;function a(s){t[29](s)}function l(s){t[30](s,t[35])}let o={chartWidth:t[10],label:t[33]};return t[12]!==void 0&&(o.hoverId=t[12]),t[4][t[35]]!==void 0&&(o.labelRect=t[4][t[35]]),e=new Ka({props:o}),fe.push(()=>ue(e,"hoverId",a)),fe.push(()=>ue(e,"labelRect",l)),{c(){x(e.$$.fragment)},l(s){$(e.$$.fragment,s)},m(s,f){ee(e,s,f),n=!0},p(s,f){t=s;const h={};f[0]&1024&&(h.chartWidth=t[10]),f[0]&8192&&(h.label=t[33]),!r&&f[0]&4096&&(r=!0,h.hoverId=t[12],he(()=>r=!1)),!i&&f[0]&16&&(i=!0,h.labelRect=t[4][t[35]],he(()=>i=!1)),e.$set(h)},i(s){n||(C(e.$$.fragment,s),n=!0)},o(s){P(e.$$.fragment,s),n=!1},d(s){te(e,s)}}}function _i(t){let e,r;return e=new Ja({props:{area:t[8].find(t[31]),chartWidth:t[10],y:t[5]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&4352&&(a.area=i[8].find(i[31])),n[0]&1024&&(a.chartWidth=i[10]),n[0]&32&&(a.y=i[5]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function no(t){let e,r,i,n,a,l,o,s,f,h,c,_,d;function m(y){t[27](y)}let b={y:t[5],yDomainZeroBaseline:t[9],selectedIndicator:t[1]};t[3]!==void 0&&(b.yAxisMaxTickWidth=t[3]),a=new eo({props:b}),fe.push(()=>ue(a,"yAxisMaxTickWidth",m)),o=new io({props:{x:t[14],xDomain:t[11],filteredPeriodsArray:t[0],chartHeight:t[6]}});let v=[...t[8]].reverse(),w=[];for(let y=0;y<v.length;y+=1)w[y]=fi(si(t,v,y));const D=y=>P(w[y],1,1,()=>{w[y]=null});let z=t[8],T=[];for(let y=0;y<z.length;y+=1)T[y]=hi(oi(t,z,y));const F=y=>P(T[y],1,1,()=>{T[y]=null});let p=t[13].length<8&&ci(t),I=t[12]&&_i(t);return{c(){e=U("div"),r=W("svg"),i=W("g"),n=W("rect"),x(a.$$.fragment),x(o.$$.fragment);for(let y=0;y<w.length;y+=1)w[y].c();s=le();for(let y=0;y<T.length;y+=1)T[y].c();f=le(),p&&p.c(),h=le(),I&&I.c(),this.h()},l(y){e=Q(y,"DIV",{class:!0});var A=k(e);r=L(A,"svg",{width:!0,height:!0});var B=k(r);i=L(B,"g",{transform:!0});var Z=k(i);n=L(Z,"rect",{width:!0,height:!0,fill:!0,opacity:!0}),k(n).forEach(g),$(a.$$.fragment,Z),$(o.$$.fragment,Z);for(let H=0;H<w.length;H+=1)w[H].l(Z);s=le();for(let H=0;H<T.length;H+=1)T[H].l(Z);f=le(),p&&p.l(Z),h=le(),I&&I.l(Z),Z.forEach(g),B.forEach(g),A.forEach(g),this.h()},h(){u(n,"width",t[10]),u(n,"height",t[6]),u(n,"fill","black"),u(n,"opacity","0.02"),u(i,"transform",c="translate("+t[7].left+","+t[7].top+")"),u(r,"width",t[2]),u(r,"height",t[15]),u(e,"class","svg-container svelte-v9gq7q"),lt(()=>t[32].call(e))},m(y,A){N(y,e,A),R(e,r),R(r,i),R(i,n),ee(a,i,null),ee(o,i,null);for(let B=0;B<w.length;B+=1)w[B]&&w[B].m(i,null);R(i,s);for(let B=0;B<T.length;B+=1)T[B]&&T[B].m(i,null);R(i,f),p&&p.m(i,null),R(i,h),I&&I.m(i,null),_=vt(e,t[32].bind(e)),d=!0},p(y,A){(!d||A[0]&1024)&&u(n,"width",y[10]),(!d||A[0]&64)&&u(n,"height",y[6]);const B={};A[0]&32&&(B.y=y[5]),A[0]&512&&(B.yDomainZeroBaseline=y[9]),A[0]&2&&(B.selectedIndicator=y[1]),!l&&A[0]&8&&(l=!0,B.yAxisMaxTickWidth=y[3],he(()=>l=!1)),a.$set(B);const Z={};if(A[0]&16384&&(Z.x=y[14]),A[0]&2048&&(Z.xDomain=y[11]),A[0]&1&&(Z.filteredPeriodsArray=y[0]),A[0]&64&&(Z.chartHeight=y[6]),o.$set(Z),A[0]&22816){v=[...y[8]].reverse();let H;for(H=0;H<v.length;H+=1){const M=si(y,v,H);w[H]?(w[H].p(M,A),C(w[H],1)):(w[H]=fi(M),w[H].c(),C(w[H],1),w[H].m(i,s))}for(me(),H=v.length;H<w.length;H+=1)D(H);ge()}if(A[0]&22816){z=y[8];let H;for(H=0;H<z.length;H+=1){const M=oi(y,z,H);T[H]?(T[H].p(M,A),C(T[H],1)):(T[H]=hi(M),T[H].c(),C(T[H],1),T[H].m(i,f))}for(me(),H=z.length;H<T.length;H+=1)F(H);ge()}y[13].length<8?p?(p.p(y,A),A[0]&8192&&C(p,1)):(p=ci(y),p.c(),C(p,1),p.m(i,h)):p&&(me(),P(p,1,1,()=>{p=null}),ge()),y[12]?I?(I.p(y,A),A[0]&4096&&C(I,1)):(I=_i(y),I.c(),C(I,1),I.m(i,null)):I&&(me(),P(I,1,1,()=>{I=null}),ge()),(!d||A[0]&128&&c!==(c="translate("+y[7].left+","+y[7].top+")"))&&u(i,"transform",c),(!d||A[0]&4)&&u(r,"width",y[2])},i(y){if(!d){C(a.$$.fragment,y),C(o.$$.fragment,y);for(let A=0;A<v.length;A+=1)C(w[A]);for(let A=0;A<z.length;A+=1)C(T[A]);C(p),C(I),d=!0}},o(y){P(a.$$.fragment,y),P(o.$$.fragment,y),w=w.filter(Boolean);for(let A=0;A<w.length;A+=1)P(w[A]);T=T.filter(Boolean);for(let A=0;A<T.length;A+=1)P(T[A]);P(p),P(I),d=!1},d(y){y&&g(e),te(a),te(o),Ie(w,y),Ie(T,y),p&&p.d(),I&&I.d(),_()}}}function lo(t,e,r){let i,n,a,l,o,s,f,h,c,_,d,m,b,v,w,{filteredPeriodsArray:D,visibleAreasWithData:z,visiblesAreasWithDataCodes:T,visibleAreaTypesWithData:F,filteredIndicatorDataForVisibleAreas:p,selectedArea:I,selectedIndicator:y,selectedIndicatorCalculations:A}=e,B=1e3,Z=500,H=10,M;function X(E){H=E,r(3,H)}function j(E){M=E,r(12,M)}function G(E){M=E,r(12,M)}function ke(E,J){t.$$.not_equal(w[J],E)&&(w[J]=E,r(4,w))}const O=E=>E.areacd===M;function Ce(){B=this.clientWidth,r(2,B)}return t.$$set=E=>{"filteredPeriodsArray"in E&&r(0,D=E.filteredPeriodsArray),"visibleAreasWithData"in E&&r(16,z=E.visibleAreasWithData),"visiblesAreasWithDataCodes"in E&&r(17,T=E.visiblesAreasWithDataCodes),"visibleAreaTypesWithData"in E&&r(18,F=E.visibleAreaTypesWithData),"filteredIndicatorDataForVisibleAreas"in E&&r(19,p=E.filteredIndicatorDataForVisibleAreas),"selectedArea"in E&&r(20,I=E.selectedArea),"selectedIndicator"in E&&r(1,y=E.selectedIndicator),"selectedIndicatorCalculations"in E&&r(21,A=E.selectedIndicatorCalculations)},t.$$.update=()=>{t.$$.dirty[0]&16&&r(26,i=w.length===0?0:Math.max(...w.map(E=>E.width))),t.$$.dirty[0]&67108872&&r(7,n={top:10,right:i+20,bottom:30,left:20+H}),t.$$.dirty[0]&132&&r(10,a=B-n.left-n.right),t.$$.dirty[0]&128&&r(6,l=Z-n.top-n.bottom),t.$$.dirty[0]&1&&r(11,o=[D[D.length-1].xDomainNumb,D[0].xDomainNumb]),t.$$.dirty[0]&524288&&r(25,s=[...p.map(E=>E.value),...p.map(E=>E.lci),...p.map(E=>E.uci)].filter(E=>E!="NA")),t.$$.dirty[0]&589824&&r(8,f=z.map(E=>({...E,data:p.filter(J=>J.areacd===E.areacd)}))),t.$$.dirty[0]&33554432&&r(24,h=[.95*Math.min(...s),1.05*Math.max(...s)]),t.$$.dirty[0]&18874368&&r(23,c=A?[Math.min(h[0],A.med-3*A.mad),Math.max(h[1],parseFloat(A.med)+3*A.mad)]:h),t.$$.dirty[0]&8388610&&r(9,_=y.metadata.zeroBaseline==="T"?[0,c[1]]:y.metadata.canBeNegative==="F"?[Math.max(0,c[0]),c[1]]:c),t.$$.dirty[0]&3072&&r(14,d=Ge().domain(o).range([0,a])),t.$$.dirty[0]&576&&r(5,m=Ge().domain(_).range([l,0])),t.$$.dirty[0]&256&&r(22,b=f.map(E=>({targetY:E.data[0].value,areacd:E.areacd,areanm:E.areanm,role:E.role}))),t.$$.dirty[0]&4194528&&r(13,v=on(b.filter(E=>!["similar","sameRegion"].includes(E.role)),[-n.top,l],E=>m(E.targetY)+6,E=>E.areanm.length>25?52:26))},r(4,w=[]),[D,y,B,H,w,m,l,n,f,_,a,o,M,v,d,Z,z,T,F,p,I,A,b,c,h,s,i,X,j,G,ke,O,Ce]}class ao extends Ae{constructor(e){super(),pe(this,e,lo,no,ye,{filteredPeriodsArray:0,visibleAreasWithData:16,visiblesAreasWithDataCodes:17,visibleAreaTypesWithData:18,filteredIndicatorDataForVisibleAreas:19,selectedArea:20,selectedIndicator:1,selectedIndicatorCalculations:21},null,[-1,-1])}}function mi(t,e,r){const i=t.slice();return i[10]=e[r],i[12]=r,i}function gi(t){let e,r,i,n,a,l,o="<"+t[2].metadata.prefix+Te(t[6][0])+t[2].metadata.suffix,s,f;return{c(){e=W("g"),r=W("path"),n=W("line"),a=W("line"),l=W("text"),s=be(o),this.h()},l(h){e=L(h,"g",{transform:!0});var c=k(e);r=L(c,"path",{d:!0,stroke:!0,fill:!0}),k(r).forEach(g),n=L(c,"line",{x1:!0,x2:!0,stroke:!0}),k(n).forEach(g),a=L(c,"line",{y1:!0,y2:!0,stroke:!0}),k(a).forEach(g),l=L(c,"text",{x:!0,"text-anchor":!0,y:!0});var _=k(l);s=ve(_,o),_.forEach(g),c.forEach(g),this.h()},h(){u(r,"d",i="M 15 0 l"+(t[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(t[5]/4-20)+" 0"),u(r,"stroke","#222"),u(r,"fill","none"),u(n,"x1","-3"),u(n,"x2","3"),u(n,"stroke","#222"),u(a,"y1","0"),u(a,"y2","8"),u(a,"stroke","#222"),u(l,"x","-20"),u(l,"text-anchor","start"),u(l,"y",24),u(e,"transform",f="translate("+-t[5]/2+",0)")},m(h,c){N(h,e,c),R(e,r),R(e,n),R(e,a),R(e,l),R(l,s)},p(h,c){c&32&&i!==(i="M 15 0 l"+(h[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(h[5]/4-20)+" 0")&&u(r,"d",i),c&68&&o!==(o="<"+h[2].metadata.prefix+Te(h[6][0])+h[2].metadata.suffix)&&we(s,o),c&32&&f!==(f="translate("+-h[5]/2+",0)")&&u(e,"transform",f)},d(h){h&&g(e)}}}function bi(t){let e,r,i,n,a,l,o,s=">"+t[2].metadata.prefix+Te(t[6][t[6].length-1])+t[2].metadata.suffix,f,h;return{c(){e=W("g"),r=W("path"),a=W("line"),l=W("line"),o=W("text"),f=be(s),this.h()},l(c){e=L(c,"g",{transform:!0});var _=k(e);r=L(_,"path",{transform:!0,d:!0,stroke:!0,fill:!0}),k(r).forEach(g),a=L(_,"line",{x1:!0,x2:!0,stroke:!0}),k(a).forEach(g),l=L(_,"line",{y1:!0,y2:!0,stroke:!0}),k(l).forEach(g),o=L(_,"text",{x:!0,"text-anchor":!0,y:!0});var d=k(o);f=ve(d,s),d.forEach(g),_.forEach(g),this.h()},h(){u(r,"transform",i="translate("+-t[5]/2+",0)"),u(r,"d",n="M 15 0 l"+(t[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(t[5]/4-20)+" 0"),u(r,"stroke","#222"),u(r,"fill","none"),u(a,"x1","-3"),u(a,"x2","3"),u(a,"stroke","#222"),u(l,"y1","0"),u(l,"y2","8"),u(l,"stroke","#222"),u(o,"x","20"),u(o,"text-anchor","end"),u(o,"y",24),u(e,"transform",h="translate("+(t[3]+t[5]/2)+",0)")},m(c,_){N(c,e,_),R(e,r),R(e,a),R(e,l),R(e,o),R(o,f)},p(c,_){_&32&&i!==(i="translate("+-c[5]/2+",0)")&&u(r,"transform",i),_&32&&n!==(n="M 15 0 l"+(c[5]/4-20)+" 0 l3 -6 l6 12 l3 -6 l"+(c[5]/4-20)+" 0")&&u(r,"d",n),_&68&&s!==(s=">"+c[2].metadata.prefix+Te(c[6][c[6].length-1])+c[2].metadata.suffix)&&we(f,s),_&40&&h!==(h="translate("+(c[3]+c[5]/2)+",0)")&&u(e,"transform",h)},d(c){c&&g(e)}}}function vi(t){let e,r,i,n,a,l=t[2].metadata.prefix+Te(t[10])+t[2].metadata.suffix+"",o,s;return{c(){e=W("g"),r=W("line"),a=W("text"),o=be(l),this.h()},l(f){e=L(f,"g",{class:!0});var h=k(e);r=L(h,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),k(r).forEach(g),a=L(h,"text",{"text-anchor":!0,y:!0,x:!0});var c=k(a);o=ve(c,l),c.forEach(g),h.forEach(g),this.h()},h(){u(r,"y1","0"),u(r,"y2","8"),u(r,"x1",i=t[1](t[10])),u(r,"x2",n=t[1](t[10])),u(r,"stroke","#222"),u(a,"text-anchor","middle"),u(a,"y",24),u(a,"x",s=t[1](t[10])),u(e,"class","tick")},m(f,h){N(f,e,h),R(e,r),R(e,a),R(a,o)},p(f,h){h&66&&i!==(i=f[1](f[10]))&&u(r,"x1",i),h&66&&n!==(n=f[1](f[10]))&&u(r,"x2",n),h&68&&l!==(l=f[2].metadata.prefix+Te(f[10])+f[2].metadata.suffix+"")&&we(o,l),h&66&&s!==(s=f[1](f[10]))&&u(a,"x",s)},d(f){f&&g(e)}}}function Ai(t){let e,r=(!t[4][1]||t[12]!=t[6].length-1)&&(!t[4][0]||t[12]!=0)&&vi(t);return{c(){r&&r.c(),e=le()},l(i){r&&r.l(i),e=le()},m(i,n){r&&r.m(i,n),N(i,e,n)},p(i,n){(!i[4][1]||i[12]!=i[6].length-1)&&(!i[4][0]||i[12]!=0)?r?r.p(i,n):(r=vi(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&g(e)}}}function oo(t){let e,r,i,n,a,l,o=t[4][0]&&gi(t),s=t[4][1]&&bi(t),f=t[6],h=[];for(let c=0;c<f.length;c+=1)h[c]=Ai(mi(t,f,c));return{c(){e=W("g"),r=W("line"),o&&o.c(),a=le(),s&&s.c(),l=le();for(let c=0;c<h.length;c+=1)h[c].c();this.h()},l(c){e=L(c,"g",{class:!0});var _=k(e);r=L(_,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0}),k(r).forEach(g),o&&o.l(_),a=le(),s&&s.l(_),l=le();for(let d=0;d<h.length;d+=1)h[d].l(_);_.forEach(g),this.h()},h(){u(r,"y1","0"),u(r,"y2","0"),u(r,"x1",i=t[1](t[0][1])),u(r,"x2",n=t[1](t[0][0])),u(r,"stroke","black"),u(e,"class","y-axis-container")},m(c,_){N(c,e,_),R(e,r),o&&o.m(e,null),R(e,a),s&&s.m(e,null),R(e,l);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(e,null)},p(c,[_]){if(_&3&&i!==(i=c[1](c[0][1]))&&u(r,"x1",i),_&3&&n!==(n=c[1](c[0][0]))&&u(r,"x2",n),c[4][0]?o?o.p(c,_):(o=gi(c),o.c(),o.m(e,a)):o&&(o.d(1),o=null),c[4][1]?s?s.p(c,_):(s=bi(c),s.c(),s.m(e,l)):s&&(s.d(1),s=null),_&86){f=c[6];let d;for(d=0;d<f.length;d+=1){const m=mi(c,f,d);h[d]?h[d].p(m,_):(h[d]=Ai(m),h[d].c(),h[d].m(e,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=f.length}},i:ae,o:ae,d(c){c&&g(e),o&&o.d(),s&&s.d(),Ie(h,c)}}}function so(t,e,r){let i,n,a,{xDomainZeroBaselineTicked:l,x:o,selectedIndicator:s,chartWidth:f,valuesOutsideXDomain:h,spaceForOutliers:c}=e,_=[];return t.$$set=d=>{"xDomainZeroBaselineTicked"in d&&r(0,l=d.xDomainZeroBaselineTicked),"x"in d&&r(1,o=d.x),"selectedIndicator"in d&&r(2,s=d.selectedIndicator),"chartWidth"in d&&r(3,f=d.chartWidth),"valuesOutsideXDomain"in d&&r(4,h=d.valuesOutsideXDomain),"spaceForOutliers"in d&&r(5,c=d.spaceForOutliers)},t.$$.update=()=>{if(t.$$.dirty&1&&r(9,i=Math.abs(l[1]-l[0])),t.$$.dirty&512&&r(8,n=10**Math.floor(Math.log10(i))),t.$$.dirty&768&&r(7,a=i/n<=1.5?n/5:i/n<=3?n/2:i/n<=6?n:n*2),t.$$.dirty&193){r(6,_=[]);for(let d=Math.ceil(l[0]);d<=Math.floor(l[1]);d++)d%a==0&&_.push(d)}t.$$.dirty&1&&console.log(l)},[l,o,s,f,h,c,_,a,n,i]}class fo extends Ae{constructor(e){super(),pe(this,e,so,oo,ye,{xDomainZeroBaselineTicked:0,x:1,selectedIndicator:2,chartWidth:3,valuesOutsideXDomain:4,spaceForOutliers:5})}}function uo(t){let e;return{c(){e=W("circle"),this.h()},l(r){e=L(r,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0}),k(e).forEach(g),this.h()},h(){u(e,"r",7),u(e,"stroke","white"),u(e,"stroke-width","1.5px"),u(e,"fill",t[3])},m(r,i){N(r,e,i)},p(r,i){i&8&&u(e,"fill",r[3])},d(r){r&&g(e)}}}function ho(t){let e,r;return{c(){e=W("rect"),this.h()},l(i){e=L(i,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),k(e).forEach(g),this.h()},h(){u(e,"transform",r=["country","uk"].includes(t[0].datum.role)?"rotate(45)":null),u(e,"x","-7"),u(e,"y","-7"),u(e,"width","14"),u(e,"height","14"),u(e,"fill",t[3]),u(e,"stroke","white"),u(e,"stroke-width","1.5px")},m(i,n){N(i,e,n)},p(i,n){n&1&&r!==(r=["country","uk"].includes(i[0].datum.role)?"rotate(45)":null)&&u(e,"transform",r),n&8&&u(e,"fill",i[3])},d(i){i&&g(e)}}}function co(t){let e,r,i,n;function a(s,f){return f&1&&(r=null),r==null&&(r=!!["parent","country","uk"].includes(s[0].datum.role)),r?ho:uo}let l=a(t,-1),o=l(t);return{c(){e=W("g"),o.c(),this.h()},l(s){e=L(s,"g",{transform:!0,opacity:!0});var f=k(e);o.l(f),f.forEach(g),this.h()},h(){u(e,"transform",i="translate("+t[0].x+","+(t[1]-t[0].y)+")"),u(e,"opacity",n=t[2]?.2:1)},m(s,f){N(s,e,f),o.m(e,null)},p(s,[f]){l===(l=a(s,f))&&o?o.p(s,f):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null))),f&3&&i!==(i="translate("+s[0].x+","+(s[1]-s[0].y)+")")&&u(e,"transform",i),f&4&&n!==(n=s[2]?.2:1)&&u(e,"opacity",n)},i:ae,o:ae,d(s){s&&g(e),o.d()}}}function _o(t,e,r){let i,{circle:n,chartHeight:a,hoverId:l}=e;return t.$$set=o=>{"circle"in o&&r(0,n=o.circle),"chartHeight"in o&&r(1,a=o.chartHeight),"hoverId"in o&&r(2,l=o.hoverId)},t.$$.update=()=>{t.$$.dirty&1&&r(3,i=oe[n.datum.role in oe?n.datum.role:"default"].color),t.$$.dirty&1&&oe[n.datum.role in oe?n.datum.role:"default"].contrast},[n,a,l,i]}class mo extends Ae{constructor(e){super(),pe(this,e,_o,co,ye,{circle:0,chartHeight:1,hoverId:2})}}function pi(t,e,r){const i=t.slice();return i[7]=e[r],i[9]=r,i}function yi(t){let e,r,i,n,a,l=t[2]&&ki(t),o=t[3],s=[];for(let f=0;f<o.length;f+=1)s[f]=wi(pi(t,o,f));return{c(){e=W("g"),l&&l.c(),r=W("g");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=L(f,"g",{class:!0,transform:!0,opacity:!0});var h=k(e);l&&l.l(h),r=L(h,"g",{});var c=k(r);for(let _=0;_<s.length;_+=1)s[_].l(c);c.forEach(g),h.forEach(g),this.h()},h(){u(e,"class","label-container"),u(e,"transform",n="translate("+t[0].y+",0)"),u(e,"opacity",a=t[1]?.2:1)},m(f,h){N(f,e,h),l&&l.m(e,null),R(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);i=Ze.observe(r,t[6].bind(r))},p(f,h){if(f[2]?l?l.p(f,h):(l=ki(f),l.c(),l.m(e,r)):l&&(l.d(1),l=null),h&24){o=f[3];let c;for(c=0;c<o.length;c+=1){const _=pi(f,o,c);s[c]?s[c].p(_,h):(s[c]=wi(_),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}h&1&&n!==(n="translate("+f[0].y+",0)")&&u(e,"transform",n),h&2&&a!==(a=f[1]?.2:1)&&u(e,"opacity",a)},d(f){f&&g(e),l&&l.d(),Ie(s,f),i()}}}function ki(t){let e,r,i,n,a;return{c(){e=W("rect"),this.h()},l(l){e=L(l,"rect",{x:!0,width:!0,y:!0,height:!0,rx:!0,stroke:!0,fill:!0}),k(e).forEach(g),this.h()},h(){u(e,"x",r=-3-t[2].width/2),u(e,"width",i=t[2].width+6),u(e,"y",n=t[2].y-18),u(e,"height",a=t[2].height),u(e,"rx","2px"),u(e,"stroke","none"),u(e,"fill",t[5])},m(l,o){N(l,e,o)},p(l,o){o&4&&r!==(r=-3-l[2].width/2)&&u(e,"x",r),o&4&&i!==(i=l[2].width+6)&&u(e,"width",i),o&4&&n!==(n=l[2].y-18)&&u(e,"y",n),o&4&&a!==(a=l[2].height)&&u(e,"height",a),o&32&&u(e,"fill",l[5])},d(l){l&&g(e)}}}function wi(t){let e,r=t[7]+"",i;return{c(){e=W("text"),i=be(r),this.h()},l(n){e=L(n,"text",{"text-anchor":!0,y:!0,fill:!0});var a=k(e);i=ve(a,r),a.forEach(g),this.h()},h(){u(e,"text-anchor","middle"),u(e,"y",18*t[9]),u(e,"fill",t[4])},m(n,a){N(n,e,a),R(e,i)},p(n,a){a&8&&r!==(r=n[7]+"")&&we(i,r),a&16&&u(e,"fill",n[4])},d(n){n&&g(e)}}}function go(t){let e,r=!t[1]&&yi(t);return{c(){r&&r.c(),e=le()},l(i){r&&r.l(i),e=le()},m(i,n){r&&r.m(i,n),N(i,e,n)},p(i,[n]){i[1]?r&&(r.d(1),r=null):r?r.p(i,n):(r=yi(i),r.c(),r.m(e.parentNode,e))},i:ae,o:ae,d(i){r&&r.d(i),i&&g(e)}}}function bo(t,e,r){let i,n,a,{label:l,hoverId:o}=e,s;function f(){var h;s=(h=qe.entries.get(this))==null?void 0:h.contentRect,r(2,s)}return t.$$set=h=>{"label"in h&&r(0,l=h.label),"hoverId"in h&&r(1,o=h.hoverId)},t.$$.update=()=>{t.$$.dirty&3&&r(5,i=oe[l.datum.datum.areacd===o?"selected":l.datum.datum.role in oe?l.datum.datum.role:"default"].color),t.$$.dirty&3&&r(4,n=oe[l.datum.datum.areacd===o?"selected":l.datum.datum.role in oe?l.datum.datum.role:"default"].contrast),t.$$.dirty&1&&r(3,a=[l.datum.datum.areanm])},[l,o,s,a,n,i,f]}class vo extends Ae{constructor(e){super(),pe(this,e,bo,go,ye,{label:0,hoverId:1})}}function Ii(t,e,r){const i=t.slice();return i[31]=e[r],i[33]=r,i}function Di(t,e,r){const i=t.slice();return i[34]=e[r],i[36]=r,i}function Ri(t,e,r){const i=t.slice();return i[31]=e[r],i}function Ci(t,e,r){const i=t.slice();return i[31]=e[r],i}function Ei(t,e,r){const i=t.slice();return i[31]=e[r],i[33]=r,i}function Mi(t){let e,r,i,n=t[5].includes("sameRegion"),a,l,o,s,f,h,c,_=t[0]==="localAuthorities"&&Ni(t),d=n&&Ti(t),m=t[8],b=[];for(let I=0;I<m.length;I+=1)b[I]=Li(Ri(t,m,I));const v=I=>P(b[I],1,1,()=>{b[I]=null});let w=t[13],D=[];for(let I=0;I<w.length;I+=1)D[I]=Bi(Di(t,w,I));const z=I=>P(D[I],1,1,()=>{D[I]=null});let T=t[10].filter(t[29]),F=[];for(let I=0;I<T.length;I+=1)F[I]=Oi(Ii(t,T,I));const p=I=>P(F[I],1,1,()=>{F[I]=null});return{c(){e=W("svg"),r=W("g"),_&&_.c(),i=le(),d&&d.c(),a=W("g");for(let I=0;I<b.length;I+=1)b[I].c();l=W("g");for(let I=0;I<D.length;I+=1)D[I].c();s=W("g");for(let I=0;I<F.length;I+=1)F[I].c();this.h()},l(I){e=L(I,"svg",{width:!0,height:!0,class:!0});var y=k(e);r=L(y,"g",{transform:!0});var A=k(r);_&&_.l(A),i=le(),d&&d.l(A),a=L(A,"g",{class:!0,transform:!0});var B=k(a);for(let M=0;M<b.length;M+=1)b[M].l(B);B.forEach(g),l=L(A,"g",{class:!0,transform:!0});var Z=k(l);for(let M=0;M<D.length;M+=1)D[M].l(Z);Z.forEach(g),s=L(A,"g",{class:!0});var H=k(s);for(let M=0;M<F.length;M+=1)F[M].l(H);H.forEach(g),A.forEach(g),y.forEach(g),this.h()},h(){u(a,"class","primary-circles-group"),u(a,"transform","translate(0,0)"),u(l,"class","labels-group"),u(l,"transform",o="translate(0,"+(t[9]+33)+")"),u(s,"class","selected-label-group"),u(r,"transform",f="translate("+(t[1].left+(t[4][0]?t[2]:0))+","+t[1].top+")"),u(e,"width",t[3]),u(e,"height",h=t[11]+(t[8].length>0?10:0)),u(e,"class","svelte-lk7tnk")},m(I,y){N(I,e,y),R(e,r),_&&_.m(r,null),R(r,i),d&&d.m(r,null),R(r,a);for(let A=0;A<b.length;A+=1)b[A]&&b[A].m(a,null);R(r,l);for(let A=0;A<D.length;A+=1)D[A]&&D[A].m(l,null);R(r,s);for(let A=0;A<F.length;A+=1)F[A]&&F[A].m(s,null);c=!0},p(I,y){if(I[0]==="localAuthorities"?_?(_.p(I,y),y[0]&1&&C(_,1)):(_=Ni(I),_.c(),C(_,1),_.m(r,i)):_&&(me(),P(_,1,1,()=>{_=null}),ge()),y[0]&32&&(n=I[5].includes("sameRegion")),n?d?d.p(I,y):(d=Ti(I),d.c(),d.m(r,a)):d&&(d.d(1),d=null),y[0]&4864){m=I[8];let A;for(A=0;A<m.length;A+=1){const B=Ri(I,m,A);b[A]?(b[A].p(B,y),C(b[A],1)):(b[A]=Li(B),b[A].c(),C(b[A],1),b[A].m(a,null))}for(me(),A=m.length;A<b.length;A+=1)v(A);ge()}if(y[0]&12288){w=I[13];let A;for(A=0;A<w.length;A+=1){const B=Di(I,w,A);D[A]?(D[A].p(B,y),C(D[A],1)):(D[A]=Bi(B),D[A].c(),C(D[A],1),D[A].m(l,null))}for(me(),A=w.length;A<D.length;A+=1)z(A);ge()}if((!c||y[0]&512&&o!==(o="translate(0,"+(I[9]+33)+")"))&&u(l,"transform",o),y[0]&21632){T=I[10].filter(I[29]);let A;for(A=0;A<T.length;A+=1){const B=Ii(I,T,A);F[A]?(F[A].p(B,y),C(F[A],1)):(F[A]=Oi(B),F[A].c(),C(F[A],1),F[A].m(s,null))}for(me(),A=T.length;A<F.length;A+=1)p(A);ge()}(!c||y[0]&22&&f!==(f="translate("+(I[1].left+(I[4][0]?I[2]:0))+","+I[1].top+")"))&&u(r,"transform",f),(!c||y[0]&8)&&u(e,"width",I[3]),(!c||y[0]&2304&&h!==(h=I[11]+(I[8].length>0?10:0)))&&u(e,"height",h)},i(I){if(!c){C(_);for(let y=0;y<m.length;y+=1)C(b[y]);for(let y=0;y<w.length;y+=1)C(D[y]);for(let y=0;y<T.length;y+=1)C(F[y]);c=!0}},o(I){P(_),b=b.filter(Boolean);for(let y=0;y<b.length;y+=1)P(b[y]);D=D.filter(Boolean);for(let y=0;y<D.length;y+=1)P(D[y]);F=F.filter(Boolean);for(let y=0;y<F.length;y+=1)P(F[y]);c=!1},d(I){I&&g(e),_&&_.d(),d&&d.d(),Ie(b,I),Ie(D,I),Ie(F,I)}}}function Ni(t){let e,r,i=t[10],n=[];for(let l=0;l<i.length;l+=1)n[l]=Pi(Ei(t,i,l));const a=l=>P(n[l],1,1,()=>{n[l]=null});return{c(){e=W("g");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=L(l,"g",{class:!0,opacity:!0});var o=k(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(g),this.h()},h(){u(e,"class","background-circles-group"),u(e,"opacity","0.7")},m(l,o){N(l,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);r=!0},p(l,o){if(o[0]&21504){i=l[10];let s;for(s=0;s<i.length;s+=1){const f=Ei(l,i,s);n[s]?(n[s].p(f,o),C(n[s],1)):(n[s]=Pi(f),n[s].c(),C(n[s],1),n[s].m(e,null))}for(me(),s=i.length;s<n.length;s+=1)a(s);ge()}},i(l){if(!r){for(let o=0;o<i.length;o+=1)C(n[o]);r=!0}},o(l){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)P(n[o]);r=!1},d(l){l&&g(e),Ie(n,l)}}}function Pi(t){let e,r,i;function n(l){t[27](l)}let a={length:t[10].length,index:t[33],circle:t[31],y:t[14]};return t[12]!==void 0&&(a.hoverId=t[12]),e=new tn({props:a}),fe.push(()=>ue(e,"hoverId",n)),{c(){x(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,o){ee(e,l,o),i=!0},p(l,o){const s={};o[0]&1024&&(s.length=l[10].length),o[0]&1024&&(s.circle=l[31]),o[0]&16384&&(s.y=l[14]),!r&&o[0]&4096&&(r=!0,s.hoverId=l[12],he(()=>r=!1)),e.$set(s)},i(l){i||(C(e.$$.fragment,l),i=!0)},o(l){P(e.$$.fragment,l),i=!1},d(l){te(e,l)}}}function Ti(t){let e,r=t[10].filter(t[28]),i=[];for(let n=0;n<r.length;n+=1)i[n]=Wi(Ci(t,r,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=le()},l(n){for(let a=0;a<i.length;a+=1)i[a].l(n);e=le()},m(n,a){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(n,a);N(n,e,a)},p(n,a){if(a[0]&17472){r=n[10].filter(n[28]);let l;for(l=0;l<r.length;l+=1){const o=Ci(n,r,l);i[l]?i[l].p(o,a):(i[l]=Wi(o),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},d(n){Ie(i,n),n&&g(e)}}}function Wi(t){let e,r,i;return{c(){e=W("circle"),this.h()},l(n){e=L(n,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,"fill-opacity":!0,"stroke-width":!0,"pointer-events":!0}),k(e).forEach(g),this.h()},h(){u(e,"cx",r=t[31].x),u(e,"cy",i=t[14](t[31].y)),u(e,"r","7"),u(e,"stroke","white"),u(e,"fill","#545454"),u(e,"fill-opacity","1"),u(e,"stroke-width","1.5px"),u(e,"pointer-events","none")},m(n,a){N(n,e,a)},p(n,a){a[0]&1088&&r!==(r=n[31].x)&&u(e,"cx",r),a[0]&17472&&i!==(i=n[14](n[31].y))&&u(e,"cy",i)},d(n){n&&g(e)}}}function Li(t){let e,r;return e=new mo({props:{hoverId:t[12],circle:t[31],chartHeight:t[9]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&4096&&(a.hoverId=i[12]),n[0]&256&&(a.circle=i[31]),n[0]&512&&(a.chartHeight=i[9]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Bi(t){let e,r;return e=new vo({props:{hoverId:t[12],label:t[34]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&4096&&(a.hoverId=i[12]),n[0]&8192&&(a.label=i[34]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Oi(t){let e,r;return e=new en({props:{selectedIndicator:t[7],circle:t[31],y:t[14]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&128&&(a.selectedIndicator=i[7]),n[0]&5120&&(a.circle=i[31]),n[0]&16384&&(a.y=i[14]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Ao(t){let e,r,i=(t[0]==="localAuthorities"||t[8].length>0)&&Mi(t);return{c(){i&&i.c(),e=le()},l(n){i&&i.l(n),e=le()},m(n,a){i&&i.m(n,a),N(n,e,a),r=!0},p(n,a){n[0]==="localAuthorities"||n[8].length>0?i?(i.p(n,a),a[0]&257&&C(i,1)):(i=Mi(n),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(me(),P(i,1,1,()=>{i=null}),ge())},i(n){r||(C(i),r=!0)},o(n){P(i),r=!1},d(n){i&&i.d(n),n&&g(e)}}}function po(t,e,r){let i,n,a,l,o,s,f,h,c,_,d,{selectedArea:m,geogLevel:b,filteredIndicatorData:v,padding:w,chartWidth:D,spaceForOutliers:z,x:T,xDomainZeroBaselineTicked:F,width:p,valuesOutsideXDomain:I,visiblesAreasWithDataCodes:y,visibleAreasWithData:A,chosenRelatedAreasArray:B,sameRegionAreasCodes:Z,selectedIndicator:H}=e,M=Be("areasArray"),X;function j(O){X=O,r(12,X)}const G=O=>Z.includes(O.datum.areacd),ke=O=>O.datum.areacd===X;return t.$$set=O=>{"selectedArea"in O&&r(15,m=O.selectedArea),"geogLevel"in O&&r(0,b=O.geogLevel),"filteredIndicatorData"in O&&r(16,v=O.filteredIndicatorData),"padding"in O&&r(1,w=O.padding),"chartWidth"in O&&r(17,D=O.chartWidth),"spaceForOutliers"in O&&r(2,z=O.spaceForOutliers),"x"in O&&r(18,T=O.x),"xDomainZeroBaselineTicked"in O&&r(19,F=O.xDomainZeroBaselineTicked),"width"in O&&r(3,p=O.width),"valuesOutsideXDomain"in O&&r(4,I=O.valuesOutsideXDomain),"visiblesAreasWithDataCodes"in O&&r(20,y=O.visiblesAreasWithDataCodes),"visibleAreasWithData"in O&&r(21,A=O.visibleAreasWithData),"chosenRelatedAreasArray"in O&&r(5,B=O.chosenRelatedAreasArray),"sameRegionAreasCodes"in O&&r(6,Z=O.sameRegionAreasCodes),"selectedIndicator"in O&&r(7,H=O.selectedIndicator)},t.$$.update=()=>{t.$$.dirty[0]&32769&&r(26,i=M.filter(O=>b==="localAuthorities"?["lower","upper"].includes(m.geogLevel)?m.geogLevel===O.geogLevel:O.geogLevel==="lower":["country","region","other"].includes(O.geogLevel)).map(O=>O.areacd)),t.$$.dirty[0]&68091908&&r(24,l=v.filter(O=>i.includes(O.areacd)).map(O=>({...O,xPosition:O.value<F[0]?-z/2:O.value>F[1]?D+z/2:T(O.value)}))),t.$$.dirty[0]&16777216&&r(10,f=new Ct(l,5,O=>O.xPosition).oneSided().calculateYPositions().sort((O,Ce)=>Math.random()-Math.random())),t.$$.dirty[0]&1024&&console.log(f),t.$$.dirty[0]&1&&r(11,n={localAuthorities:250,countriesAndRegions:40}[b]),t.$$.dirty[0]&2050&&r(9,a=n-w.top-w.bottom),t.$$.dirty[0]&16777216&&r(25,o=l.map(O=>O.areacd)),t.$$.dirty[0]&52428800&&r(23,s=A.filter(O=>o.includes(O.areacd)&&!["similar","sameRegion"].includes(O.role)).map((O,Ce)=>({...O,value:l.find(E=>E.areacd===O.areacd).value}))),t.$$.dirty[0]&8650752&&r(8,h=new Ct(s,8,O=>T(O.value)).oneSided().calculateYPositions()),t.$$.dirty[0]&1024&&r(22,c=[0,Math.max(...f.map(O=>O.y))]),t.$$.dirty[0]&4194816&&r(14,_=Ge().domain(c).range([a,0])),t.$$.dirty[0]&131332&&r(13,d=on(h,[-z,D+z],O=>O.x,O=>20+O.datum.areanm.length*9))},[b,w,z,p,I,B,Z,H,h,a,f,n,X,d,_,m,v,D,T,F,y,A,c,s,l,o,i,j,G,ke]}class yo extends Ae{constructor(e){super(),pe(this,e,po,Ao,ye,{selectedArea:15,geogLevel:0,filteredIndicatorData:16,padding:1,chartWidth:17,spaceForOutliers:2,x:18,xDomainZeroBaselineTicked:19,width:3,valuesOutsideXDomain:4,visiblesAreasWithDataCodes:20,visibleAreasWithData:21,chosenRelatedAreasArray:5,sameRegionAreasCodes:6,selectedIndicator:7},null,[-1,-1])}}function Si(t,e,r){const i=t.slice();return i[26]=e[r],i}function Vi(t){let e,r;return e=new yo({props:{selectedIndicator:t[4],selectedArea:t[0],geogLevel:t[26],valuesOutsideXDomain:t[10],filteredIndicatorData:t[3],padding:t[12],chartWidth:t[8],spaceForOutliers:t[11],x:t[13],xDomainZeroBaselineTicked:t[9],width:t[7],visiblesAreasWithDataCodes:t[2],visibleAreasWithData:t[1],chosenRelatedAreasArray:t[5],sameRegionAreasCodes:t[6]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n&16&&(a.selectedIndicator=i[4]),n&1&&(a.selectedArea=i[0]),n&1024&&(a.valuesOutsideXDomain=i[10]),n&8&&(a.filteredIndicatorData=i[3]),n&4096&&(a.padding=i[12]),n&256&&(a.chartWidth=i[8]),n&2048&&(a.spaceForOutliers=i[11]),n&8192&&(a.x=i[13]),n&512&&(a.xDomainZeroBaselineTicked=i[9]),n&128&&(a.width=i[7]),n&4&&(a.visiblesAreasWithDataCodes=i[2]),n&2&&(a.visibleAreasWithData=i[1]),n&32&&(a.chosenRelatedAreasArray=i[5]),n&64&&(a.sameRegionAreasCodes=i[6]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function ko(t){let e,r,i,n,a,l,o,s,f,h=["localAuthorities","countriesAndRegions"],c=[];for(let d=0;d<2;d+=1)c[d]=Vi(Si(t,h,d));const _=d=>P(c[d],1,1,()=>{c[d]=null});return l=new fo({props:{valuesOutsideXDomain:t[10],spaceForOutliers:t[11],x:t[13],xDomainZeroBaselineTicked:t[9],selectedIndicator:t[4],chartWidth:t[8]}}),{c(){e=U("div"),r=U("div");for(let d=0;d<2;d+=1)c[d].c();i=ie(),n=W("svg"),a=W("g"),x(l.$$.fragment),this.h()},l(d){e=Q(d,"DIV",{class:!0});var m=k(e);r=Q(m,"DIV",{class:!0});var b=k(r);for(let D=0;D<2;D+=1)c[D].l(b);b.forEach(g),i=ne(m),n=L(m,"svg",{width:!0,height:!0});var v=k(n);a=L(v,"g",{transform:!0});var w=k(a);$(l.$$.fragment,w),w.forEach(g),v.forEach(g),m.forEach(g),this.h()},h(){u(r,"class","beeswarms-container"),u(a,"transform",o="translate("+(t[12].left+(t[10][0]?t[11]:0))+",25)"),u(n,"width",t[7]),u(n,"height",wo),u(e,"class","svgs-container svelte-1uzu4sd"),lt(()=>t[25].call(e))},m(d,m){N(d,e,m),R(e,r);for(let b=0;b<2;b+=1)c[b]&&c[b].m(r,null);R(e,i),R(e,n),R(n,a),ee(l,a,null),s=vt(e,t[25].bind(e)),f=!0},p(d,[m]){if(m&16383){h=["localAuthorities","countriesAndRegions"];let v;for(v=0;v<2;v+=1){const w=Si(d,h,v);c[v]?(c[v].p(w,m),C(c[v],1)):(c[v]=Vi(w),c[v].c(),C(c[v],1),c[v].m(r,null))}for(me(),v=2;v<2;v+=1)_(v);ge()}const b={};m&1024&&(b.valuesOutsideXDomain=d[10]),m&2048&&(b.spaceForOutliers=d[11]),m&8192&&(b.x=d[13]),m&512&&(b.xDomainZeroBaselineTicked=d[9]),m&16&&(b.selectedIndicator=d[4]),m&256&&(b.chartWidth=d[8]),l.$set(b),(!f||m&7168&&o!==(o="translate("+(d[12].left+(d[10][0]?d[11]:0))+",25)"))&&u(a,"transform",o),(!f||m&128)&&u(n,"width",d[7])},i(d){if(!f){for(let m=0;m<2;m+=1)C(c[m]);C(l.$$.fragment,d),f=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<2;m+=1)P(c[m]);P(l.$$.fragment,d),f=!1},d(d){d&&g(e),Ie(c,d),te(l),s()}}}let wo=50;function Io(t,e,r){let i,n,a,l,o,s,f,h,c,_,d,m,b,{sameGeogLevelAreasCodes:v,selectedArea:w,visibleAreasWithData:D,visiblesAreasWithDataCodes:z,filteredIndicatorDataForVisibleAreas:T,filteredIndicatorData:F,selectedIndicator:p,selectedIndicatorCalculations:I,chosenRelatedAreasArray:y,sameRegionAreasCodes:A}=e,B=1e3,Z=[];function H(){B=this.clientWidth,r(7,B)}return t.$$set=M=>{"sameGeogLevelAreasCodes"in M&&r(14,v=M.sameGeogLevelAreasCodes),"selectedArea"in M&&r(0,w=M.selectedArea),"visibleAreasWithData"in M&&r(1,D=M.visibleAreasWithData),"visiblesAreasWithDataCodes"in M&&r(2,z=M.visiblesAreasWithDataCodes),"filteredIndicatorDataForVisibleAreas"in M&&r(15,T=M.filteredIndicatorDataForVisibleAreas),"filteredIndicatorData"in M&&r(3,F=M.filteredIndicatorData),"selectedIndicator"in M&&r(4,p=M.selectedIndicator),"selectedIndicatorCalculations"in M&&r(16,I=M.selectedIndicatorCalculations),"chosenRelatedAreasArray"in M&&r(5,y=M.chosenRelatedAreasArray),"sameRegionAreasCodes"in M&&r(6,A=M.sameRegionAreasCodes)},t.$$.update=()=>{if(t.$$.dirty&8&&r(18,d=F.map(M=>M.value)),t.$$.dirty&262144&&r(24,l=[.95*Math.min(...d),1.05*Math.max(...d)]),t.$$.dirty&16842752&&r(23,o=I?[I.med-3*I.mad,parseFloat(I.med)+3*I.mad]:l),t.$$.dirty&8388624&&r(19,s=p.metadata.canBeNegative==="F"?[Math.max(0,o[0]),o[1]]:o),t.$$.dirty&524288&&r(22,f=Math.abs(s[1]-s[0])),t.$$.dirty&4194304&&r(21,h=10**Math.floor(Math.log10(f))),t.$$.dirty&6291456&&r(20,c=f/h<=1.5?h/5:f/h<=3?h/2:f/h<=6?h:h*2),t.$$.dirty&1703936){r(17,Z=[]);for(let M=Math.ceil(s[0]-c);M<=Math.floor(s[1]+c);M++)M%c==0&&Z.push(M)}t.$$.dirty&655376&&r(9,_=Z.length===0?s:[p.metadata.canBeNegative==="F"?Math.max(0,Z[0]):Z[0],Z[Z.length-1]]),t.$$.dirty&262656&&r(10,m=[d.some(M=>M<_[0]),d.some(M=>M>_[1])]),t.$$.dirty&7296&&r(8,a=B-i.left-i.right-(m[0]?n:0)-(m[1]?n:0)),t.$$.dirty&768&&r(13,b=Ge().domain(_).range([0,a]))},r(12,i={top:15,right:30,bottom:15,left:30}),r(11,n=90),[w,D,z,F,p,y,A,B,a,_,m,n,i,b,v,T,I,Z,d,s,c,h,f,o,l,H]}class Do extends Ae{constructor(e){super(),pe(this,e,Io,ko,ye,{sameGeogLevelAreasCodes:14,selectedArea:0,visibleAreasWithData:1,visiblesAreasWithDataCodes:2,filteredIndicatorDataForVisibleAreas:15,filteredIndicatorData:3,selectedIndicator:4,selectedIndicatorCalculations:16,chosenRelatedAreasArray:5,sameRegionAreasCodes:6})}}function Ro(t){let e,r;return e=new Do({props:{sameRegionAreasCodes:t[8],selectedArea:t[6],sameGeogLevelAreasCodes:t[11],visibleAreasWithData:t[14],visiblesAreasWithDataCodes:t[24],filteredIndicatorDataForVisibleAreas:t[23],filteredIndicatorData:t[13],selectedIndicator:t[16],selectedIndicatorCalculations:t[28].find(t[43]),chosenRelatedAreasArray:t[1]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&256&&(a.sameRegionAreasCodes=i[8]),n[0]&64&&(a.selectedArea=i[6]),n[0]&2048&&(a.sameGeogLevelAreasCodes=i[11]),n[0]&16384&&(a.visibleAreasWithData=i[14]),n[0]&16777216&&(a.visiblesAreasWithDataCodes=i[24]),n[0]&8388608&&(a.filteredIndicatorDataForVisibleAreas=i[23]),n[0]&8192&&(a.filteredIndicatorData=i[13]),n[0]&65536&&(a.selectedIndicator=i[16]),n[0]&134283264&&(a.selectedIndicatorCalculations=i[28].find(i[43])),n[0]&2&&(a.chosenRelatedAreasArray=i[1]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Co(t){let e,r;return e=new ao({props:{filteredPeriodsArray:t[18],visibleAreaTypesWithData:t[25],visibleAreasWithData:t[14],visiblesAreasWithDataCodes:t[24],filteredIndicatorDataForVisibleAreas:t[23],selectedArea:t[6],selectedIndicator:t[16],selectedIndicatorCalculations:t[28].find(t[42])}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&262144&&(a.filteredPeriodsArray=i[18]),n[0]&33554432&&(a.visibleAreaTypesWithData=i[25]),n[0]&16384&&(a.visibleAreasWithData=i[14]),n[0]&16777216&&(a.visiblesAreasWithDataCodes=i[24]),n[0]&8388608&&(a.filteredIndicatorDataForVisibleAreas=i[23]),n[0]&64&&(a.selectedArea=i[6]),n[0]&65536&&(a.selectedIndicator=i[16]),n[0]&134283328&&(a.selectedIndicatorCalculations=i[28].find(i[42])),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Eo(t){let e,r,i,n,a,l,o,s,f,h,c,_,d,m,b,v,w,D,z,T,F;function p(E){t[33](E)}let I={name:"select-main-chart-type",optionsArray:t[21]};t[20]!==void 0&&(I.chosenId=t[20]),e=new la({props:I}),fe.push(()=>ue(e,"chosenId",p));function y(E){t[34](E)}let A={name:"select-indicator",optionsArray:t[22]};t[12]!==void 0&&(A.chosenId=t[12]),a=new sa({props:A}),fe.push(()=>ue(a,"chosenId",y)),s=new ha({props:{subtitleText:t[16].metadata.subtitle+", "+(t[17]?t[27].label:t[26].label+" to "+t[27].label),additionalText:t[16].metadata.additionalDescription.split("|")}});function B(E){t[36](E)}function Z(E){t[37](E)}function H(E){t[38](E)}function M(E){t[39](E)}function X(E){t[40](E)}function j(E){t[41](E)}let G={selectedArea:t[6],sameRegionsLabel:t[10],areasCodesForAreasWithData:t[15],selectedAndRelatedAreas:t[7],selectedAndRelatedAreasCodes:t[9],sameRegionAreasCodes:t[8],visibleAreaTypesWithData:t[25].filter(t[35])};t[0]!==void 0&&(G.chosenParentAreasArray=t[0]),t[1]!==void 0&&(G.chosenRelatedAreasArray=t[1]),t[2]!==void 0&&(G.chosenSameRegionArray=t[2]),t[3]!==void 0&&(G.chosenCountriesArray=t[3]),t[4]!==void 0&&(G.chosenRegionsArray=t[4]),t[5]!==void 0&&(G.chosenAllOtherArray=t[5]),h=new Ta({props:G}),fe.push(()=>ue(h,"chosenParentAreasArray",B)),fe.push(()=>ue(h,"chosenRelatedAreasArray",Z)),fe.push(()=>ue(h,"chosenSameRegionArray",H)),fe.push(()=>ue(h,"chosenCountriesArray",M)),fe.push(()=>ue(h,"chosenRegionsArray",X)),fe.push(()=>ue(h,"chosenAllOtherArray",j));const ke=[Co,Ro],O=[];function Ce(E,J){return E[19].label==="Time series"?0:E[19].label==="Distribution"?1:-1}return~(z=Ce(t))&&(T=O[z]=ke[z](t)),{c(){x(e.$$.fragment),i=ie(),n=U("div"),x(a.$$.fragment),o=ie(),x(s.$$.fragment),f=ie(),x(h.$$.fragment),w=ie(),D=U("div"),T&&T.c(),this.h()},l(E){$(e.$$.fragment,E),i=ne(E),n=Q(E,"DIV",{class:!0});var J=k(n);$(a.$$.fragment,J),o=ne(J),$(s.$$.fragment,J),f=ne(J),$(h.$$.fragment,J),w=ne(J),D=Q(J,"DIV",{class:!0});var De=k(D);T&&T.l(De),De.forEach(g),J.forEach(g),this.h()},h(){u(D,"class","chart-container"),u(n,"class","main-chart-container svelte-1y5b3rv")},m(E,J){ee(e,E,J),N(E,i,J),N(E,n,J),ee(a,n,null),R(n,o),ee(s,n,null),R(n,f),ee(h,n,null),R(n,w),R(n,D),~z&&O[z].m(D,null),F=!0},p(E,J){const De={};J[0]&2097152&&(De.optionsArray=E[21]),!r&&J[0]&1048576&&(r=!0,De.chosenId=E[20],he(()=>r=!1)),e.$set(De);const Me={};J[0]&4194304&&(Me.optionsArray=E[22]),!l&&J[0]&4096&&(l=!0,Me.chosenId=E[12],he(()=>l=!1)),a.$set(Me);const _e={};J[0]&201523200&&(_e.subtitleText=E[16].metadata.subtitle+", "+(E[17]?E[27].label:E[26].label+" to "+E[27].label)),J[0]&65536&&(_e.additionalText=E[16].metadata.additionalDescription.split("|")),s.$set(_e);const se={};J[0]&64&&(se.selectedArea=E[6]),J[0]&1024&&(se.sameRegionsLabel=E[10]),J[0]&32768&&(se.areasCodesForAreasWithData=E[15]),J[0]&128&&(se.selectedAndRelatedAreas=E[7]),J[0]&512&&(se.selectedAndRelatedAreasCodes=E[9]),J[0]&256&&(se.sameRegionAreasCodes=E[8]),J[0]&33554496&&(se.visibleAreaTypesWithData=E[25].filter(E[35])),!c&&J[0]&1&&(c=!0,se.chosenParentAreasArray=E[0],he(()=>c=!1)),!_&&J[0]&2&&(_=!0,se.chosenRelatedAreasArray=E[1],he(()=>_=!1)),!d&&J[0]&4&&(d=!0,se.chosenSameRegionArray=E[2],he(()=>d=!1)),!m&&J[0]&8&&(m=!0,se.chosenCountriesArray=E[3],he(()=>m=!1)),!b&&J[0]&16&&(b=!0,se.chosenRegionsArray=E[4],he(()=>b=!1)),!v&&J[0]&32&&(v=!0,se.chosenAllOtherArray=E[5],he(()=>v=!1)),h.$set(se);let S=z;z=Ce(E),z===S?~z&&O[z].p(E,J):(T&&(me(),P(O[S],1,1,()=>{O[S]=null}),ge()),~z?(T=O[z],T?T.p(E,J):(T=O[z]=ke[z](E),T.c()),C(T,1),T.m(D,null)):T=null)},i(E){F||(C(e.$$.fragment,E),C(a.$$.fragment,E),C(s.$$.fragment,E),C(h.$$.fragment,E),C(T),F=!0)},o(E){P(e.$$.fragment,E),P(a.$$.fragment,E),P(s.$$.fragment,E),P(h.$$.fragment,E),P(T),F=!1},d(E){te(e,E),E&&g(i),E&&g(n),te(a),te(s),te(h),~z&&O[z].d()}}}function Mo(t,e,r){let i,n,a,l,o,s,f,h,c,_,d,m,b,v,w,D,{selectedArea:z,selectedAndRelatedAreas:T,visibleAreaTypes:F,visibleAreas:p,visibleAreasCodes:I,sameRegionAreasCodes:y,selectedAndRelatedAreasCodes:A,sameRegionsLabel:B,sameGeogLevelAreasCodes:Z}=e,{chosenParentAreasArray:H,chosenRelatedAreasArray:M,chosenSameRegionArray:X,chosenCountriesArray:j,chosenRegionsArray:G,chosenAllOtherArray:ke}=e,O=Be("combinedDataObject"),Ce=Be("indicatorsObject"),E=Be("indicatorsCodeLabelArray"),J;Xi(()=>{r(12,J=i[0])});let De=Be("periodsLookupArray"),Me=Be("indicatorsCalculationsArray");function _e(V){o=V,r(20,o),r(21,l),r(18,a),r(47,De),r(16,n),r(12,J),r(45,Ce),r(22,i),r(46,E),r(44,O),r(6,z)}function se(V){J=V,r(12,J)}const S=V=>V.areacd!=z.areacd;function Y(V){H=V,r(0,H)}function Ee(V){M=V,r(1,M)}function de(V){X=V,r(2,X)}function q(V){j=V,r(3,j)}function re(V){G=V,r(4,G)}function Re(V){ke=V,r(5,ke)}const K=V=>n.code===V.code&&h.xDomainNumb===V.period&&V.geog_level===z.geogLevel,ce=V=>n.code===V.code&&h.xDomainNumb===V.period&&V.geog_level==="lower";return t.$$set=V=>{"selectedArea"in V&&r(6,z=V.selectedArea),"selectedAndRelatedAreas"in V&&r(7,T=V.selectedAndRelatedAreas),"visibleAreaTypes"in V&&r(29,F=V.visibleAreaTypes),"visibleAreas"in V&&r(30,p=V.visibleAreas),"visibleAreasCodes"in V&&r(31,I=V.visibleAreasCodes),"sameRegionAreasCodes"in V&&r(8,y=V.sameRegionAreasCodes),"selectedAndRelatedAreasCodes"in V&&r(9,A=V.selectedAndRelatedAreasCodes),"sameRegionsLabel"in V&&r(10,B=V.sameRegionsLabel),"sameGeogLevelAreasCodes"in V&&r(11,Z=V.sameGeogLevelAreasCodes),"chosenParentAreasArray"in V&&r(0,H=V.chosenParentAreasArray),"chosenRelatedAreasArray"in V&&r(1,M=V.chosenRelatedAreasArray),"chosenSameRegionArray"in V&&r(2,X=V.chosenSameRegionArray),"chosenCountriesArray"in V&&r(3,j=V.chosenCountriesArray),"chosenRegionsArray"in V&&r(4,G=V.chosenRegionsArray),"chosenAllOtherArray"in V&&r(5,ke=V.chosenAllOtherArray)},t.$$.update=()=>{t.$$.dirty[0]&64&&r(22,i=E.filter(V=>O[V.code].filter(We=>We.areacd===z.areacd).length>0)),t.$$.dirty[0]&4198400&&r(16,n=J?Ce[J.code]:Ce[i[0].code]),t.$$.dirty[0]&65536&&r(18,a=De.filter(V=>V.periodGroup===n.periodGroup&V.xDomainNumb>=n.minXDomainNumb&V.xDomainNumb<=n.maxXDomainNumb)),t.$$.dirty[0]&262144&&r(21,l=bn.filter(V=>V.multiYear!="Yes"|a.length>1)),t.$$.dirty[0]&3145728&&r(20,o=l.find(V=>V.id==o)==null?l[0].id:o),t.$$.dirty[0]&3145728&&r(19,s=l.find(V=>V.id==o)),t.$$.dirty[0]&786432&&r(17,f=s==null?void 0:s.multiYear=="No"||s.multiYear=="Either"&&a.length===1),t.$$.dirty[0]&262144&&r(27,h=a[0]),t.$$.dirty[0]&262144&&r(26,c=a[a.length-1]),t.$$.dirty[0]&65536&&r(32,_=O[n.code]),t.$$.dirty[0]&458752|t.$$.dirty[1]&2&&r(13,d=_.filter(V=>V.value!="NA"&&a.filter(We=>f?We.xDomainNumb==n.maxXDomainNumb:!0).map(We=>We.xDomainNumb).includes(V.xDomainNumb))),t.$$.dirty[0]&8192&&r(15,m=[...new Set(d.map(V=>V.areacd))]),t.$$.dirty[0]&536903680&&r(25,b=F.filter(V=>"areacd"in V?m.includes(V.areacd):!0)),t.$$.dirty[0]&1073774592&&r(14,v=p.filter(V=>m.includes(V.areacd))),t.$$.dirty[0]&16384&&r(24,w=v.map(V=>V.areacd)),t.$$.dirty[0]&8192|t.$$.dirty[1]&1&&r(23,D=d.filter(V=>I.includes(V.areacd)))},[H,M,X,j,G,ke,z,T,y,A,B,Z,J,d,v,m,n,f,a,s,o,l,i,D,w,b,c,h,Me,F,p,I,_,_e,se,S,Y,Ee,de,q,re,Re,K,ce]}class No extends Ae{constructor(e){super(),pe(this,e,Mo,Eo,ye,{selectedArea:6,selectedAndRelatedAreas:7,visibleAreaTypes:29,visibleAreas:30,visibleAreasCodes:31,sameRegionAreasCodes:8,selectedAndRelatedAreasCodes:9,sameRegionsLabel:10,sameGeogLevelAreasCodes:11,chosenParentAreasArray:0,chosenRelatedAreasArray:1,chosenSameRegionArray:2,chosenCountriesArray:3,chosenRegionsArray:4,chosenAllOtherArray:5},null,[-1,-1])}}function zi(t,e,r){const i=t.slice();return i[40]=e[r],i[42]=r,i}function Po(t){let e,r=t[8].areanm+"",i;return{c(){e=be("Get localised data, insights and trends for "),i=be(r)},l(n){e=ve(n,"Get localised data, insights and trends for "),i=ve(n,r)},m(n,a){N(n,e,a),N(n,i,a)},p(n,a){a[0]&256&&r!==(r=n[8].areanm+"")&&we(i,r)},d(n){n&&g(e),n&&g(i)}}}function To(t){let e,r;return e=new _n({props:{$$slots:{default:[Po]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&256|n[1]&4096&&(a.$$scope={dirty:n,ctx:i}),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Fi(t){let e,r;return e=new ea({props:{topic:t[40],selectedArea:t[8],sameGeogLevelAreasCodes:t[14]}}),{c(){x(e.$$.fragment)},l(i){$(e.$$.fragment,i)},m(i,n){ee(e,i,n),r=!0},p(i,n){const a={};n[0]&256&&(a.selectedArea=i[8]),n[0]&16384&&(a.sameGeogLevelAreasCodes=i[14]),e.$set(a)},i(i){r||(C(e.$$.fragment,i),r=!0)},o(i){P(e.$$.fragment,i),r=!1},d(i){te(e,i)}}}function Wo(t){let e,r,i,n,a,l,o,s;function f(v){t[31](v)}function h(v){t[32](v)}function c(v){t[33](v)}function _(v){t[34](v)}function d(v){t[35](v)}function m(v){t[36](v)}let b={selectedArea:t[8],sameGeogLevelAreasCodes:t[14],sameRegionsLabel:t[7],selectedAndRelatedAreas:t[9],visibleAreas:t[6],visibleAreaTypes:t[11],visibleAreasCodes:t[10],sameRegionAreasCodes:t[12],selectedAndRelatedAreasCodes:t[13]};return t[0]!==void 0&&(b.chosenParentAreasArray=t[0]),t[1]!==void 0&&(b.chosenRelatedAreasArray=t[1]),t[2]!==void 0&&(b.chosenSameRegionArray=t[2]),t[3]!==void 0&&(b.chosenCountriesArray=t[3]),t[4]!==void 0&&(b.chosenRegionsArray=t[4]),t[5]!==void 0&&(b.chosenAllOtherArray=t[5]),e=new No({props:b}),fe.push(()=>ue(e,"chosenParentAreasArray",f)),fe.push(()=>ue(e,"chosenRelatedAreasArray",h)),fe.push(()=>ue(e,"chosenSameRegionArray",c)),fe.push(()=>ue(e,"chosenCountriesArray",_)),fe.push(()=>ue(e,"chosenRegionsArray",d)),fe.push(()=>ue(e,"chosenAllOtherArray",m)),{c(){x(e.$$.fragment)},l(v){$(e.$$.fragment,v)},m(v,w){ee(e,v,w),s=!0},p(v,w){const D={};w[0]&256&&(D.selectedArea=v[8]),w[0]&16384&&(D.sameGeogLevelAreasCodes=v[14]),w[0]&128&&(D.sameRegionsLabel=v[7]),w[0]&512&&(D.selectedAndRelatedAreas=v[9]),w[0]&64&&(D.visibleAreas=v[6]),w[0]&2048&&(D.visibleAreaTypes=v[11]),w[0]&1024&&(D.visibleAreasCodes=v[10]),w[0]&4096&&(D.sameRegionAreasCodes=v[12]),w[0]&8192&&(D.selectedAndRelatedAreasCodes=v[13]),!r&&w[0]&1&&(r=!0,D.chosenParentAreasArray=v[0],he(()=>r=!1)),!i&&w[0]&2&&(i=!0,D.chosenRelatedAreasArray=v[1],he(()=>i=!1)),!n&&w[0]&4&&(n=!0,D.chosenSameRegionArray=v[2],he(()=>n=!1)),!a&&w[0]&8&&(a=!0,D.chosenCountriesArray=v[3],he(()=>a=!1)),!l&&w[0]&16&&(l=!0,D.chosenRegionsArray=v[4],he(()=>l=!1)),!o&&w[0]&32&&(o=!0,D.chosenAllOtherArray=v[5],he(()=>o=!1)),e.$set(D)},i(v){s||(C(e.$$.fragment,v),s=!0)},o(v){P(e.$$.fragment,v),s=!1},d(v){te(e,v)}}}function Lo(t){let e,r;return{c(){e=U("p"),r=be("Here, you can find information and links to the data.")},l(i){e=Q(i,"P",{});var n=k(e);r=ve(n,"Here, you can find information and links to the data."),n.forEach(g)},m(i,n){N(i,e,n),R(e,r)},p:ae,d(i){i&&g(e)}}}function Bo(t){let e,r,i,n,a,l=t[15],o=[];for(let f=0;f<l.length;f+=1)o[f]=Fi(zi(t,l,f));const s=f=>P(o[f],1,1,()=>{o[f]=null});return r=new kt({props:{title:"Select an indicator",$$slots:{default:[Wo]},$$scope:{ctx:t}}}),n=new kt({props:{title:"Get the data",$$slots:{default:[Lo]},$$scope:{ctx:t}}}),{c(){for(let f=0;f<o.length;f+=1)o[f].c();e=ie(),x(r.$$.fragment),i=ie(),x(n.$$.fragment)},l(f){for(let h=0;h<o.length;h+=1)o[h].l(f);e=ne(f),$(r.$$.fragment,f),i=ne(f),$(n.$$.fragment,f)},m(f,h){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(f,h);N(f,e,h),ee(r,f,h),N(f,i,h),ee(n,f,h),a=!0},p(f,h){if(h[0]&49408){l=f[15];let d;for(d=0;d<l.length;d+=1){const m=zi(f,l,d);o[d]?(o[d].p(m,h),C(o[d],1)):(o[d]=Fi(m),o[d].c(),C(o[d],1),o[d].m(e.parentNode,e))}for(me(),d=l.length;d<o.length;d+=1)s(d);ge()}const c={};h[0]&32767|h[1]&4096&&(c.$$scope={dirty:h,ctx:f}),r.$set(c);const _={};h[1]&4096&&(_.$$scope={dirty:h,ctx:f}),n.$set(_)},i(f){if(!a){for(let h=0;h<l.length;h+=1)C(o[h]);C(r.$$.fragment,f),C(n.$$.fragment,f),a=!0}},o(f){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)P(o[h]);P(r.$$.fragment,f),P(n.$$.fragment,f),a=!1},d(f){Ie(o,f),f&&g(e),te(r,f),f&&g(i),te(n,f)}}}function Oo(t){let e,r,i,n,a,l,o,s;return e=new cn({props:{links:[{label:"Home",href:"/"},{label:"Explore subnational statistics",href:`${ot}/`},{label:"Find a local area",href:`${ot}/areas`},{label:t[8].areanm}],background:"#eaeaea"}}),i=new dn({props:{title:t[8].areanm,background:"#eaeaea",$$slots:{default:[To]},$$scope:{ctx:t}}}),a=new gn({}),o=new mn({props:{contentsLabel:"Explore this area",$$slots:{default:[Bo]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment),r=ie(),x(i.$$.fragment),n=ie(),x(a.$$.fragment),l=ie(),x(o.$$.fragment)},l(f){$(e.$$.fragment,f),r=ne(f),$(i.$$.fragment,f),n=ne(f),$(a.$$.fragment,f),l=ne(f),$(o.$$.fragment,f)},m(f,h){ee(e,f,h),N(f,r,h),ee(i,f,h),N(f,n,h),ee(a,f,h),N(f,l,h),ee(o,f,h),s=!0},p(f,h){const c={};h[0]&256&&(c.links=[{label:"Home",href:"/"},{label:"Explore subnational statistics",href:`${ot}/`},{label:"Find a local area",href:`${ot}/areas`},{label:f[8].areanm}]),e.$set(c);const _={};h[0]&256&&(_.title=f[8].areanm),h[0]&256|h[1]&4096&&(_.$$scope={dirty:h,ctx:f}),i.$set(_);const d={};h[0]&32767|h[1]&4096&&(d.$$scope={dirty:h,ctx:f}),o.$set(d)},i(f){s||(C(e.$$.fragment,f),C(i.$$.fragment,f),C(a.$$.fragment,f),C(o.$$.fragment,f),s=!0)},o(f){P(e.$$.fragment,f),P(i.$$.fragment,f),P(a.$$.fragment,f),P(o.$$.fragment,f),s=!1},d(f){te(e,f),f&&g(r),te(i,f),f&&g(n),te(a,f),f&&g(l),te(o,f)}}}function So(t,e,r){let i,n,a,l,o,s,f,h,c,_,d,m,b,v,w,D,z,T,F,p,I,y,A,{data:B}=e,Z=Be("areasArray"),H=[],M=[],X=[],j=[],G=[],ke=[],O=Be("similarAreasLookupObject");Xi(()=>{r(0,H=[s==null?void 0:s.areacd,f==null?void 0:f.areacd])});let Ce=Be("topicsArray");function E(S){H=S,r(0,H)}function J(S){M=S,r(1,M)}function De(S){X=S,r(2,X)}function Me(S){j=S,r(3,j)}function _e(S){G=S,r(4,G)}function se(S){ke=S,r(5,ke)}return t.$$set=S=>{"data"in S&&r(16,B=S.data)},t.$$.update=()=>{t.$$.dirty[0]&65536&&r(8,i=Z.find(S=>S.areacd===B.areacd)),t.$$.dirty[0]&256&&r(30,n=Z.filter(S=>S.geogLevel===i.geogLevel)),t.$$.dirty[0]&1073741824&&r(14,a=n.map(S=>S.areacd)),t.$$.dirty[0]&256&&r(7,l=An(i.geogLevel,i.parentnm)),t.$$.dirty[0]&60&&r(28,o=[...j,...G,...X,...ke]),t.$$.dirty[0]&256&&r(18,s=Z.find(S=>S.areacd==i.parentcd)),t.$$.dirty[0]&256&&r(17,f=Z.find(S=>S.areacd==i.countrycd&&S.areacd!=i.parentcd)),t.$$.dirty[0]&256&&r(29,h=Z.find(S=>S.areacd==="K02000001"&&S.areacd!=i.parentcd&&S.areacd!=i.countrycd)),t.$$.dirty[0]&537264384&&r(9,c=[i,s,f,h].filter(S=>S!=null).map(S=>({...S,role:S.areacd===i.areacd?"main":S.areacd===i.parentcd?"parent":S.areacd===i.countrycd?"country":"uk"}))),t.$$.dirty[0]&512&&r(13,_=c.map(S=>S.areacd)),t.$$.dirty[0]&769&&r(22,d=c.filter(S=>H.includes(S.areacd)||S.areacd===i.areacd)),t.$$.dirty[0]&268435456&&r(21,m=Z.filter(S=>o.includes(S.areacd)).map((S,Y)=>({...S,role:"custom"+(Y+1)}))),t.$$.dirty[0]&2097152&&r(24,b=m.map(S=>S.areacd)),t.$$.dirty[0]&256&&r(27,v=Z.filter(S=>S.parentcd===i.parentcd&&S.areacd!=i.areacd)),t.$$.dirty[0]&134217728&&r(12,w=v.map(S=>S.areacd)),t.$$.dirty[0]&150994946&&r(20,D=v.filter(S=>!b.includes(S.areacd)&&M.includes("sameRegion")).map(S=>({...S,role:"sameRegion"}))),t.$$.dirty[0]&1048576&&r(23,z=D.map(S=>S.areacd)),t.$$.dirty[0]&256&&r(26,T=O[i.areacd].split("|")),t.$$.dirty[0]&67108864&&r(25,F=Z.filter(S=>T.includes(S.areacd))),t.$$.dirty[0]&58720258&&r(19,p=F.filter(S=>!b.includes(S.areacd)&&!z.includes(S.areacd)&&M.includes("similar")).map(S=>({...S,role:"similar"}))),t.$$.dirty[0]&524288&&p.map(S=>S.areacd),t.$$.dirty[0]&7864320&&r(6,I=[...d,...m,...D,...p]),t.$$.dirty[0]&7864448&&r(11,y=[...d,...m,...D.length>0?[{label:l,role:"sameRegion"}]:[],...p.length>0?[{label:"Demographically similar areas",role:"similar"}]:[]]),t.$$.dirty[0]&64&&r(10,A=I.map(S=>S.areacd))},[H,M,X,j,G,ke,I,l,i,c,A,y,w,_,a,Ce,B,f,s,p,D,m,d,z,b,F,T,v,o,h,n,E,J,De,Me,_e,se]}class Jo extends Ae{constructor(e){super(),pe(this,e,So,Oo,ye,{data:16},null,[-1,-1])}}export{Jo as component};
