//js
import{S as de,i as me,s as _e,k as T,a as J,J as nn,l as O,h as _,c as x,m as I,n as o,C as w,b as B,g as j,v as ze,d as Q,f as Ve,P as nt,O as Ue,o as We,a3 as at,a4 as an,I as rt,K as it,L as ot,M as st,w as ve,e as Ee,U as he,N as rn,p as $,D as be,q as ee,r as te,u as Ie,W as Ce,V as ke,y as ne,z as ae,A as re,B as ie,F as K,G as q,Q as ye,H as Ke,R as we,T as Ge,Y as xl,X as He,a5 as on,$ as ct,a6 as dt,a7 as sn,a0 as $l,_ as cn,a1 as tt,a2 as et}from"../chunks/index.6a4f6cb0.js";import{b as lt}from"../chunks/paths.9ac01811.js";import{T as un,H as fn,S as hn}from"../chunks/Subhead.b7dea8eb.js";import{m as je,b as dn,a as Je,l as mn,A as mt,s as Be,H as _n,S as gn,P as bn}from"../chunks/HorizontalBeeswarmKey.a3b71583.js";import{i as Ne,j as vn,k as xe,h as Re,c as kn,r as yn}from"../chunks/config.09e429ba.js";import{a as Te,r as Oe,c as wn,t as $e,d as _t,b as pn}from"../chunks/utils.7a2ac3e5.js";import{S as In}from"../chunks/Select.56325261.js";import{w as Dn}from"../chunks/index.a8ca94cb.js";function En(l){return l}function Ln(l){if(l==null)return En;var e,t,n=l.scale[0],a=l.scale[1],r=l.translate[0],i=l.translate[1];return function(u,s){s||(e=t=0);var c=2,f=u.length,h=new Array(f);for(h[0]=(e+=u[0])*n+r,h[1]=(t+=u[1])*a+i;c<f;)h[c]=u[c],++c;return h}}function Cn(l,e){for(var t,n=l.length,a=n-e;a<--n;)t=l[a],l[a++]=l[n],l[n]=t}function zn(l,e){return typeof e=="string"&&(e=l.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(t){return gt(l,t)})}:gt(l,e)}function gt(l,e){var t=e.id,n=e.bbox,a=e.properties==null?{}:e.properties,r=Vn(l,e);return t==null&&n==null?{type:"Feature",properties:a,geometry:r}:n==null?{type:"Feature",id:t,properties:a,geometry:r}:{type:"Feature",id:t,bbox:n,properties:a,geometry:r}}function Vn(l,e){var t=Ln(l.transform),n=l.arcs;function a(f,h){h.length&&h.pop();for(var d=n[f<0?~f:f],g=0,m=d.length;g<m;++g)h.push(t(d[g],g));f<0&&Cn(h,m)}function r(f){return t(f)}function i(f){for(var h=[],d=0,g=f.length;d<g;++d)a(f[d],h);return h.length<2&&h.push(h[0]),h}function u(f){for(var h=i(f);h.length<4;)h.push(h[0]);return h}function s(f){return f.map(u)}function c(f){var h=f.type,d;switch(h){case"GeometryCollection":return{type:h,geometries:f.geometries.map(c)};case"Point":d=r(f.coordinates);break;case"MultiPoint":d=f.coordinates.map(r);break;case"LineString":d=i(f.arcs);break;case"MultiLineString":d=f.arcs.map(i);break;case"Polygon":d=s(f.arcs);break;case"MultiPolygon":d=f.arcs.map(s);break;default:return null}return{type:h,coordinates:d}}return c(e)}const{document:bt}=an;function vt(l){let e;const t=l[20].default,n=rt(t,l,l[19],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,r){n&&n.m(a,r),e=!0},p(a,r){n&&n.p&&(!e||r&524288)&&it(n,t,a,a[19],e?st(t,a[19],r,null):ot(a[19]),null)},i(a){e||(j(n,a),e=!0)},o(a){Q(n,a),e=!1},d(a){n&&n.d(a)}}}function Mn(l){let e,t,n,a,r,i=l[3]&&vt(l);return{c(){e=T("link"),n=J(),a=T("div"),i&&i.c(),this.h()},l(u){const s=nn("svelte-19mu9pj",bt.head);e=O(s,"LINK",{rel:!0,href:!0}),s.forEach(_),n=x(u),a=O(u,"DIV",{id:!0,class:!0});var c=I(a);i&&i.l(c),c.forEach(_),this.h()},h(){o(e,"rel","stylesheet"),o(e,"href",t=l[1]?l[1]:"https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css"),o(a,"id",l[0]),o(a,"class","map svelte-1tna482")},m(u,s){w(bt.head,e),B(u,n,s),B(u,a,s),i&&i.m(a,null),l[21](a),r=!0},p(u,[s]){(!r||s&2&&t!==(t=u[1]?u[1]:"https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css"))&&o(e,"href",t),u[3]?i?(i.p(u,s),s&8&&j(i,1)):(i=vt(u),i.c(),j(i,1),i.m(a,null)):i&&(ze(),Q(i,1,1,()=>{i=null}),Ve()),(!r||s&1)&&o(a,"id",u[0])},i(u){r||(j(i),r=!0)},o(u){Q(i),r=!1},d(u){_(e),u&&_(n),u&&_(a),i&&i.d(),l[21](null)}}}function Rn(l=1e3){return new Promise(e=>setTimeout(e,l))}function An(l,e,t){let{$$slots:n={},$$scope:a}=e;const r=nt();let{map:i}=e,{id:u="map"}=e,{location:s={lng:15,lat:45,zoom:1}}=e,{style:c={version:8,sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"lightgrey"}}]}}=e,{css:f=null}=e,{pmtiles:h=!1}=e,{options:d={}}=e,{minzoom:g=0}=e,{maxzoom:m=14}=e,{controls:b=!1}=e,{tabbable:v=!1}=e,{zoom:y=null}=e,{center:C=null}=e,{pitch:E=null}=e,{bearing:k=null}=e,{interactive:z=!0}=e,{attribution:p=!0}=e,V,P={},D=!1;Ue("map",{getMap:()=>i}),s.bounds?P.bounds=s.bounds:s.lng&&s.lat&&(P.center=[+s.lng,+s.lat],s.zoom&&(P.zoom=+s.zoom),s.pitch&&(P.pitch=+s.pitch),s.bearing&&(P.bearing=+s.bearing)),p||(P.attributionControl=!1),P={...P,...d},We(()=>{if(h){let F=new dn;je.addProtocol("pmtiles",F.tile)}t(4,i=new je.Map({container:V,style:c,minZoom:g,maxZoom:m,interactive:z,...P})),b&&!Array.isArray(b)?i.addControl(new je.NavigationControl({showCompass:!1})):Array.isArray(b)&&b!=["locate"]&&i.addControl(new je.NavigationControl({showCompass:b.includes("compass"),visualizePitch:b.includes("pitch")})),Array.isArray(b)&&b.includes("locate")&&i.addControl(new je.GeolocateControl),i.on("load",F=>{t(5,y=i.getZoom()),t(6,C=i.getCenter()),t(7,E=i.getPitch()),t(8,k=i.getBearing()),t(3,D=!0),!v&&document.querySelector(`#${u} canvas`)&&(document.querySelector(`#${u} canvas`).tabIndex="-1"),r("load",{event:F})}),i.on("moveend",()=>{t(5,y=i.getZoom()),t(6,C=i.getCenter()),t(7,E=i.getPitch()),t(8,k=i.getBearing())})}),at(async()=>{await Rn(250),i&&i.remove(),t(4,i=null)});function A(F){i&&i.setStyle(F),r("style",{style:F})}function M(F){ve[F?"unshift":"push"](()=>{V=F,t(2,V)})}return l.$$set=F=>{"map"in F&&t(4,i=F.map),"id"in F&&t(0,u=F.id),"location"in F&&t(9,s=F.location),"style"in F&&t(10,c=F.style),"css"in F&&t(1,f=F.css),"pmtiles"in F&&t(11,h=F.pmtiles),"options"in F&&t(12,d=F.options),"minzoom"in F&&t(13,g=F.minzoom),"maxzoom"in F&&t(14,m=F.maxzoom),"controls"in F&&t(15,b=F.controls),"tabbable"in F&&t(16,v=F.tabbable),"zoom"in F&&t(5,y=F.zoom),"center"in F&&t(6,C=F.center),"pitch"in F&&t(7,E=F.pitch),"bearing"in F&&t(8,k=F.bearing),"interactive"in F&&t(17,z=F.interactive),"attribution"in F&&t(18,p=F.attribution),"$$scope"in F&&t(19,a=F.$$scope)},l.$$.update=()=>{l.$$.dirty&1024&&A(c)},[u,f,V,D,i,y,C,E,k,s,c,h,d,g,m,b,v,z,p,a,n,M]}class Sn extends de{constructor(e){super(),me(this,e,An,Mn,_e,{map:4,id:0,location:9,style:10,css:1,pmtiles:11,options:12,minzoom:13,maxzoom:14,controls:15,tabbable:16,zoom:5,center:6,pitch:7,bearing:8,interactive:17,attribution:18})}}function kt(l){let e;const t=l[12].default,n=rt(t,l,l[11],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,r){n&&n.m(a,r),e=!0},p(a,r){n&&n.p&&(!e||r&2048)&&it(n,t,a,a[11],e?st(t,a[11],r,null):ot(a[11]),null)},i(a){e||(j(n,a),e=!0)},o(a){Q(n,a),e=!1},d(a){n&&n.d(a)}}}function Fn(l){let e,t,n=l[0]&&kt(l);return{c(){n&&n.c(),e=Ee()},l(a){n&&n.l(a),e=Ee()},m(a,r){n&&n.m(a,r),B(a,e,r),t=!0},p(a,[r]){a[0]?n?(n.p(a,r),r&1&&j(n,1)):(n=kt(a),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(ze(),Q(n,1,1,()=>{n=null}),Ve())},i(a){t||(j(n),t=!0)},o(a){Q(n),t=!1},d(a){n&&n.d(a),a&&_(e)}}}function Pn(l=1e3){return new Promise(e=>setTimeout(e,l))}function Nn(l,e,t){let{$$slots:n={},$$scope:a}=e,{id:r}=e,{type:i}=e,{url:u=null}=e,{props:s={}}=e,{data:c=null}=e,{layer:f=null}=e,{promoteId:h=null}=e,{minzoom:d=null}=e,{maxzoom:g=null}=e,{tilesize:m=256}=e,b=!1,v=u;const{getMap:y}=he("map"),C=y();Ue("source",{source:r,layer:f,promoteId:h}),C.getSource(r)&&C.removeSource(r);async function E(){await Pn(100),C.isSourceLoaded(r)?(t(0,b=!0),console.log(r+" map source loaded!")):(console.log("..."),E())}d&&(s.minzoom=d),g&&(s.maxzoom=g),f&&h?(s.promoteId={},s.promoteId[f]=h):h&&(s.promoteId=h);function k(){console.log(r+" map source loading...");let P;i=="geojson"?c?P={type:i,data:c,...s}:u&&(P={type:i,data:u,...s}):i=="vector"?(P={type:i,...s},u.slice(0,7)==="pmtiles"?P.url=u:P.tiles=[u]):i=="raster"?P={type:i,tiles:[u],tileSize:m,...s}:i=="raster-dem"&&(P={type:i,tiles:[u],tileSize:m,...s}),P&&(console.log(P),C.addSource(r,P),E())}function z(P){let D=C.getSource(r);D&&D.setData(P)}function p(P){if(P!==v){let D=C.getSource(r);D&&(P.slice(0,7)==="pmtiles"?D.setUrl(P):D.setTiles([P])),v=P}}function V(P){P!==v&&(C.getSource(r).tiles=[P],C.style.sourceCaches[r].clearTiles(),C.style.sourceCaches[r].update(C.transform),C.triggerRepaint(),v=P)}return We(k),at(async()=>{C&&C.getSource(r)&&(C.getStyle().layers.filter(D=>D.source==r).forEach(D=>{C.removeLayer(D.id)}),C.removeSource(r))}),l.$$set=P=>{"id"in P&&t(2,r=P.id),"type"in P&&t(3,i=P.type),"url"in P&&t(4,u=P.url),"props"in P&&t(1,s=P.props),"data"in P&&t(5,c=P.data),"layer"in P&&t(6,f=P.layer),"promoteId"in P&&t(7,h=P.promoteId),"minzoom"in P&&t(8,d=P.minzoom),"maxzoom"in P&&t(9,g=P.maxzoom),"tilesize"in P&&t(10,m=P.tilesize),"$$scope"in P&&t(11,a=P.$$scope)},l.$$.update=()=>{l.$$.dirty&41&&i=="geojson"&&b&&z(c),l.$$.dirty&25&&i=="vector"&&b&&p(u),l.$$.dirty&25&&i=="raster"&&b&&V(u)},[b,s,r,i,u,c,f,h,d,g,m,a,n]}class Tn extends de{constructor(e){super(),me(this,e,Nn,Fn,_e,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9,tilesize:10})}}const On=l=>({hovered:l[0]&1}),yt=l=>({hovered:l[0]});function Bn(l){let e;const t=l[30].default,n=rt(t,l,l[29],yt);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,r){n&&n.m(a,r),e=!0},p(a,r){n&&n.p&&(!e||r[0]&536870913)&&it(n,t,a,a[29],e?st(t,a[29],r,On):ot(a[29]),yt)},i(a){e||(j(n,a),e=!0)},o(a){Q(n,a),e=!1},d(a){n&&n.d(a)}}}function Kn(l,e,t){let n,{$$slots:a={},$$scope:r}=e;const i=nt();let{id:u}=e,{type:s}=e,{filter:c=null}=e,{layout:f={}}=e,{paint:h={}}=e,{data:d=null}=e,{colorKey:g="color"}=e,{nameKey:m=null}=e,{valueKey:b=null}=e,{idKey:v=null}=e,{select:y=!1}=e,{clickIgnore:C=!1}=e,{clickCenter:E=!1}=e,{selected:k=null}=e,{hover:z=!1}=e,{hovered:p=null}=e,{highlight:V=!1}=e,{highlightKey:P="highlighted"}=e,{highlighted:D=[]}=e,{order:A=null}=e,{maxzoom:M=null}=e,{minzoom:F=null}=e,{sourceLayer:H=null}=e,{visible:X=!0}=e;const{source:Y,layer:N,promoteId:R}=he("source"),{getMap:S}=he("map"),L=S();Ue("layer",{layer:u});const oe=Dn({id:null,feature:null,event:null});rn(l,oe,G=>t(32,n=G)),Ue("hover",oe),v=v||R,H=H||N;let se=null,ue=null,Z=[];f.visibility=X?"visible":"none";let W={id:u,type:s,source:Y,paint:h,layout:f};c&&(W.filter=c),H&&(W["source-layer"]=H),M&&(W.maxzoom=M),F&&(W.minzoom=F),We(()=>{L.getLayer(u)&&L.removeLayer(u),L.addLayer(W,A)});function le(G,fe=g){if(console.log("updating colors..."),m||b)for(const pe of G)L.setFeatureState({source:Y,sourceLayer:H,id:pe[v]},{color:fe?pe[fe]:null,name:m?pe[m]:null,value:b?pe[b]:null});else for(const pe of G)L.setFeatureState({source:Y,sourceLayer:H,id:pe[v]},{color:pe[fe]})}function ge(G){L.getLayer(u)&&L.setFilter(u,G)}function ce(G){if(L.getLayer(u))for(const fe in G)L.setPaintProperty(u,fe,G[fe])}function De(G){L.getLayer(u)&&L.setLayoutProperty(u,"visibility",G?"visible":"none")}return y&&L.on("click",u,G=>{if(G.features.length>0&&!C){let fe=G.features[0];if(t(2,k=fe.id),i("select",{id:k,feature:fe,event:G}),se&&L.setFeatureState({source:Y,sourceLayer:H,id:se},{selected:!1}),L.setFeatureState({source:Y,sourceLayer:H,id:k},{selected:!0}),E){let pe=centroid(G.features[0].toJSON().geometry);L.flyTo({center:pe.geometry.coordinates})}t(26,se=k)}}),z&&(L.on("mousemove",u,G=>{if(G.features.length>0){p&&L.setFeatureState({source:Y,sourceLayer:H,id:p},{hovered:!1});let fe=G.features[0];t(0,p=t(27,ue=fe.id)),oe.set({id:p,feature:fe,event:G}),i("hover",n),L.setFeatureState({source:Y,sourceLayer:H,id:p},{hovered:!0}),L.getCanvas().style.cursor="pointer"}}),L.on("mouseleave",u,G=>{p&&L.setFeatureState({source:Y,sourceLayer:H,id:p},{hovered:!1}),t(0,p=t(27,ue=null)),oe.set({id:null,feature:null,event:G}),i("hover",n),L.getCanvas().style.cursor=""})),at(async()=>{L&&L.getLayer(u)&&L.removeLayer(u)}),l.$$set=G=>{"id"in G&&t(6,u=G.id),"type"in G&&t(7,s=G.type),"filter"in G&&t(8,c=G.filter),"layout"in G&&t(4,f=G.layout),"paint"in G&&t(9,h=G.paint),"data"in G&&t(10,d=G.data),"colorKey"in G&&t(11,g=G.colorKey),"nameKey"in G&&t(12,m=G.nameKey),"valueKey"in G&&t(13,b=G.valueKey),"idKey"in G&&t(5,v=G.idKey),"select"in G&&t(14,y=G.select),"clickIgnore"in G&&t(15,C=G.clickIgnore),"clickCenter"in G&&t(16,E=G.clickCenter),"selected"in G&&t(2,k=G.selected),"hover"in G&&t(17,z=G.hover),"hovered"in G&&t(0,p=G.hovered),"highlight"in G&&t(18,V=G.highlight),"highlightKey"in G&&t(19,P=G.highlightKey),"highlighted"in G&&t(20,D=G.highlighted),"order"in G&&t(21,A=G.order),"maxzoom"in G&&t(22,M=G.maxzoom),"minzoom"in G&&t(23,F=G.minzoom),"sourceLayer"in G&&t(3,H=G.sourceLayer),"visible"in G&&t(24,X=G.visible),"$$scope"in G&&t(29,r=G.$$scope)},l.$$.update=()=>{if(l.$$.dirty[0]&3072&&d&&le(d,g),l.$$.dirty[0]&256&&ge(c),l.$$.dirty[0]&512&&ce(h),l.$$.dirty[0]&16777216&&De(X),l.$$.dirty[0]&270270472&&V&&D!=Z){if(Z[0])for(const G of Z){let fe={};fe[P]=!1,L.setFeatureState({source:Y,sourceLayer:H,id:G},fe)}if(t(28,Z=D),D[0])for(const G of D){let fe={};fe[P]=!0,L.setFeatureState({source:Y,sourceLayer:H,id:G},fe)}}l.$$.dirty[0]&67125260&&y&&k!=se&&(se&&L.setFeatureState({source:Y,sourceLayer:H,id:se},{selected:!1}),k&&L.setFeatureState({source:Y,sourceLayer:H,id:k},{selected:!0}),t(26,se=k)),l.$$.dirty[0]&134348809&&z&&p!=ue&&(ue&&L.setFeatureState({source:Y,sourceLayer:H,id:ue},{hovered:!1}),p&&L.setFeatureState({source:Y,sourceLayer:H,id:p},{hovered:!0}),t(27,ue=p))},[p,oe,k,H,f,v,u,s,c,h,d,g,m,b,y,C,E,z,V,P,D,A,M,F,X,le,se,ue,Z,r,a]}class wt extends de{constructor(e){super(),me(this,e,Kn,Bn,_e,{id:6,type:7,filter:8,layout:4,paint:9,data:10,colorKey:11,nameKey:12,valueKey:13,idKey:5,select:14,clickIgnore:15,clickCenter:16,selected:2,hover:17,hovered:0,highlight:18,highlightKey:19,highlighted:20,order:21,maxzoom:22,minzoom:23,sourceLayer:3,visible:24,updateColors:25},null,[-1,-1])}get updateColors(){return this.$$.ctx[25]}}function pt(l){let e,t;return{c(){e=T("p"),t=ee(l[8]),this.h()},l(n){e=O(n,"P",{class:!0,style:!0});var a=I(e);t=te(a,l[8]),a.forEach(_),this.h()},h(){o(e,"class","mainText svelte-uxdwpk"),$(e,"font-size",l[8].length<=5?"18px":l[8].length<=6?"16px":l[8].length<=7?"14px":"12px")},m(n,a){B(n,e,a),w(e,t)},p(n,a){a&256&&Ie(t,n[8]),a&256&&$(e,"font-size",n[8].length<=5?"18px":n[8].length<=6?"16px":n[8].length<=7?"14px":"12px")},d(n){n&&_(e)}}}function It(l){let e,t;return{c(){e=T("p"),t=ee(l[7]),this.h()},l(n){e=O(n,"P",{class:!0,style:!0});var a=I(e);t=te(a,l[7]),a.forEach(_),this.h()},h(){o(e,"class","secondaryText svelte-uxdwpk"),$(e,"font-size",l[2].length<=5?"12px":"10px"),$(e,"line-height",l[2].length<=5?"13px":"11px")},m(n,a){B(n,e,a),w(e,t)},p(n,a){a&128&&Ie(t,n[7]),a&4&&$(e,"font-size",n[2].length<=5?"12px":"10px"),a&4&&$(e,"line-height",n[2].length<=5?"13px":"11px")},d(n){n&&_(e)}}}function qn(l){let e,t=l[0].includes(0),n,a=l[3]!=null&l[4]!=null&l[0].includes(1)&l[0].includes(0),r,i=t&&pt(l),u=a&&It(l);return{c(){e=T("div"),i&&i.c(),n=J(),u&&u.c(),this.h()},l(s){e=O(s,"DIV",{class:!0,style:!0});var c=I(e);i&&i.l(c),n=x(c),u&&u.l(c),c.forEach(_),this.h()},h(){o(e,"class",r="cell-container "+(l[4]==null?"no-data":"")+" svelte-uxdwpk"),$(e,"background-color",l[9]),$(e,"color",l[1]===2&l[6]==="improving"&l[5]==="worse than average"?"black":"white")},m(s,c){B(s,e,c),i&&i.m(e,null),w(e,n),u&&u.m(e,null)},p(s,[c]){c&1&&(t=s[0].includes(0)),t?i?i.p(s,c):(i=pt(s),i.c(),i.m(e,n)):i&&(i.d(1),i=null),c&25&&(a=s[3]!=null&s[4]!=null&s[0].includes(1)&s[0].includes(0)),a?u?u.p(s,c):(u=It(s),u.c(),u.m(e,null)):u&&(u.d(1),u=null),c&16&&r!==(r="cell-container "+(s[4]==null?"no-data":"")+" svelte-uxdwpk")&&o(e,"class",r),c&512&&$(e,"background-color",s[9]),c&98&&$(e,"color",s[1]===2&s[6]==="improving"&s[5]==="worse than average"?"black":"white")},i:be,o:be,d(s){s&&_(e),i&&i.d(),u&&u.d()}}}function jn(l,e,t){let n,a,r,i,u,s,c,f,h,d,{calculations:g,indicatorMetadata:m,latestData:b,initialData:v,labelsArray:y,comparisonsId:C,rowNumb:E}=e,k=m.prefix===null?"":m.prefix,z=m.suffix===null?"":m.suffix;return l.$$set=p=>{"calculations"in p&&t(10,g=p.calculations),"indicatorMetadata"in p&&t(11,m=p.indicatorMetadata),"latestData"in p&&t(12,b=p.latestData),"initialData"in p&&t(13,v=p.initialData),"labelsArray"in p&&t(0,y=p.labelsArray),"comparisonsId"in p&&t(1,C=p.comparisonsId),"rowNumb"in p&&t(14,E=p.rowNumb)},l.$$.update=()=>{l.$$.dirty&4096&&t(4,n=b.length>0?b[0].value:null),l.$$.dirty&8192&&t(3,a=v.length>0?v[0].value:null),l.$$.dirty&24&&t(16,r=n!=null&a!=null?100*(n-a)/a:null),l.$$.dirty&1040&&t(15,i=n!=null?100*(n-g.medianValue)/g.medianValue:null),l.$$.dirty&67584&&t(6,u=r!=null?Math.abs(r)<m.similarThreshold?"similar":r>0?m.polarity==1?"improving":"worsening":m.polarity==1?"worsening":"improving":null),l.$$.dirty&34816&&t(5,s=i!=null?Math.abs(i)<m.similarThreshold?"similar":i>0?m.polarity==1?"better than average":"worse than average":m.polarity==1?"worse than average":"better than average":null),l.$$.dirty&98&&t(9,c=u==null&s==null?"grey":Ne[u!=null&[1,2].includes(C)?u:"similar"][s!=null&[0,2].includes(C)?s:"similar"]),l.$$.dirty&2064&&t(8,f=n!=null?k+Te(Oe(n,m.decimalPlaces))+z:"No data"),l.$$.dirty&2056&&t(2,h=a!=null?k+Te(Oe(a,m.decimalPlaces))+z:"No data"),l.$$.dirty&17420&&t(7,d=a!=null?E===0?"("+h+" in "+g.minXDomain+")":"("+h+")":"No data")},[y,C,h,a,n,s,u,d,f,c,g,m,b,v,E,i,r]}let Gn=class extends de{constructor(e){super(),me(this,e,jn,qn,_e,{calculations:10,indicatorMetadata:11,latestData:12,initialData:13,labelsArray:0,comparisonsId:1,rowNumb:14})}};function Dt(l,e,t){const n=l.slice();return n[14]=e[t],n[16]=t,n}function Et(l){let e,t,n,a;function r(...u){return l[11](l[14],...u)}function i(...u){return l[12](l[14],...u)}return t=new Gn({props:{calculations:l[14],rowNumb:l[5],comparisonsId:l[0],labelsArray:l[1],indicatorMetadata:l[2].find(r),latestData:l[4].filter(i),initialData:"indicator-"+l[14].id in l[3]?l[3]["indicator-"+l[14].id].filter(l[13]):[]}}),{c(){e=T("div"),ne(t.$$.fragment),n=J(),this.h()},l(u){e=O(u,"DIV",{class:!0});var s=I(e);ae(t.$$.fragment,s),n=x(s),s.forEach(_),this.h()},h(){o(e,"class",Ce("cell column"+l[16])+" svelte-17hudsm")},m(u,s){B(u,e,s),re(t,e,null),w(e,n),a=!0},p(u,s){l=u;const c={};s&128&&(c.calculations=l[14]),s&32&&(c.rowNumb=l[5]),s&1&&(c.comparisonsId=l[0]),s&2&&(c.labelsArray=l[1]),s&132&&(c.indicatorMetadata=l[2].find(r)),s&208&&(c.latestData=l[4].filter(i)),s&200&&(c.initialData="indicator-"+l[14].id in l[3]?l[3]["indicator-"+l[14].id].filter(l[13]):[]),t.$set(c)},i(u){a||(j(t.$$.fragment,u),a=!0)},o(u){Q(t.$$.fragment,u),a=!1},d(u){u&&_(e),ie(t)}}}function Hn(l){let e,t,n,a=l[8].find(l[10]).areanm+"",r,i,u,s,c=l[7],f=[];for(let d=0;d<c.length;d+=1)f[d]=Et(Dt(l,c,d));const h=d=>Q(f[d],1,1,()=>{f[d]=null});return{c(){e=T("div"),t=T("div"),n=T("p"),r=ee(a),i=J();for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){e=O(d,"DIV",{class:!0,style:!0});var g=I(e);t=O(g,"DIV",{class:!0,style:!0});var m=I(t);n=O(m,"P",{class:!0});var b=I(n);r=te(b,a),b.forEach(_),m.forEach(_),i=x(g);for(let v=0;v<f.length;v+=1)f[v].l(g);g.forEach(_),this.h()},h(){o(n,"class","svelte-17hudsm"),o(t,"class","areasColumn svelte-17hudsm"),o(t,"style","width: 200px"),o(e,"class",u=Ce("row cellRow"+l[5])+" svelte-17hudsm"),$(e,"background-color",l[5]%2===0?"#fafafa":"#ffffff")},m(d,g){B(d,e,g),w(e,t),w(t,n),w(n,r),w(e,i);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(e,null);s=!0},p(d,[g]){if((!s||g&64)&&a!==(a=d[8].find(d[10]).areanm+"")&&Ie(r,a),g&255){c=d[7];let m;for(m=0;m<c.length;m+=1){const b=Dt(d,c,m);f[m]?(f[m].p(b,g),j(f[m],1)):(f[m]=Et(b),f[m].c(),j(f[m],1),f[m].m(e,null))}for(ze(),m=c.length;m<f.length;m+=1)h(m);Ve()}(!s||g&32&&u!==(u=Ce("row cellRow"+d[5])+" svelte-17hudsm"))&&o(e,"class",u),(!s||g&32)&&$(e,"background-color",d[5]%2===0?"#fafafa":"#ffffff")},i(d){if(!s){for(let g=0;g<c.length;g+=1)j(f[g]);s=!0}},o(d){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)Q(f[g]);s=!1},d(d){d&&_(e),ke(f,d)}}}function Wn(l,e,t){let{chosenId1:n,chosenId2:a,chosenId3:r,indicatorsMetadata:i,initialData:u,latestData:s,j:c,row:f,indicatorsCalculations:h}=e,d=he("areas");const g=y=>y.areacd===f.areacd,m=(y,C)=>C.code==y.code,b=(y,C)=>y.id==C.id&f.areacd==C.areacd,v=y=>y.areacd==f.areacd;return l.$$set=y=>{"chosenId1"in y&&t(9,n=y.chosenId1),"chosenId2"in y&&t(0,a=y.chosenId2),"chosenId3"in y&&t(1,r=y.chosenId3),"indicatorsMetadata"in y&&t(2,i=y.indicatorsMetadata),"initialData"in y&&t(3,u=y.initialData),"latestData"in y&&t(4,s=y.latestData),"j"in y&&t(5,c=y.j),"row"in y&&t(6,f=y.row),"indicatorsCalculations"in y&&t(7,h=y.indicatorsCalculations)},l.$$.update=()=>{l.$$.dirty&64&&console.log(f)},[a,r,i,u,s,c,f,h,d,n,g,m,b,v]}let Xn=class extends de{constructor(e){super(),me(this,e,Wn,Hn,_e,{chosenId1:9,chosenId2:0,chosenId3:1,indicatorsMetadata:2,initialData:3,latestData:4,j:5,row:6,indicatorsCalculations:7})}};function Zn(l){let e,t,n;return{c(){e=T("div"),t=K("svg"),n=K("path"),this.h()},l(a){e=O(a,"DIV",{class:!0});var r=I(e);t=q(r,"svg",{width:!0,height:!0,class:!0,viewBox:!0,style:!0});var i=I(t);n=q(i,"path",{d:!0}),I(n).forEach(_),i.forEach(_),r.forEach(_),this.h()},h(){o(n,"d","M24.15 34q.65 0 1.075-.425.425-.425.425-1.075v-9.05q0-.6-.45-1.025Q24.75 22 24.15 22q-.65 0-1.075.425-.425.425-.425 1.075v9.05q0 .6.45 1.025.45.425 1.05.425ZM24 18.3q.7 0 1.175-.45.475-.45.475-1.15t-.475-1.2Q24.7 15 24 15q-.7 0-1.175.5-.475.5-.475 1.2t.475 1.15q.475.45 1.175.45ZM24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 4.25-1.55 7.9-1.55 3.65-4.25 6.35-2.7 2.7-6.35 4.225Q28.2 44 24 44Zm0-20Zm0 17q7 0 12-5t5-12q0-7-5-12T24 7q-7 0-12 5T7 24q0 7 5 12t12 5Z"),o(t,"width","20"),o(t,"height","20"),o(t,"class","c h-16 w-16 inline svelte-nloqxl"),o(t,"viewBox","0 0 48 48"),$(t,"transform","rotate(0deg)"),o(e,"class","infoCell svelte-185pa6q")},m(a,r){B(a,e,r),w(e,t),w(t,n)},p:be,i:be,o:be,d(a){a&&_(e)}}}class ut extends de{constructor(e){super(),me(this,e,null,Zn,_e,{})}}function Lt(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function Ct(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function zt(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function Vt(l){let e,t,n=l[6].label+"",a,r;return{c(){e=T("div"),t=T("p"),a=ee(n),r=J(),this.h()},l(i){e=O(i,"DIV",{class:!0});var u=I(e);t=O(u,"P",{class:!0});var s=I(t);a=te(s,n),r=x(s),s.forEach(_),u.forEach(_),this.h()},h(){o(t,"class","svelte-15wb3yy"),o(e,"class",Ce("headerCell column"+l[8])+" svelte-15wb3yy")},m(i,u){B(i,e,u),w(e,t),w(t,a),w(t,r)},p(i,u){u&4&&n!==(n=i[6].label+"")&&Ie(a,n)},d(i){i&&_(e)}}}function Mt(l){let e,t;return e=new ut({}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Rt(l){let e,t="(compared to "+l[3].find(a).label+")",n;function a(...r){return l[5](l[6],...r)}return{c(){e=T("p"),n=ee(t),this.h()},l(r){e=O(r,"P",{class:!0});var i=I(e);n=te(i,t),i.forEach(_),this.h()},h(){o(e,"class","initial-year-label svelte-15wb3yy")},m(r,i){B(r,e,i),w(e,n)},p(r,i){l=r,i&4&&t!==(t="(compared to "+l[3].find(a).label+")")&&Ie(n,t)},d(r){r&&_(e)}}}function At(l){let e,t,n=l[3].find(s).label+"",a,r,i=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0),u;function s(...f){return l[4](l[6],...f)}let c=i&&Rt(l);return{c(){e=T("div"),t=T("p"),a=ee(n),r=J(),c&&c.c(),u=J(),this.h()},l(f){e=O(f,"DIV",{class:!0});var h=I(e);t=O(h,"P",{class:!0});var d=I(t);a=te(d,n),d.forEach(_),r=x(h),c&&c.l(h),u=x(h),h.forEach(_),this.h()},h(){o(t,"class","latest-year-label svelte-15wb3yy"),o(e,"class",Ce("yearCell column"+l[8])+" svelte-15wb3yy")},m(f,h){B(f,e,h),w(e,t),w(t,a),w(e,r),c&&c.m(e,null),w(e,u)},p(f,h){l=f,h&4&&n!==(n=l[3].find(s).label+"")&&Ie(a,n),h&7&&(i=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0)),i?c?c.p(l,h):(c=Rt(l),c.c(),c.m(e,u)):c&&(c.d(1),c=null)},d(f){f&&_(e),c&&c.d()}}}function Yn(l){let e,t,n,a,r,i,u,s,c,f,h,d,g=l[2],m=[];for(let k=0;k<g.length;k+=1)m[k]=Vt(zt(l,g,k));let b=l[2],v=[];for(let k=0;k<b.length;k+=1)v[k]=Mt(Ct(l,b,k));const y=k=>Q(v[k],1,1,()=>{v[k]=null});let C=l[2],E=[];for(let k=0;k<C.length;k+=1)E[k]=At(Lt(l,C,k));return{c(){e=T("div"),t=T("div"),n=J();for(let k=0;k<m.length;k+=1)m[k].c();a=J(),r=T("div"),i=T("div"),u=J();for(let k=0;k<v.length;k+=1)v[k].c();s=J(),c=T("div"),f=T("div"),h=J();for(let k=0;k<E.length;k+=1)E[k].c();this.h()},l(k){e=O(k,"DIV",{class:!0});var z=I(e);t=O(z,"DIV",{class:!0,style:!0});var p=I(t);p.forEach(_),n=x(z);for(let M=0;M<m.length;M+=1)m[M].l(z);z.forEach(_),a=x(k),r=O(k,"DIV",{class:!0});var V=I(r);i=O(V,"DIV",{class:!0,style:!0});var P=I(i);P.forEach(_),u=x(V);for(let M=0;M<v.length;M+=1)v[M].l(V);V.forEach(_),s=x(k),c=O(k,"DIV",{class:!0});var D=I(c);f=O(D,"DIV",{class:!0,style:!0});var A=I(f);A.forEach(_),h=x(D);for(let M=0;M<E.length;M+=1)E[M].l(D);D.forEach(_),this.h()},h(){o(t,"class","areasColumn svelte-15wb3yy"),o(t,"style","width: 200px"),o(e,"class","row headerRow svelte-15wb3yy"),o(i,"class","areasColumn svelte-15wb3yy"),o(i,"style","width: 200px"),o(r,"class","row headerRow svelte-15wb3yy"),o(f,"class","areasColumn svelte-15wb3yy"),o(f,"style","width: 200px"),o(c,"class","row headerRow svelte-15wb3yy")},m(k,z){B(k,e,z),w(e,t),w(e,n);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(e,null);B(k,a,z),B(k,r,z),w(r,i),w(r,u);for(let p=0;p<v.length;p+=1)v[p]&&v[p].m(r,null);B(k,s,z),B(k,c,z),w(c,f),w(c,h);for(let p=0;p<E.length;p+=1)E[p]&&E[p].m(c,null);d=!0},p(k,[z]){if(z&4){g=k[2];let p;for(p=0;p<g.length;p+=1){const V=zt(k,g,p);m[p]?m[p].p(V,z):(m[p]=Vt(V),m[p].c(),m[p].m(e,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=g.length}if(z&4){const p=b.length;b=k[2];let V;for(V=p;V<b.length;V+=1)Ct(k,b,V),v[V]?j(v[V],1):(v[V]=Mt(),v[V].c(),j(v[V],1),v[V].m(r,null));for(ze(),V=b.length;V<v.length;V+=1)y(V);Ve()}if(z&15){C=k[2];let p;for(p=0;p<C.length;p+=1){const V=Lt(k,C,p);E[p]?E[p].p(V,z):(E[p]=At(V),E[p].c(),E[p].m(c,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=C.length}},i(k){if(!d){for(let z=0;z<b.length;z+=1)j(v[z]);d=!0}},o(k){v=v.filter(Boolean);for(let z=0;z<v.length;z+=1)Q(v[z]);d=!1},d(k){k&&_(e),ke(m,k),k&&_(a),k&&_(r),ke(v,k),k&&_(s),k&&_(c),ke(E,k)}}}function Qn(l,e,t){let{chosenId2:n,chosenId3:a,indicatorsCalculations:r}=e,i=he("periodsLookup");const u=(c,f)=>f.xDomainNumb==c.maxXDomain,s=(c,f)=>f.xDomainNumb==c.minXDomain;return l.$$set=c=>{"chosenId2"in c&&t(0,n=c.chosenId2),"chosenId3"in c&&t(1,a=c.chosenId3),"indicatorsCalculations"in c&&t(2,r=c.indicatorsCalculations)},[n,a,r,i,u,s]}let Un=class extends de{constructor(e){super(),me(this,e,Qn,Yn,_e,{chosenId2:0,chosenId3:1,indicatorsCalculations:2})}};function St(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function Ft(l){let e,t;return e=new Xn({props:{row:l[9],j:l[11],chosenId1:l[3],chosenId2:l[4],chosenId3:l[5],indicatorsCalculations:l[7],indicatorsMetadata:l[6],initialData:l[1],latestData:l[0]}}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p(n,a){const r={};a&4&&(r.row=n[9]),a&8&&(r.chosenId1=n[3]),a&16&&(r.chosenId2=n[4]),a&32&&(r.chosenId3=n[5]),a&2&&(r.initialData=n[1]),a&1&&(r.latestData=n[0]),e.$set(r)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Jn(l){let e,t,n,a;t=new Un({props:{indicatorsCalculations:l[7],chosenId2:l[4],chosenId3:l[5]}});let r=l[2],i=[];for(let s=0;s<r.length;s+=1)i[s]=Ft(St(l,r,s));const u=s=>Q(i[s],1,1,()=>{i[s]=null});return{c(){e=T("div"),ne(t.$$.fragment),n=J();for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=O(s,"DIV",{class:!0});var c=I(e);ae(t.$$.fragment,c),n=x(c);for(let f=0;f<i.length;f+=1)i[f].l(c);c.forEach(_),this.h()},h(){o(e,"class","grid-container svelte-k2j273")},m(s,c){B(s,e,c),re(t,e,null),w(e,n);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);a=!0},p(s,[c]){const f={};if(c&16&&(f.chosenId2=s[4]),c&32&&(f.chosenId3=s[5]),t.$set(f),c&255){r=s[2];let h;for(h=0;h<r.length;h+=1){const d=St(s,r,h);i[h]?(i[h].p(d,c),j(i[h],1)):(i[h]=Ft(d),i[h].c(),j(i[h],1),i[h].m(e,null))}for(ze(),h=r.length;h<i.length;h+=1)u(h);Ve()}},i(s){if(!a){j(t.$$.fragment,s);for(let c=0;c<r.length;c+=1)j(i[c]);a=!0}},o(s){Q(t.$$.fragment,s),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)Q(i[c]);a=!1},d(s){s&&_(e),ie(t),ke(i,s)}}}function xn(l,e,t){let{indicatorsList:n,latestData:a,initialData:r,selectedAreas:i,chosenId1:u,chosenId2:s,chosenId3:c}=e,f=he("indicatorsMetadata"),h=he("indicatorsCalculations").filter(d=>n.includes(d.id));return h.forEach((d,g)=>{d.medianValue=d.ltCount>200?d.ltMedian:d.utCount>140?d.utMedian:d.ukValue!="NA"?d.ukValue:d.gbValue!="NA"?d.gbValue:d.ewValue!="NA"?d.ewValue:d.engValue!="NA"?d.engValue:null,d.label=f.find(m=>m.code==d.code).label}),l.$$set=d=>{"indicatorsList"in d&&t(8,n=d.indicatorsList),"latestData"in d&&t(0,a=d.latestData),"initialData"in d&&t(1,r=d.initialData),"selectedAreas"in d&&t(2,i=d.selectedAreas),"chosenId1"in d&&t(3,u=d.chosenId1),"chosenId2"in d&&t(4,s=d.chosenId2),"chosenId3"in d&&t(5,c=d.chosenId3)},l.$$.update=()=>{l.$$.dirty&4&&console.log(i)},[a,r,i,u,s,c,f,h,n]}let $n=class extends de{constructor(e){super(),me(this,e,xn,Jn,_e,{indicatorsList:8,latestData:0,initialData:1,selectedAreas:2,chosenId1:3,chosenId2:4,chosenId3:5})}};function ea(l){let e,t,n,a,r,i,u,s,c;function f(y){l[39](y)}function h(y){l[40](y)}function d(y){l[41](y)}function g(y){l[42](y)}function m(y){l[43](y)}function b(y){l[44](y)}let v={id:l[2],container:l[3],items:l[4],placeholder:l[5],isMulti:l[10],isSearchable:l[6],groupBy:l[22],loadOptions:l[9],getSelectionLabel:l[12],getOptionLabel:l[21],itemFilter:l[19],ariaValues:l[25],ariaListOpen:l[26],ariaFocused:l[27],noOptionsMessage:l[20],indicatorSvg:l[23],containerStyles:l[24],optionIdentifier:l[8],showIndicator:!0,isClearable:l[7]?!l[10]:!1};return l[15]!==void 0&&(v.isFocused=l[15]),l[0]!==void 0&&(v.value=l[0]),l[16]!==void 0&&(v.listOpen=l[16]),l[1]!==void 0&&(v.filterText=l[1]),l[13]!==void 0&&(v.isWaiting=l[13]),l[17]!==void 0&&(v.handleClear=l[17]),t=new In({props:v}),ve.push(()=>ye(t,"isFocused",f)),ve.push(()=>ye(t,"value",h)),ve.push(()=>ye(t,"listOpen",d)),ve.push(()=>ye(t,"filterText",g)),ve.push(()=>ye(t,"isWaiting",m)),ve.push(()=>ye(t,"handleClear",b)),t.$on("select",l[28]),t.$on("clear",l[45]),t.$on("loaded",l[46]),t.$on("error",l[47]),{c(){e=T("div"),ne(t.$$.fragment),this.h()},l(y){e=O(y,"DIV",{class:!0});var C=I(e);ae(t.$$.fragment,C),C.forEach(_),this.h()},h(){o(e,"class","selectbox svelte-gskmgd"),Ke(e,"multi-selected",l[0]&&l[10]),Ke(e,"focused",l[15]),Ke(e,"selected",l[0]&&!l[16]&&!l[10]),$(e,"--borderColor",l[11]),$(e,"--firstItem",l[18](0)),$(e,"--secondItem",l[18](1)),$(e,"--thirdItem",l[18](2)),$(e,"--fourthItem",l[18](3)),$(e,"--fifthItem",l[18](4)),$(e,"--sixthItem",l[18](5)),$(e,"--seventhItem",l[18](6)),$(e,"--eighthItem",l[18](7)),$(e,"--ninethItem",l[18](8)),$(e,"--tenthItem",l[18](9))},m(y,C){B(y,e,C),re(t,e,null),l[48](e),c=!0},p(y,C){const E={};C[0]&4&&(E.id=y[2]),C[0]&8&&(E.container=y[3]),C[0]&16&&(E.items=y[4]),C[0]&32&&(E.placeholder=y[5]),C[0]&1024&&(E.isMulti=y[10]),C[0]&64&&(E.isSearchable=y[6]),C[0]&512&&(E.loadOptions=y[9]),C[0]&4096&&(E.getSelectionLabel=y[12]),C[0]&524288&&(E.itemFilter=y[19]),C[0]&1048576&&(E.noOptionsMessage=y[20]),C[0]&256&&(E.optionIdentifier=y[8]),C[0]&1152&&(E.isClearable=y[7]?!y[10]:!1),!n&&C[0]&32768&&(n=!0,E.isFocused=y[15],we(()=>n=!1)),!a&&C[0]&1&&(a=!0,E.value=y[0],we(()=>a=!1)),!r&&C[0]&65536&&(r=!0,E.listOpen=y[16],we(()=>r=!1)),!i&&C[0]&2&&(i=!0,E.filterText=y[1],we(()=>i=!1)),!u&&C[0]&8192&&(u=!0,E.isWaiting=y[13],we(()=>u=!1)),!s&&C[0]&131072&&(s=!0,E.handleClear=y[17],we(()=>s=!1)),t.$set(E),(!c||C[0]&1025)&&Ke(e,"multi-selected",y[0]&&y[10]),(!c||C[0]&32768)&&Ke(e,"focused",y[15]),(!c||C[0]&66561)&&Ke(e,"selected",y[0]&&!y[16]&&!y[10]),C[0]&2048&&$(e,"--borderColor",y[11]),C[0]&262144&&$(e,"--firstItem",y[18](0)),C[0]&262144&&$(e,"--secondItem",y[18](1)),C[0]&262144&&$(e,"--thirdItem",y[18](2)),C[0]&262144&&$(e,"--fourthItem",y[18](3)),C[0]&262144&&$(e,"--fifthItem",y[18](4)),C[0]&262144&&$(e,"--sixthItem",y[18](5)),C[0]&262144&&$(e,"--seventhItem",y[18](6)),C[0]&262144&&$(e,"--eighthItem",y[18](7)),C[0]&262144&&$(e,"--ninethItem",y[18](8)),C[0]&262144&&$(e,"--tenthItem",y[18](9))},i(y){c||(j(t.$$.fragment,y),c=!0)},o(y){Q(t.$$.fragment,y),c=!1},d(y){y&&_(e),ie(t),l[48](null)}}}function ta(l,e,t){let n,a,r;const i='<svg viewBox="0 0 20 20" fill-rule="evenodd"><path d="M0,8a8,8,0,1,0,16,0a8,8,0,1,0,-16,0ZM3,8a5,5,0,1,0,10,0a5,5,0,1,0,-10,0Z"/><path d="M18,20L20,18L14,12L12,14Z"/></svg>',u='<svg viewBox="0 0 20 20"><path d="M1,6L19,6L10,15Z"/></svg>',s=nt();let{id:c=""}=e,{container:f=void 0}=e,{mode:h="default"}=e,{items:d}=e,{placeholder:g="Select one..."}=e,{value:m=null}=e,{filterText:b=""}=e,{isSearchable:v=!0}=e,{isClearable:y=!0}=e,{autoClear:C=!1}=e,{idKey:E="value"}=e,{labelKey:k="label"}=e,{groupKey:z=null}=e,{groupItems:p=!1}=e,{loadOptions:V=void 0}=e,{fontSize:P="1em"}=e,{height:D=42}=e,{isMulti:A=!1}=e,{maxSelected:M=4}=e,{colors:F=["#206095","#a8bd3a","#871a5b","#27a0cc"]}=e,{darkMode:H=!1}=e,{borderColor:X=H?"white":"#206095"}=e;const Y=z&&!p?U=>`${U[k]} <span class="group">${U[z]}</span>`:U=>U[k];let{getSelectionLabel:N=U=>U?Y(U):null}=e;const R=p&&z?U=>U[z]:void 0,S=h=="search"?i:u,L=`--inputFontSize: ${P}; --groupTitleFontSize: ${P}; --height: ${D}px; font-size: ${P};`,oe=U=>`${U}, selected.`,se=(U,Ae)=>`You are currently focused on ${U}. There are ${Ae} results available.`,ue=()=>"Select is focused, type to refine list, press down to open the menu.";let Z,W,le,ge,ce;const De=U=>new Promise(Ae=>setTimeout(Ae,U));async function G(U){if(s("select",U.detail),C)ce();else if(y){await De(10);let Ae=Z.getElementsByClassName("clearSelect")[0];Ae&&(Ae.tabIndex=0,Ae.onkeypress=Ye=>{Ye.key=="Enter"&&ce()},Ae.removeAttribute("aria-hidden"),Ae.setAttribute("aria-label","Clear selection"))}}function fe(U){W=U,t(15,W)}function pe(U){m=U,t(0,m)}function Se(U){le=U,t(16,le)}function Me(U){b=U,t(1,b)}function Fe(U){ge=U,t(13,ge)}function Le(U){ce=U,t(17,ce)}function Pe(U){Ge.call(this,l,U)}function Ze(U){Ge.call(this,l,U)}function qe(U){Ge.call(this,l,U)}function ln(U){ve[U?"unshift":"push"](()=>{Z=U,t(14,Z)})}return l.$$set=U=>{"id"in U&&t(2,c=U.id),"container"in U&&t(3,f=U.container),"mode"in U&&t(29,h=U.mode),"items"in U&&t(4,d=U.items),"placeholder"in U&&t(5,g=U.placeholder),"value"in U&&t(0,m=U.value),"filterText"in U&&t(1,b=U.filterText),"isSearchable"in U&&t(6,v=U.isSearchable),"isClearable"in U&&t(7,y=U.isClearable),"autoClear"in U&&t(30,C=U.autoClear),"idKey"in U&&t(8,E=U.idKey),"labelKey"in U&&t(31,k=U.labelKey),"groupKey"in U&&t(32,z=U.groupKey),"groupItems"in U&&t(33,p=U.groupItems),"loadOptions"in U&&t(9,V=U.loadOptions),"fontSize"in U&&t(34,P=U.fontSize),"height"in U&&t(35,D=U.height),"isMulti"in U&&t(10,A=U.isMulti),"maxSelected"in U&&t(36,M=U.maxSelected),"colors"in U&&t(37,F=U.colors),"darkMode"in U&&t(38,H=U.darkMode),"borderColor"in U&&t(11,X=U.borderColor),"getSelectionLabel"in U&&t(12,N=U.getSelectionLabel)},l.$$.update=()=>{l.$$.dirty[0]&536879106&&t(20,n=ge?"Loading...":h=="search"&&b.length<3?"Enter 3 or more characters for suggestions":`No results match ${b}`),l.$$.dirty[0]&536870915|l.$$.dirty[1]&33&&t(19,a=Array.isArray(m)&&m.length>=M||h=="search"&&b.length<3?(U,Ae,Ye)=>!1:(U,Ae,Ye)=>`${Ye[k]}`.match(new RegExp(`\\b${Ae}`,"i"))),l.$$.dirty[1]&64&&t(18,r=U=>F[U%F.length])},[m,b,c,f,d,g,v,y,E,V,A,X,N,ge,Z,W,le,ce,r,a,n,Y,R,S,L,oe,se,ue,G,h,C,k,z,p,P,D,M,F,H,fe,pe,Se,Me,Fe,Le,Pe,Ze,qe,ln]}class la extends de{constructor(e){super(),me(this,e,ta,ea,_e,{id:2,container:3,mode:29,items:4,placeholder:5,value:0,filterText:1,isSearchable:6,isClearable:7,autoClear:30,idKey:8,labelKey:31,groupKey:32,groupItems:33,loadOptions:9,fontSize:34,height:35,isMulti:10,maxSelected:36,colors:37,darkMode:38,borderColor:11,getSelectionLabel:12},null,[-1,-1])}}function na(l){let e,t,n,a;function r(u){l[5](u)}let i={id:"multi",idKey:"areacd",labelKey:"areanm",groupKey:"parentnm",items:l[2],isMulti:!0,maxSelected:l[1].length,placeholder:"Select areas",colors:l[1]};return l[0].custom!==void 0&&(i.value=l[0].custom),t=new la({props:i}),ve.push(()=>ye(t,"value",r)),t.$on("select",l[3]),{c(){e=T("form"),ne(t.$$.fragment),this.h()},l(u){e=O(u,"FORM",{class:!0});var s=I(e);ae(t.$$.fragment,s),s.forEach(_),this.h()},h(){o(e,"class","svelte-gcqbil")},m(u,s){B(u,e,s),re(t,e,null),a=!0},p(u,[s]){const c={};s&2&&(c.maxSelected=u[1].length),s&2&&(c.colors=u[1]),!n&&s&1&&(n=!0,c.value=u[0].custom,we(()=>n=!1)),t.$set(c)},i(u){a||(j(t.$$.fragment,u),a=!0)},o(u){Q(t.$$.fragment,u),a=!1},d(u){u&&_(e),ie(t)}}}function aa(l,e,t){let{areasWithData:n,checkboxedRoles:a,colors:r=4}=e,i=he("areasParentsLookup"),u=he("areas"),s=i.filter(h=>n.includes(h.areacd));s.forEach(h=>{h.areanm=u.find(d=>d.areacd===h.areacd).areanm,h.parentnm=u.find(d=>h.parentcd===d.areacd)===void 0?"":u.find(d=>h.parentcd===d.areacd).areanm});function c(h){h.detail&&h.detail}function f(h){l.$$.not_equal(a.custom,h)&&(a.custom=h,t(0,a))}return l.$$set=h=>{"areasWithData"in h&&t(4,n=h.areasWithData),"checkboxedRoles"in h&&t(0,a=h.checkboxedRoles),"colors"in h&&t(1,r=h.colors)},[a,r,s,c,n,f]}class en extends de{constructor(e){super(),me(this,e,aa,na,_e,{areasWithData:4,checkboxedRoles:0,colors:1})}}function Pt(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function ra(l){let e,t=l[8]+"",n;return{c(){e=T("p"),n=ee(t),this.h()},l(a){e=O(a,"P",{style:!0,class:!0});var r=I(e);n=te(r,t),r.forEach(_),this.h()},h(){$(e,"font-size",l[4]),o(e,"class","svelte-1ib2ryh")},m(a,r){B(a,e,r),w(e,n)},p(a,r){r&2&&t!==(t=a[8]+"")&&Ie(n,t),r&16&&$(e,"font-size",a[4])},d(a){a&&_(e)}}}function ia(l){let e,t,n=l[8]+"",a,r;return{c(){e=T("div"),t=T("p"),a=ee(n),this.h()},l(i){e=O(i,"DIV",{class:!0,style:!0});var u=I(e);t=O(u,"P",{style:!0,class:!0});var s=I(t);a=te(s,n),s.forEach(_),u.forEach(_),this.h()},h(){$(t,"font-size",l[4]),o(t,"class","svelte-1ib2ryh"),o(e,"class","optionLabel svelte-1ib2ryh"),o(e,"style",r="background-color: "+(l[0]===l[10]?"white":"#e3e3e3"))},m(i,u){B(i,e,u),w(e,t),w(t,a)},p(i,u){u&2&&n!==(n=i[8]+"")&&Ie(a,n),u&16&&$(t,"font-size",i[4]),u&1&&r!==(r="background-color: "+(i[0]===i[10]?"white":"#e3e3e3"))&&o(e,"style",r)},d(i){i&&_(e)}}}function Nt(l){let e,t,n,a,r,i,u,s;function c(d,g){return d[5]?ia:ra}let f=c(l),h=f(l);return i=xl(l[7][0]),{c(){e=T("label"),t=T("input"),a=J(),h.c(),r=J(),this.h()},l(d){e=O(d,"LABEL",{style:!0,class:!0});var g=I(e);t=O(g,"INPUT",{style:!0,type:!0,name:!0}),a=x(g),h.l(g),r=x(g),g.forEach(_),this.h()},h(){o(t,"style",n="display: "+(l[5]?"none":null)),o(t,"type","radio"),t.__value=l[10],t.value=t.__value,o(t,"name",l[2]),$(e,"margin-bottom",l[3]),o(e,"class","svelte-1ib2ryh"),i.p(t)},m(d,g){B(d,e,g),w(e,t),t.checked=t.__value===l[0],w(e,a),h.m(e,null),w(e,r),u||(s=He(t,"change",l[6]),u=!0)},p(d,g){g&32&&n!==(n="display: "+(d[5]?"none":null))&&o(t,"style",n),g&4&&o(t,"name",d[2]),g&3&&(t.checked=t.__value===d[0]),f===(f=c(d))&&h?h.p(d,g):(h.d(1),h=f(d),h&&(h.c(),h.m(e,r))),g&8&&$(e,"margin-bottom",d[3])},d(d){d&&_(e),h.d(),i.r(),u=!1,s()}}}function oa(l){let e,t=l[1],n=[];for(let a=0;a<t.length;a+=1)n[a]=Nt(Pt(l,t,a));return{c(){e=T("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=O(a,"DIV",{class:!0,style:!0});var r=I(e);for(let i=0;i<n.length;i+=1)n[i].l(r);r.forEach(_),this.h()},h(){o(e,"class","radio-container svelte-1ib2ryh"),$(e,"flex-direction",l[5]?"row":"column")},m(a,r){B(a,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(a,[r]){if(r&63){t=a[1];let i;for(i=0;i<t.length;i+=1){const u=Pt(a,t,i);n[i]?n[i].p(u,r):(n[i]=Nt(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}r&32&&$(e,"flex-direction",a[5]?"row":"column")},i:be,o:be,d(a){a&&_(e),ke(n,a)}}}function sa(l,e,t){let{optionsArray:n,chosenId:a,name:r,marginBottom:i=null,fontSize:u=null,asButtons:s=!1}=e;const c=[[]];function f(){a=this.__value,t(0,a)}return l.$$set=h=>{"optionsArray"in h&&t(1,n=h.optionsArray),"chosenId"in h&&t(0,a=h.chosenId),"name"in h&&t(2,r=h.name),"marginBottom"in h&&t(3,i=h.marginBottom),"fontSize"in h&&t(4,u=h.fontSize),"asButtons"in h&&t(5,s=h.asButtons)},[a,n,r,i,u,s,f,c]}class Xe extends de{constructor(e){super(),me(this,e,sa,oa,_e,{optionsArray:1,chosenId:0,name:2,marginBottom:3,fontSize:4,asButtons:5})}}function Tt(l){let e,t,n,a;function r(u){l[7](u)}let i={areasWithData:l[4],colors:Array.from({length:8},ua)};return l[0]!==void 0&&(i.checkboxedRoles=l[0]),t=new en({props:i}),ve.push(()=>ye(t,"checkboxedRoles",r)),{c(){e=T("div"),ne(t.$$.fragment),this.h()},l(u){e=O(u,"DIV",{class:!0});var s=I(e);ae(t.$$.fragment,s),s.forEach(_),this.h()},h(){o(e,"class","select-areas-container")},m(u,s){B(u,e,s),re(t,e,null),a=!0},p(u,s){const c={};!n&&s&1&&(n=!0,c.checkboxedRoles=u[0],we(()=>n=!1)),t.$set(c)},i(u){a||(j(t.$$.fragment,u),a=!0)},o(u){Q(t.$$.fragment,u),a=!1},d(u){u&&_(e),ie(t)}}}function ca(l){let e,t,n,a,r;function i(c){l[6](c)}let u={optionsArray:l[3],name:l[2]};l[1]!==void 0&&(u.chosenId=l[1]),t=new Xe({props:u}),ve.push(()=>ye(t,"chosenId",i));let s=l[1]===1&&Tt(l);return{c(){e=T("div"),ne(t.$$.fragment),a=J(),s&&s.c(),this.h()},l(c){e=O(c,"DIV",{class:!0});var f=I(e);ae(t.$$.fragment,f),a=x(f),s&&s.l(f),f.forEach(_),this.h()},h(){o(e,"class","selection-box-container svelte-ycbie2")},m(c,f){B(c,e,f),re(t,e,null),w(e,a),s&&s.m(e,null),r=!0},p(c,[f]){const h={};f&4&&(h.name=c[2]),!n&&f&2&&(n=!0,h.chosenId=c[1],we(()=>n=!1)),t.$set(h),c[1]===1?s?(s.p(c,f),f&2&&j(s,1)):(s=Tt(c),s.c(),j(s,1),s.m(e,null)):s&&(ze(),Q(s,1,1,()=>{s=null}),Ve())},i(c){r||(j(t.$$.fragment,c),j(s),r=!0)},o(c){Q(t.$$.fragment,c),Q(s),r=!1},d(c){c&&_(e),ie(t),s&&s.d()}}}const ua=()=>"#003C57";function fa(l,e,t){let{latestData:n,checkboxedRoles:a,chosenId:r,radioName:i}=e,u=["Compare countries and regions of the UK","Select local areas of interest"],s=[...new Set(n.map(h=>h.areacd))];function c(h){r=h,t(1,r)}function f(h){a=h,t(0,a)}return l.$$set=h=>{"latestData"in h&&t(5,n=h.latestData),"checkboxedRoles"in h&&t(0,a=h.checkboxedRoles),"chosenId"in h&&t(1,r=h.chosenId),"radioName"in h&&t(2,i=h.radioName)},[a,r,i,u,s,n,c,f]}class ft extends de{constructor(e){super(),me(this,e,fa,ca,_e,{latestData:5,checkboxedRoles:0,chosenId:1,radioName:2})}}function Ot(l,e,t){const n=l.slice();return n[1]=e[t],n[3]=t,n}function Bt(l,e,t){const n=l.slice();return n[4]=e[t],n[6]=t,n}function Kt(l){let e,t;return{c(){e=K("rect"),this.h()},l(n){e=q(n,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),I(e).forEach(_),this.h()},h(){o(e,"transform","translate("+(l[3]==0?-1:l[3]==2?1:0)+","+(l[6]==0?-1:l[6]==2?1:0)+")"),o(e,"x",l[3]*40),o(e,"y",l[6]*40),o(e,"width","40"),o(e,"height","40"),o(e,"stroke","none"),o(e,"fill",t=Ne[l[1]][l[4]]),o(e,"opacity","1")},m(n,a){B(n,e,a)},p(n,a){a&1&&t!==(t=Ne[n[1]][n[4]])&&o(e,"fill",t)},d(n){n&&_(e)}}}function qt(l){let e,t=l[0]==1?["similar"]:["better than average","similar","worse than average"],n=[];for(let a=0;a<t.length;a+=1)n[a]=Kt(Bt(l,t,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=Ee()},l(a){for(let r=0;r<n.length;r+=1)n[r].l(a);e=Ee()},m(a,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(a,r);B(a,e,r)},p(a,r){if(r&1){t=a[0]==1?["similar"]:["better than average","similar","worse than average"];let i;for(i=0;i<t.length;i+=1){const u=Bt(a,t,i);n[i]?n[i].p(u,r):(n[i]=Kt(u),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(a){ke(n,a),a&&_(e)}}}function jt(l){let e,t,n,a,r,i,u,s,c,f,h;return{c(){e=K("line"),t=K("path"),n=K("path"),a=K("text"),r=ee("better than"),i=K("text"),u=ee("average"),s=K("text"),c=ee("worse than"),f=K("text"),h=ee("average"),this.h()},l(d){e=q(d,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),I(e).forEach(_),t=q(d,"path",{d:!0,stroke:!0,fill:!0}),I(t).forEach(_),n=q(d,"path",{d:!0,stroke:!0,fill:!0}),I(n).forEach(_),a=q(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var g=I(a);r=te(g,"better than"),g.forEach(_),i=q(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var m=I(i);u=te(m,"average"),m.forEach(_),s=q(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var b=I(s);c=te(b,"worse than"),b.forEach(_),f=q(d,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var v=I(f);h=te(v,"average"),v.forEach(_),this.h()},h(){o(e,"x1","-20"),o(e,"x2","-20"),o(e,"y1","10"),o(e,"y2","110"),o(e,"stroke","black"),o(e,"stroke-width","2px"),o(t,"d","M-20 5 l5 5 l-10 0 z"),o(t,"stroke","none"),o(t,"fill","black"),o(n,"d","M-20 115 l5 -5 l-10 0 z"),o(n,"stroke","none"),o(n,"fill","black"),o(a,"x","-30"),o(a,"y","10"),o(a,"text-anchor","end"),o(a,"font-size","14px"),o(a,"stroke-width","0.25px"),o(a,"stroke","black"),o(a,"fill","black"),o(i,"x","-30"),o(i,"y","24"),o(i,"text-anchor","end"),o(i,"font-size","14px"),o(i,"stroke-width","0.25px"),o(i,"stroke","black"),o(i,"fill","black"),o(s,"x","-30"),o(s,"y","110"),o(s,"text-anchor","end"),o(s,"font-size","14px"),o(s,"stroke-width","0.25px"),o(s,"stroke","black"),o(s,"fill","black"),o(f,"x","-30"),o(f,"y","124"),o(f,"text-anchor","end"),o(f,"font-size","14px"),o(f,"stroke-width","0.25px"),o(f,"stroke","black"),o(f,"fill","black")},m(d,g){B(d,e,g),B(d,t,g),B(d,n,g),B(d,a,g),w(a,r),B(d,i,g),w(i,u),B(d,s,g),w(s,c),B(d,f,g),w(f,h)},d(d){d&&_(e),d&&_(t),d&&_(n),d&&_(a),d&&_(i),d&&_(s),d&&_(f)}}}function Gt(l){let e,t,n,a,r,i,u,s,c;return{c(){e=K("g"),t=K("line"),n=K("path"),a=K("path"),r=K("text"),i=ee("worsening"),u=K("text"),s=ee("improving"),this.h()},l(f){e=q(f,"g",{transform:!0});var h=I(e);t=q(h,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0}),I(t).forEach(_),n=q(h,"path",{d:!0,stroke:!0,fill:!0}),I(n).forEach(_),a=q(h,"path",{d:!0,stroke:!0,fill:!0}),I(a).forEach(_),r=q(h,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var d=I(r);i=te(d,"worsening"),d.forEach(_),u=q(h,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var g=I(u);s=te(g,"improving"),g.forEach(_),h.forEach(_),this.h()},h(){o(t,"y1","140"),o(t,"y2","140"),o(t,"x1","10"),o(t,"x2","110"),o(t,"stroke","black"),o(t,"stroke-width","2px"),o(n,"d","M5 140 l5 -5 l0 10 z"),o(n,"stroke","none"),o(n,"fill","black"),o(a,"d","M115 140 l-5 -5 l0 10 z"),o(a,"stroke","none"),o(a,"fill","black"),o(r,"x","-5"),o(r,"y","160"),o(r,"text-anchor","middle"),o(r,"font-size","14px"),o(r,"stroke-width","0.25px"),o(r,"stroke","black"),o(r,"fill","black"),o(u,"x","110"),o(u,"y","160"),o(u,"text-anchor","middle"),o(u,"font-size","14px"),o(u,"stroke-width","0.25px"),o(u,"stroke","black"),o(u,"fill","black"),o(e,"transform",c=l[0]==2?null:"translate(0, -80)")},m(f,h){B(f,e,h),w(e,t),w(e,n),w(e,a),w(e,r),w(r,i),w(e,u),w(u,s)},p(f,h){h&1&&c!==(c=f[0]==2?null:"translate(0, -80)")&&o(e,"transform",c)},d(f){f&&_(e)}}}function ha(l){let e,t,n,a,r,i,u,s=l[0]==0?["similar"]:["worsening","similar","improving"],c=[];for(let d=0;d<s.length;d+=1)c[d]=qt(Ot(l,s,d));let f=l[0]!=1&&jt(),h=l[0]!=0&&Gt(l);return{c(){e=K("svg"),t=K("g");for(let d=0;d<c.length;d+=1)c[d].c();n=Ee(),f&&f.c(),a=Ee(),h&&h.c(),this.h()},l(d){e=q(d,"svg",{width:!0,height:!0,class:!0});var g=I(e);t=q(g,"g",{transform:!0});var m=I(t);for(let b=0;b<c.length;b+=1)c[b].l(m);n=Ee(),f&&f.l(m),a=Ee(),h&&h.l(m),m.forEach(_),g.forEach(_),this.h()},h(){o(t,"transform",r="translate("+(l[0]==1?60:120)+",20)"),o(e,"width",i=l[0]==2?280:l[0]==1?220:190),o(e,"height",u=l[0]==2?200:l[0]==1?120:165),o(e,"class","svelte-5r2hj0")},m(d,g){B(d,e,g),w(e,t);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(t,null);w(t,n),f&&f.m(t,null),w(t,a),h&&h.m(t,null)},p(d,[g]){if(g&1){s=d[0]==0?["similar"]:["worsening","similar","improving"];let m;for(m=0;m<s.length;m+=1){const b=Ot(d,s,m);c[m]?c[m].p(b,g):(c[m]=qt(b),c[m].c(),c[m].m(t,n))}for(;m<c.length;m+=1)c[m].d(1);c.length=s.length}d[0]!=1?f||(f=jt(),f.c(),f.m(t,a)):f&&(f.d(1),f=null),d[0]!=0?h?h.p(d,g):(h=Gt(d),h.c(),h.m(t,null)):h&&(h.d(1),h=null),g&1&&r!==(r="translate("+(d[0]==1?60:120)+",20)")&&o(t,"transform",r),g&1&&i!==(i=d[0]==2?280:d[0]==1?220:190)&&o(e,"width",i),g&1&&u!==(u=d[0]==2?200:d[0]==1?120:165)&&o(e,"height",u)},i:be,o:be,d(d){d&&_(e),ke(c,d),f&&f.d(),h&&h.d()}}}function da(l,e,t){let{chosenId:n}=e;return l.$$set=a=>{"chosenId"in a&&t(0,n=a.chosenId)},[n]}let ma=class extends de{constructor(e){super(),me(this,e,da,ha,_e,{chosenId:0})}};function Ht(l,e,t){const n=l.slice();return n[7]=e[t],n[9]=t,n}function Wt(l){let e,t,n,a,r=l[7]+"",i,u,s,c,f;return s=xl(l[6][0]),{c(){e=T("label"),t=T("input"),n=J(),a=T("p"),i=ee(r),u=J(),this.h()},l(h){e=O(h,"LABEL",{style:!0,class:!0});var d=I(e);t=O(d,"INPUT",{type:!0,name:!0}),n=x(d),a=O(d,"P",{style:!0,class:!0});var g=I(a);i=te(g,r),g.forEach(_),u=x(d),d.forEach(_),this.h()},h(){o(t,"type","checkbox"),t.__value=l[9],t.value=t.__value,o(t,"name",l[2]),$(a,"font-size",l[4]),o(a,"class","svelte-5ds7v7"),$(e,"margin-bottom",l[3]),o(e,"class","svelte-5ds7v7"),s.p(t)},m(h,d){B(h,e,d),w(e,t),t.checked=~(l[0]||[]).indexOf(t.__value),w(e,n),w(e,a),w(a,i),w(e,u),c||(f=He(t,"change",l[5]),c=!0)},p(h,d){d&4&&o(t,"name",h[2]),d&3&&(t.checked=~(h[0]||[]).indexOf(t.__value)),d&2&&r!==(r=h[7]+"")&&Ie(i,r),d&16&&$(a,"font-size",h[4]),d&8&&$(e,"margin-bottom",h[3])},d(h){h&&_(e),s.r(),c=!1,f()}}}function _a(l){let e,t=l[1],n=[];for(let a=0;a<t.length;a+=1)n[a]=Wt(Ht(l,t,a));return{c(){e=T("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=O(a,"DIV",{class:!0});var r=I(e);for(let i=0;i<n.length;i+=1)n[i].l(r);r.forEach(_),this.h()},h(){o(e,"class","radio-container svelte-5ds7v7")},m(a,r){B(a,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(a,[r]){if(r&31){t=a[1];let i;for(i=0;i<t.length;i+=1){const u=Ht(a,t,i);n[i]?n[i].p(u,r):(n[i]=Wt(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},i:be,o:be,d(a){a&&_(e),ke(n,a)}}}function ga(l,e,t){let{optionsArray:n,chosenId:a,name:r,marginBottom:i=null,fontSize:u=null}=e;const s=[[]];function c(){a=on(s[0],this.__value,this.checked),t(0,a)}return l.$$set=f=>{"optionsArray"in f&&t(1,n=f.optionsArray),"chosenId"in f&&t(0,a=f.chosenId),"name"in f&&t(2,r=f.name),"marginBottom"in f&&t(3,i=f.marginBottom),"fontSize"in f&&t(4,u=f.fontSize)},[a,n,r,i,u,c,s]}class ba extends de{constructor(e){super(),me(this,e,ga,_a,_e,{optionsArray:1,chosenId:0,name:2,marginBottom:3,fontSize:4})}}function va(l){let e,t,n,a,r,i,u,s,c,f,h,d,g,m,b,v,y,C,E,k,z,p,V;function P(Y){l[8](Y)}function D(Y){l[9](Y)}let A={radioName:"colouredBoxesRadio",latestData:l[2]};l[0]!==void 0&&(A.checkboxedRoles=l[0]),l[4]!==void 0&&(A.chosenId=l[4]),t=new ft({props:A}),ve.push(()=>ye(t,"checkboxedRoles",P)),ve.push(()=>ye(t,"chosenId",D));function M(Y){l[10](Y)}let F={optionsArray:["Rank","Change over time","Both"],name:"dotPlotComparisonType",marginBottom:"0px",fontSize:"16px"};l[5]!==void 0&&(F.chosenId=l[5]),h=new Xe({props:F}),ve.push(()=>ye(h,"chosenId",M));function H(Y){l[11](Y)}let X={optionsArray:l[6].includes(0)?["For most recent year","For comparison year"]:["For most recent year"],name:"chosenComparison",marginBottom:"0px",fontSize:"16px"};return l[6]!==void 0&&(X.chosenId=l[6]),y=new ba({props:X}),ve.push(()=>ye(y,"chosenId",H)),k=new ma({props:{chosenId:l[5]}}),p=new $n({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],selectedAreas:l[7],chosenId1:l[4],chosenId2:l[5],chosenId3:l[6]}}),{c(){e=T("div"),ne(t.$$.fragment),r=J(),i=T("div"),u=T("div"),s=T("p"),c=ee("Colour by:"),f=J(),ne(h.$$.fragment),g=J(),m=T("p"),b=ee("Show labels:"),v=J(),ne(y.$$.fragment),E=J(),ne(k.$$.fragment),z=J(),ne(p.$$.fragment),this.h()},l(Y){e=O(Y,"DIV",{class:!0});var N=I(e);ae(t.$$.fragment,N),r=x(N),i=O(N,"DIV",{class:!0});var R=I(i);u=O(R,"DIV",{class:!0});var S=I(u);s=O(S,"P",{class:!0});var L=I(s);c=te(L,"Colour by:"),L.forEach(_),f=x(S),ae(h.$$.fragment,S),g=x(S),m=O(S,"P",{style:!0,class:!0});var oe=I(m);b=te(oe,"Show labels:"),oe.forEach(_),v=x(S),ae(y.$$.fragment,S),S.forEach(_),E=x(R),ae(k.$$.fragment,R),R.forEach(_),z=x(N),ae(p.$$.fragment,N),N.forEach(_),this.h()},h(){o(s,"class","svelte-rp9vsp"),$(m,"margin-top","12px"),o(m,"class","svelte-rp9vsp"),o(u,"class","selections-container svelte-rp9vsp"),o(i,"class","key-and-selections-container svelte-rp9vsp"),o(e,"class","key-indicators-coloured-boxes-option-1-container")},m(Y,N){B(Y,e,N),re(t,e,null),w(e,r),w(e,i),w(i,u),w(u,s),w(s,c),w(u,f),re(h,u,null),w(u,g),w(u,m),w(m,b),w(u,v),re(y,u,null),w(i,E),re(k,i,null),w(e,z),re(p,e,null),V=!0},p(Y,[N]){const R={};N&4&&(R.latestData=Y[2]),!n&&N&1&&(n=!0,R.checkboxedRoles=Y[0],we(()=>n=!1)),!a&&N&16&&(a=!0,R.chosenId=Y[4],we(()=>a=!1)),t.$set(R);const S={};!d&&N&32&&(d=!0,S.chosenId=Y[5],we(()=>d=!1)),h.$set(S);const L={};N&64&&(L.optionsArray=Y[6].includes(0)?["For most recent year","For comparison year"]:["For most recent year"]),!C&&N&64&&(C=!0,L.chosenId=Y[6],we(()=>C=!1)),y.$set(L);const oe={};N&32&&(oe.chosenId=Y[5]),k.$set(oe);const se={};N&2&&(se.indicatorsList=Y[1]),N&4&&(se.latestData=Y[2]),N&8&&(se.initialData=Y[3]),N&128&&(se.selectedAreas=Y[7]),N&16&&(se.chosenId1=Y[4]),N&32&&(se.chosenId2=Y[5]),N&64&&(se.chosenId3=Y[6]),p.$set(se)},i(Y){V||(j(t.$$.fragment,Y),j(h.$$.fragment,Y),j(y.$$.fragment,Y),j(k.$$.fragment,Y),j(p.$$.fragment,Y),V=!0)},o(Y){Q(t.$$.fragment,Y),Q(h.$$.fragment,Y),Q(y.$$.fragment,Y),Q(k.$$.fragment,Y),Q(p.$$.fragment,Y),V=!1},d(Y){Y&&_(e),ie(t),ie(h),ie(y),ie(k),ie(p)}}}function ka(l,e,t){let n,{indicatorsList:a,latestData:r,initialData:i,checkboxedRoles:u}=e,s=0,c=0,f=[0],d=he("areasParentsLookup").filter(y=>["K02000001","E92000001"].includes(y.parentcd)&y.areacd!="E92000001");function g(y){u=y,t(0,u)}function m(y){s=y,t(4,s)}function b(y){c=y,t(5,c)}function v(y){f=y,t(6,f)}return l.$$set=y=>{"indicatorsList"in y&&t(1,a=y.indicatorsList),"latestData"in y&&t(2,r=y.latestData),"initialData"in y&&t(3,i=y.initialData),"checkboxedRoles"in y&&t(0,u=y.checkboxedRoles)},l.$$.update=()=>{l.$$.dirty&17&&t(7,n=s===0?d:u.custom==null||u.custom==null?[]:u.custom)},[u,a,r,i,s,c,f,n,g,m,b,v]}class ya extends de{constructor(e){super(),me(this,e,ka,va,_e,{indicatorsList:1,latestData:2,initialData:3,checkboxedRoles:0})}}function Xt(l,e,t){const n=l.slice();return n[0]=e[t],n[2]=t,n}function Zt(l,e,t){const n=l.slice();return n[3]=e[t],n[5]=t,n}function Yt(l){let e;return{c(){e=K("rect"),this.h()},l(t){e=q(t,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),I(e).forEach(_),this.h()},h(){o(e,"transform","translate("+(l[2]==0?-1:l[2]==2?1:0)+","+(l[5]==0?-1:l[5]==2?1:0)+")"),o(e,"x",l[2]*60),o(e,"y",l[5]*60),o(e,"width","60"),o(e,"height","60"),o(e,"stroke","none"),o(e,"fill",Ne[l[0]][l[3]]),o(e,"opacity","0.5")},m(t,n){B(t,e,n)},p:be,d(t){t&&_(e)}}}function Qt(l){let e,t=["better than average","worse than average"],n=[];for(let a=0;a<2;a+=1)n[a]=Yt(Zt(l,t,a));return{c(){for(let a=0;a<2;a+=1)n[a].c();e=Ee()},l(a){for(let r=0;r<2;r+=1)n[r].l(a);e=Ee()},m(a,r){for(let i=0;i<2;i+=1)n[i]&&n[i].m(a,r);B(a,e,r)},p(a,r){if(r&0){t=["better than average","worse than average"];let i;for(i=0;i<2;i+=1){const u=Zt(a,t,i);n[i]?n[i].p(u,r):(n[i]=Yt(u),n[i].c(),n[i].m(e.parentNode,e))}for(;i<2;i+=1)n[i].d(1)}},d(a){ke(n,a),a&&_(e)}}}function wa(l){let e,t,n,a,r,i,u,s,c,f,h,d,g,m,b,v,y,C,E,k,z,p,V,P,D,A,M,F,H,X,Y=["worsening","improving"],N=[];for(let R=0;R<2;R+=1)N[R]=Qt(Xt(l,Y,R));return{c(){e=K("svg"),t=K("g");for(let R=0;R<2;R+=1)N[R].c();n=K("circle"),a=K("circle"),r=K("path"),i=K("text"),u=ee("A dot in this quadrant"),s=K("text"),c=ee("means the area is above"),f=K("text"),h=ee("average and improving."),d=K("line"),g=K("path"),m=K("path"),b=K("text"),v=ee("better than"),y=K("text"),C=ee("average"),E=K("text"),k=ee("worse than"),z=K("text"),p=ee("average"),V=K("g"),P=K("line"),D=K("path"),A=K("path"),M=K("text"),F=ee("worsening"),H=K("text"),X=ee("improving"),this.h()},l(R){e=q(R,"svg",{width:!0,height:!0,class:!0});var S=I(e);t=q(S,"g",{transform:!0});var L=I(t);for(let fe=0;fe<2;fe+=1)N[fe].l(L);n=q(L,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(n).forEach(_),a=q(L,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(a).forEach(_),r=q(L,"path",{transform:!0,d:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(r).forEach(_),i=q(L,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var oe=I(i);u=te(oe,"A dot in this quadrant"),oe.forEach(_),s=q(L,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var se=I(s);c=te(se,"means the area is above"),se.forEach(_),f=q(L,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ue=I(f);h=te(ue,"average and improving."),ue.forEach(_),d=q(L,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),I(d).forEach(_),g=q(L,"path",{d:!0,stroke:!0,fill:!0}),I(g).forEach(_),m=q(L,"path",{d:!0,stroke:!0,fill:!0}),I(m).forEach(_),b=q(L,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Z=I(b);v=te(Z,"better than"),Z.forEach(_),y=q(L,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var W=I(y);C=te(W,"average"),W.forEach(_),E=q(L,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var le=I(E);k=te(le,"worse than"),le.forEach(_),z=q(L,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ge=I(z);p=te(ge,"average"),ge.forEach(_),V=q(L,"g",{});var ce=I(V);P=q(ce,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0}),I(P).forEach(_),D=q(ce,"path",{d:!0,stroke:!0,fill:!0}),I(D).forEach(_),A=q(ce,"path",{d:!0,stroke:!0,fill:!0}),I(A).forEach(_),M=q(ce,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var De=I(M);F=te(De,"worsening"),De.forEach(_),H=q(ce,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var G=I(H);X=te(G,"improving"),G.forEach(_),ce.forEach(_),L.forEach(_),S.forEach(_),this.h()},h(){o(n,"cy","30"),o(n,"cx","90"),o(n,"r","8"),o(n,"stroke","white"),o(n,"stroke-width","2px"),o(n,"fill","white"),o(a,"cy","30"),o(a,"cx","90"),o(a,"r","6"),o(a,"stroke","black"),o(a,"stroke-width","1.5px"),o(a,"fill",Ne.improving["better than average"]),o(r,"transform","translate(90,30)"),o(r,"d","M11.5 0.5 l6.5 -6.5 M12 0 l6 6 M17 0 l28 0 l0 10"),o(r,"stroke","black"),o(r,"stroke-width","1.5px"),o(r,"fill","none"),o(i,"transform","translate(90,30)"),o(i,"x","40"),o(i,"y","23"),o(i,"text-anchor","start"),o(i,"font-size","14px"),o(i,"stroke-width","0.25px"),o(i,"stroke","black"),o(i,"fill","black"),o(s,"transform","translate(90,30)"),o(s,"x","40"),o(s,"y","38"),o(s,"text-anchor","start"),o(s,"font-size","14px"),o(s,"stroke-width","0.25px"),o(s,"stroke","black"),o(s,"fill","black"),o(f,"transform","translate(90,30)"),o(f,"x","40"),o(f,"y","53"),o(f,"text-anchor","start"),o(f,"font-size","14px"),o(f,"stroke-width","0.25px"),o(f,"stroke","black"),o(f,"fill","black"),o(d,"x1","-20"),o(d,"x2","-20"),o(d,"y1","10"),o(d,"y2","110"),o(d,"stroke","black"),o(d,"stroke-width","2px"),o(g,"d","M-20 5 l5 5 l-10 0 z"),o(g,"stroke","none"),o(g,"fill","black"),o(m,"d","M-20 115 l5 -5 l-10 0 z"),o(m,"stroke","none"),o(m,"fill","black"),o(b,"x","-30"),o(b,"y","10"),o(b,"text-anchor","end"),o(b,"font-size","14px"),o(b,"stroke-width","0.25px"),o(b,"stroke","black"),o(b,"fill","black"),o(y,"x","-30"),o(y,"y","24"),o(y,"text-anchor","end"),o(y,"font-size","14px"),o(y,"stroke-width","0.25px"),o(y,"stroke","black"),o(y,"fill","black"),o(E,"x","-30"),o(E,"y","110"),o(E,"text-anchor","end"),o(E,"font-size","14px"),o(E,"stroke-width","0.25px"),o(E,"stroke","black"),o(E,"fill","black"),o(z,"x","-30"),o(z,"y","124"),o(z,"text-anchor","end"),o(z,"font-size","14px"),o(z,"stroke-width","0.25px"),o(z,"stroke","black"),o(z,"fill","black"),o(P,"y1","140"),o(P,"y2","140"),o(P,"x1","10"),o(P,"x2","110"),o(P,"stroke","black"),o(P,"stroke-width","2px"),o(D,"d","M5 140 l5 -5 l0 10 z"),o(D,"stroke","none"),o(D,"fill","black"),o(A,"d","M115 140 l-5 -5 l0 10 z"),o(A,"stroke","none"),o(A,"fill","black"),o(M,"x","-5"),o(M,"y","160"),o(M,"text-anchor","middle"),o(M,"font-size","14px"),o(M,"stroke-width","0.25px"),o(M,"stroke","black"),o(M,"fill","black"),o(H,"x","110"),o(H,"y","160"),o(H,"text-anchor","middle"),o(H,"font-size","14px"),o(H,"stroke-width","0.25px"),o(H,"stroke","black"),o(H,"fill","black"),o(t,"transform","translate(120,20)"),o(e,"width","420"),o(e,"height","200"),o(e,"class","svelte-5r2hj0")},m(R,S){B(R,e,S),w(e,t);for(let L=0;L<2;L+=1)N[L]&&N[L].m(t,null);w(t,n),w(t,a),w(t,r),w(t,i),w(i,u),w(t,s),w(s,c),w(t,f),w(f,h),w(t,d),w(t,g),w(t,m),w(t,b),w(b,v),w(t,y),w(y,C),w(t,E),w(E,k),w(t,z),w(z,p),w(t,V),w(V,P),w(V,D),w(V,A),w(V,M),w(M,F),w(V,H),w(H,X)},p(R,[S]){if(S&0){Y=["worsening","improving"];let L;for(L=0;L<2;L+=1){const oe=Xt(R,Y,L);N[L]?N[L].p(oe,S):(N[L]=Qt(oe),N[L].c(),N[L].m(t,n))}for(;L<2;L+=1)N[L].d(1)}},i:be,o:be,d(R){R&&_(e),ke(N,R)}}}let pa=class extends de{constructor(e){super(),me(this,e,null,wa,_e,{})}};function Ia(l){let e,t,n;return{c(){e=T("div"),t=T("p"),n=ee("No data"),this.h()},l(a){e=O(a,"DIV",{class:!0,style:!0});var r=I(e);t=O(r,"P",{class:!0,style:!0});var i=I(t);n=te(i,"No data"),i.forEach(_),r.forEach(_),this.h()},h(){o(t,"class","mainText svelte-io2vqv"),$(t,"font-size","14px"),o(e,"class","cell-container no-data svelte-io2vqv"),$(e,"background-color","grey"),$(e,"color","white")},m(a,r){B(a,e,r),w(e,t),w(t,n)},p:be,d(a){a&&_(e)}}}function Da(l){let e,t,n,a,r,i,u,s,c,f,h=l[6]!=null&&Ut();function d(b,v){return b[6]!=null?La:Ea}let g=d(l),m=g(l);return{c(){e=K("svg"),t=K("rect"),n=K("line"),h&&h.c(),a=Ee(),m.c(),r=K("circle"),s=K("circle"),this.h()},l(b){e=q(b,"svg",{class:!0});var v=I(e);t=q(v,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(t).forEach(_),n=q(v,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(n).forEach(_),h&&h.l(v),a=Ee(),m.l(v),r=q(v,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(r).forEach(_),s=q(v,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(s).forEach(_),v.forEach(_),this.h()},h(){o(t,"x","0"),o(t,"y","0"),o(t,"width","60"),o(t,"height","60"),o(t,"fill","none"),o(t,"stroke","black"),o(t,"stroke-width","1px"),o(t,"opacity","0.25"),o(n,"x1","0"),o(n,"x2","60"),o(n,"y1","30"),o(n,"y2","30"),o(n,"stroke","black"),o(n,"stroke-width","1px"),o(n,"opacity","0.25"),o(r,"cy",i=l[5]===null?30:30+(l[0].polarity==1?-1:1)*28*l[5]/l[2]),o(r,"cx",u=l[6]===null||l[7]==null?30:30+(l[0].polarity==1?1:-1)*28*l[6]/l[1]),o(r,"r","8"),o(r,"stroke","white"),o(r,"stroke-width","2px"),o(r,"fill","white"),o(s,"cy",c=l[5]===null?30:30+(l[0].polarity==1?-1:1)*28*l[5]/l[2]),o(s,"cx",f=l[6]===null||l[7]==null?30:30+(l[0].polarity==1?1:-1)*28*l[6]/l[1]),o(s,"r","6"),o(s,"stroke","black"),o(s,"stroke-width","1.5px"),o(s,"fill",l[8]),o(e,"class","svelte-io2vqv")},m(b,v){B(b,e,v),w(e,t),w(e,n),h&&h.m(e,null),w(e,a),m.m(e,null),w(e,r),w(e,s)},p(b,v){b[6]!=null?h||(h=Ut(),h.c(),h.m(e,a)):h&&(h.d(1),h=null),g===(g=d(b))&&m?m.p(b,v):(m.d(1),m=g(b),m&&(m.c(),m.m(e,r))),v&37&&i!==(i=b[5]===null?30:30+(b[0].polarity==1?-1:1)*28*b[5]/b[2])&&o(r,"cy",i),v&195&&u!==(u=b[6]===null||b[7]==null?30:30+(b[0].polarity==1?1:-1)*28*b[6]/b[1])&&o(r,"cx",u),v&37&&c!==(c=b[5]===null?30:30+(b[0].polarity==1?-1:1)*28*b[5]/b[2])&&o(s,"cy",c),v&195&&f!==(f=b[6]===null||b[7]==null?30:30+(b[0].polarity==1?1:-1)*28*b[6]/b[1])&&o(s,"cx",f),v&256&&o(s,"fill",b[8])},d(b){b&&_(e),h&&h.d(),m.d()}}}function Ut(l){let e;return{c(){e=K("line"),this.h()},l(t){e=q(t,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(e).forEach(_),this.h()},h(){o(e,"x1","30"),o(e,"x2","30"),o(e,"y1","0"),o(e,"y2","60"),o(e,"stroke","black"),o(e,"stroke-width","1px"),o(e,"opacity","0.25")},m(t,n){B(t,e,n)},d(t){t&&_(e)}}}function Ea(l){let e,t,n;return{c(){e=K("line"),this.h()},l(a){e=q(a,"line",{x1:!0,x2:!0,y1:!0,y2:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),I(e).forEach(_),this.h()},h(){o(e,"x1","30"),o(e,"x2","30"),o(e,"y1",t=l[3]==="worse than average"?30:0),o(e,"y2",n=l[3]==="worse than average"?60:30),o(e,"width",30),o(e,"height","30"),o(e,"stroke","#b0b0b0"),o(e,"stroke-width","5px")},m(a,r){B(a,e,r)},p(a,r){r&8&&t!==(t=a[3]==="worse than average"?30:0)&&o(e,"y1",t),r&8&&n!==(n=a[3]==="worse than average"?60:30)&&o(e,"y2",n)},d(a){a&&_(e)}}}function La(l){let e,t,n;return{c(){e=K("rect"),this.h()},l(a){e=q(a,"rect",{y:!0,x:!0,width:!0,height:!0,stroke:!0,fill:!0,"fill-opacity":!0,"stroke-width":!0}),I(e).forEach(_),this.h()},h(){o(e,"y",t=l[3]==="worse than average"?30:0),o(e,"x",n=l[4]==="improving"?30:0),o(e,"width",30),o(e,"height","30"),o(e,"stroke","#b0b0b0"),o(e,"fill",l[8]),o(e,"fill-opacity","0.1"),o(e,"stroke-width","1.5px")},m(a,r){B(a,e,r)},p(a,r){r&8&&t!==(t=a[3]==="worse than average"?30:0)&&o(e,"y",t),r&16&&n!==(n=a[4]==="improving"?30:0)&&o(e,"x",n),r&256&&o(e,"fill",a[8])},d(a){a&&_(e)}}}function Ca(l){let e;function t(r,i){return r[5]!=null||r[6]!=null?Da:Ia}let n=t(l),a=n(l);return{c(){e=T("div"),a.c(),this.h()},l(r){e=O(r,"DIV",{class:!0});var i=I(e);a.l(i),i.forEach(_),this.h()},h(){o(e,"class","cell-container svelte-io2vqv")},m(r,i){B(r,e,i),a.m(e,null)},p(r,[i]){n===(n=t(r))&&a?a.p(r,i):(a.d(1),a=n(r),a&&(a.c(),a.m(e,null)))},i:be,o:be,d(r){r&&_(e),a.d()}}}function za(l,e,t){let n,a,r,i,u,s,c,{calculations:f,indicatorMetadata:h,latestData:d,initialData:g,maxChange:m,maxValueFromMedian:b}=e;return l.$$set=v=>{"calculations"in v&&t(9,f=v.calculations),"indicatorMetadata"in v&&t(0,h=v.indicatorMetadata),"latestData"in v&&t(10,d=v.latestData),"initialData"in v&&t(11,g=v.initialData),"maxChange"in v&&t(1,m=v.maxChange),"maxValueFromMedian"in v&&t(2,b=v.maxValueFromMedian)},l.$$.update=()=>{l.$$.dirty&1024&&t(7,n=d.length>0?d[0].value:null),l.$$.dirty&2048&&t(12,a=g.length>0?g[0].value:null),l.$$.dirty&4225&&t(6,r=n!=null&a!=null?(n-a)/(h.absoluteOrPercent=="A"?1:a/100):null),l.$$.dirty&641&&t(5,i=n!=null?(n-f.medianValue)/(h.absoluteOrPercent=="A"?1:f.medianValue/100):null),l.$$.dirty&65&&t(4,u=r!=null?r>0?h.polarity==1?"improving":"worsening":h.polarity==1?"worsening":"improving":null),l.$$.dirty&33&&t(3,s=i!=null?i>0?h.polarity==1?"better than average":"worse than average":h.polarity==1?"worse than average":"better than average":null),l.$$.dirty&24&&t(8,c=u==null&s==null?"grey":Ne[u??"similar"][s??"similar"])},[h,m,b,s,u,i,r,n,c,f,d,g,a]}let Va=class extends de{constructor(e){super(),me(this,e,za,Ca,_e,{calculations:9,indicatorMetadata:0,latestData:10,initialData:11,maxChange:1,maxValueFromMedian:2})}};function Jt(l,e,t){const n=l.slice();return n[14]=e[t],n[16]=t,n}function xt(l){let e,t,n,a;function r(...u){return l[11](l[14],...u)}function i(...u){return l[12](l[14],...u)}return t=new Va({props:{calculations:l[14],indicatorMetadata:l[0].find(r),latestData:l[2].filter(i),initialData:"indicator-"+l[14].id in l[1]?l[1]["indicator-"+l[14].id].filter(l[13]):[],maxChange:l[6][l[16]],maxValueFromMedian:l[7][l[16]]}}),{c(){e=T("div"),ne(t.$$.fragment),n=J(),this.h()},l(u){e=O(u,"DIV",{class:!0});var s=I(e);ae(t.$$.fragment,s),n=x(s),s.forEach(_),this.h()},h(){o(e,"class",Ce("cell column"+l[16])+" svelte-17hudsm")},m(u,s){B(u,e,s),re(t,e,null),w(e,n),a=!0},p(u,s){l=u;const c={};s&32&&(c.calculations=l[14]),s&33&&(c.indicatorMetadata=l[0].find(r)),s&52&&(c.latestData=l[2].filter(i)),s&50&&(c.initialData="indicator-"+l[14].id in l[1]?l[1]["indicator-"+l[14].id].filter(l[13]):[]),s&64&&(c.maxChange=l[6][l[16]]),s&128&&(c.maxValueFromMedian=l[7][l[16]]),t.$set(c)},i(u){a||(j(t.$$.fragment,u),a=!0)},o(u){Q(t.$$.fragment,u),a=!1},d(u){u&&_(e),ie(t)}}}function Ma(l){let e,t,n,a=l[8].find(l[10]).areanm+"",r,i,u,s,c=l[5],f=[];for(let d=0;d<c.length;d+=1)f[d]=xt(Jt(l,c,d));const h=d=>Q(f[d],1,1,()=>{f[d]=null});return{c(){e=T("div"),t=T("div"),n=T("p"),r=ee(a),i=J();for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){e=O(d,"DIV",{class:!0,style:!0});var g=I(e);t=O(g,"DIV",{class:!0,style:!0});var m=I(t);n=O(m,"P",{class:!0});var b=I(n);r=te(b,a),b.forEach(_),m.forEach(_),i=x(g);for(let v=0;v<f.length;v+=1)f[v].l(g);g.forEach(_),this.h()},h(){o(n,"class","svelte-17hudsm"),o(t,"class","areasColumn svelte-17hudsm"),o(t,"style","width: 200px"),o(e,"class",u=Ce("row cellRow"+l[3])+" svelte-17hudsm"),$(e,"background-color",l[3]%2===0?"#fafafa":"#ffffff")},m(d,g){B(d,e,g),w(e,t),w(t,n),w(n,r),w(e,i);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(e,null);s=!0},p(d,[g]){if((!s||g&16)&&a!==(a=d[8].find(d[10]).areanm+"")&&Ie(r,a),g&247){c=d[5];let m;for(m=0;m<c.length;m+=1){const b=Jt(d,c,m);f[m]?(f[m].p(b,g),j(f[m],1)):(f[m]=xt(b),f[m].c(),j(f[m],1),f[m].m(e,null))}for(ze(),m=c.length;m<f.length;m+=1)h(m);Ve()}(!s||g&8&&u!==(u=Ce("row cellRow"+d[3])+" svelte-17hudsm"))&&o(e,"class",u),(!s||g&8)&&$(e,"background-color",d[3]%2===0?"#fafafa":"#ffffff")},i(d){if(!s){for(let g=0;g<c.length;g+=1)j(f[g]);s=!0}},o(d){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)Q(f[g]);s=!1},d(d){d&&_(e),ke(f,d)}}}function Ra(l,e,t){let{chosenId1:n,indicatorsMetadata:a,initialData:r,latestData:i,j:u,row:s,indicatorsCalculations:c,maxChangeArray:f,maxValueFromMedianArray:h}=e,d=he("areas");console.log(f);const g=y=>y.areacd===s.areacd,m=(y,C)=>C.code==y.code,b=(y,C)=>y.id==C.id&s.areacd==C.areacd,v=y=>y.areacd==s.areacd;return l.$$set=y=>{"chosenId1"in y&&t(9,n=y.chosenId1),"indicatorsMetadata"in y&&t(0,a=y.indicatorsMetadata),"initialData"in y&&t(1,r=y.initialData),"latestData"in y&&t(2,i=y.latestData),"j"in y&&t(3,u=y.j),"row"in y&&t(4,s=y.row),"indicatorsCalculations"in y&&t(5,c=y.indicatorsCalculations),"maxChangeArray"in y&&t(6,f=y.maxChangeArray),"maxValueFromMedianArray"in y&&t(7,h=y.maxValueFromMedianArray)},[a,r,i,u,s,c,f,h,d,n,g,m,b,v]}let Aa=class extends de{constructor(e){super(),me(this,e,Ra,Ma,_e,{chosenId1:9,indicatorsMetadata:0,initialData:1,latestData:2,j:3,row:4,indicatorsCalculations:5,maxChangeArray:6,maxValueFromMedianArray:7})}};function $t(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function el(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function tl(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function ll(l){let e,t,n=l[6].label+"",a,r;return{c(){e=T("div"),t=T("p"),a=ee(n),r=J(),this.h()},l(i){e=O(i,"DIV",{class:!0});var u=I(e);t=O(u,"P",{class:!0});var s=I(t);a=te(s,n),r=x(s),s.forEach(_),u.forEach(_),this.h()},h(){o(t,"class","svelte-4m9oqo"),o(e,"class",Ce("headerCell column"+l[8])+" svelte-4m9oqo")},m(i,u){B(i,e,u),w(e,t),w(t,a),w(t,r)},p(i,u){u&4&&n!==(n=i[6].label+"")&&Ie(a,n)},d(i){i&&_(e)}}}function nl(l){let e,t;return e=new ut({}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function al(l){let e,t="(compared to "+l[3].find(a).label+")",n;function a(...r){return l[5](l[6],...r)}return{c(){e=T("p"),n=ee(t),this.h()},l(r){e=O(r,"P",{class:!0});var i=I(e);n=te(i,t),i.forEach(_),this.h()},h(){o(e,"class","initial-year-label svelte-4m9oqo")},m(r,i){B(r,e,i),w(e,n)},p(r,i){l=r,i&4&&t!==(t="(compared to "+l[3].find(a).label+")")&&Ie(n,t)},d(r){r&&_(e)}}}function rl(l){let e,t,n=l[3].find(s).label+"",a,r,i=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0),u;function s(...f){return l[4](l[6],...f)}let c=i&&al(l);return{c(){e=T("div"),t=T("p"),a=ee(n),r=J(),c&&c.c(),u=J(),this.h()},l(f){e=O(f,"DIV",{class:!0});var h=I(e);t=O(h,"P",{class:!0});var d=I(t);a=te(d,n),d.forEach(_),r=x(h),c&&c.l(h),u=x(h),h.forEach(_),this.h()},h(){o(t,"class","latest-year-label svelte-4m9oqo"),o(e,"class",Ce("yearCell column"+l[8])+" svelte-4m9oqo")},m(f,h){B(f,e,h),w(e,t),w(t,a),w(e,r),c&&c.m(e,null),w(e,u)},p(f,h){l=f,h&4&&n!==(n=l[3].find(s).label+"")&&Ie(a,n),h&7&&(i=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0)),i?c?c.p(l,h):(c=al(l),c.c(),c.m(e,u)):c&&(c.d(1),c=null)},d(f){f&&_(e),c&&c.d()}}}function Sa(l){let e,t,n,a,r,i,u,s,c,f,h,d,g=l[2],m=[];for(let k=0;k<g.length;k+=1)m[k]=ll(tl(l,g,k));let b=l[2],v=[];for(let k=0;k<b.length;k+=1)v[k]=nl(el(l,b,k));const y=k=>Q(v[k],1,1,()=>{v[k]=null});let C=l[2],E=[];for(let k=0;k<C.length;k+=1)E[k]=rl($t(l,C,k));return{c(){e=T("div"),t=T("div"),n=J();for(let k=0;k<m.length;k+=1)m[k].c();a=J(),r=T("div"),i=T("div"),u=J();for(let k=0;k<v.length;k+=1)v[k].c();s=J(),c=T("div"),f=T("div"),h=J();for(let k=0;k<E.length;k+=1)E[k].c();this.h()},l(k){e=O(k,"DIV",{class:!0});var z=I(e);t=O(z,"DIV",{class:!0,style:!0});var p=I(t);p.forEach(_),n=x(z);for(let M=0;M<m.length;M+=1)m[M].l(z);z.forEach(_),a=x(k),r=O(k,"DIV",{class:!0});var V=I(r);i=O(V,"DIV",{class:!0,style:!0});var P=I(i);P.forEach(_),u=x(V);for(let M=0;M<v.length;M+=1)v[M].l(V);V.forEach(_),s=x(k),c=O(k,"DIV",{class:!0});var D=I(c);f=O(D,"DIV",{class:!0,style:!0});var A=I(f);A.forEach(_),h=x(D);for(let M=0;M<E.length;M+=1)E[M].l(D);D.forEach(_),this.h()},h(){o(t,"class","areasColumn svelte-4m9oqo"),o(t,"style","width: 200px"),o(e,"class","row headerRow svelte-4m9oqo"),o(i,"class","areasColumn svelte-4m9oqo"),o(i,"style","width: 200px"),o(r,"class","row headerRow svelte-4m9oqo"),o(f,"class","areasColumn svelte-4m9oqo"),o(f,"style","width: 200px"),o(c,"class","row headerRow svelte-4m9oqo")},m(k,z){B(k,e,z),w(e,t),w(e,n);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(e,null);B(k,a,z),B(k,r,z),w(r,i),w(r,u);for(let p=0;p<v.length;p+=1)v[p]&&v[p].m(r,null);B(k,s,z),B(k,c,z),w(c,f),w(c,h);for(let p=0;p<E.length;p+=1)E[p]&&E[p].m(c,null);d=!0},p(k,[z]){if(z&4){g=k[2];let p;for(p=0;p<g.length;p+=1){const V=tl(k,g,p);m[p]?m[p].p(V,z):(m[p]=ll(V),m[p].c(),m[p].m(e,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=g.length}if(z&4){const p=b.length;b=k[2];let V;for(V=p;V<b.length;V+=1)el(k,b,V),v[V]?j(v[V],1):(v[V]=nl(),v[V].c(),j(v[V],1),v[V].m(r,null));for(ze(),V=b.length;V<v.length;V+=1)y(V);Ve()}if(z&15){C=k[2];let p;for(p=0;p<C.length;p+=1){const V=$t(k,C,p);E[p]?E[p].p(V,z):(E[p]=rl(V),E[p].c(),E[p].m(c,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=C.length}},i(k){if(!d){for(let z=0;z<b.length;z+=1)j(v[z]);d=!0}},o(k){v=v.filter(Boolean);for(let z=0;z<v.length;z+=1)Q(v[z]);d=!1},d(k){k&&_(e),ke(m,k),k&&_(a),k&&_(r),ke(v,k),k&&_(s),k&&_(c),ke(E,k)}}}function Fa(l,e,t){let{chosenId2:n,chosenId3:a,indicatorsCalculations:r}=e,i=he("periodsLookup");const u=(c,f)=>f.xDomainNumb==c.maxXDomain,s=(c,f)=>f.xDomainNumb==c.minXDomain;return l.$$set=c=>{"chosenId2"in c&&t(0,n=c.chosenId2),"chosenId3"in c&&t(1,a=c.chosenId3),"indicatorsCalculations"in c&&t(2,r=c.indicatorsCalculations)},[n,a,r,i,u,s]}let Pa=class extends de{constructor(e){super(),me(this,e,Fa,Sa,_e,{chosenId2:0,chosenId3:1,indicatorsCalculations:2})}};function il(l,e,t){const n=l.slice();return n[12]=e[t],n[14]=t,n}function ol(l){let e,t;return e=new Aa({props:{row:l[12],j:l[14],chosenId1:l[3],chosenId2:l[4],chosenId3:l[5],indicatorsCalculations:l[9],indicatorsMetadata:l[8],initialData:l[1],latestData:l[0],maxChangeArray:l[6],maxValueFromMedianArray:l[7]}}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p(n,a){const r={};a&4&&(r.row=n[12]),a&8&&(r.chosenId1=n[3]),a&16&&(r.chosenId2=n[4]),a&32&&(r.chosenId3=n[5]),a&2&&(r.initialData=n[1]),a&1&&(r.latestData=n[0]),a&64&&(r.maxChangeArray=n[6]),a&128&&(r.maxValueFromMedianArray=n[7]),e.$set(r)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Na(l){let e,t,n,a;t=new Pa({props:{indicatorsCalculations:l[9],chosenId2:l[4],chosenId3:l[5]}});let r=l[2],i=[];for(let s=0;s<r.length;s+=1)i[s]=ol(il(l,r,s));const u=s=>Q(i[s],1,1,()=>{i[s]=null});return{c(){e=T("div"),ne(t.$$.fragment),n=J();for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=O(s,"DIV",{class:!0});var c=I(e);ae(t.$$.fragment,c),n=x(c);for(let f=0;f<i.length;f+=1)i[f].l(c);c.forEach(_),this.h()},h(){o(e,"class","grid-container svelte-k2j273")},m(s,c){B(s,e,c),re(t,e,null),w(e,n);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);a=!0},p(s,[c]){const f={};if(c&16&&(f.chosenId2=s[4]),c&32&&(f.chosenId3=s[5]),t.$set(f),c&1023){r=s[2];let h;for(h=0;h<r.length;h+=1){const d=il(s,r,h);i[h]?(i[h].p(d,c),j(i[h],1)):(i[h]=ol(d),i[h].c(),j(i[h],1),i[h].m(e,null))}for(ze(),h=r.length;h<i.length;h+=1)u(h);Ve()}},i(s){if(!a){j(t.$$.fragment,s);for(let c=0;c<r.length;c+=1)j(i[c]);a=!0}},o(s){Q(t.$$.fragment,s),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)Q(i[c]);a=!1},d(s){s&&_(e),ie(t),ke(i,s)}}}function Ta(l,e,t){let n,a,{indicatorsList:r,latestData:i,initialData:u,selectedAreas:s,chosenId1:c,chosenId2:f,chosenId3:h,chosenId0:d}=e,g=he("indicatorsMetadata"),m=he("indicatorsCalculations").filter(b=>r.includes(b.id));return l.$$set=b=>{"indicatorsList"in b&&t(10,r=b.indicatorsList),"latestData"in b&&t(0,i=b.latestData),"initialData"in b&&t(1,u=b.initialData),"selectedAreas"in b&&t(2,s=b.selectedAreas),"chosenId1"in b&&t(3,c=b.chosenId1),"chosenId2"in b&&t(4,f=b.chosenId2),"chosenId3"in b&&t(5,h=b.chosenId3),"chosenId0"in b&&t(11,d=b.chosenId0)},l.$$.update=()=>{l.$$.dirty&2055&&m.forEach((b,v)=>{b.medianValue=b.ltCount>200?b.ltMedian:b.utCount>140?b.utMedian:b.ukValue!="NA"?b.ukValue:b.gbValue!="NA"?b.gbValue:b.ewValue!="NA"?b.ewValue:b.engValue!="NA"?b.engValue:null;let y=g.find(C=>C.code==b.code).absoluteOrPercent;t(7,a[v]=d==0?Math.max(b.medianValue-b.minValue,b.maxValue-b.medianValue)/(y=="A"?1:b.medianValue):Math.max(...s.map(C=>C.areacd).map(C=>i.find(E=>E.areacd==C&E.id==b.id)).filter(C=>C!=null).map(C=>Math.abs(C.value-b.medianValue))),a),t(6,n[v]=d==0?y=="A"?b.maxAbsoluteChange:b.maxPercentageChange:"indicator-"+b.id in u?Math.max(...s.map(C=>C.areacd).map(C=>[i.find(E=>E.areacd==C&E.id==b.id),u["indicator-"+b.id].find(E=>E.areacd==C)]).filter(C=>C[0]!=null&C[1]!=null).map(C=>Math.abs(C[0].value-C[1].value))):null,n),b.label=g.find(C=>C.code==b.code).label})},t(6,n=new Array(m.length)),t(7,a=new Array(m.length)),[i,u,s,c,f,h,n,a,g,m,r,d]}let Oa=class extends de{constructor(e){super(),me(this,e,Ta,Na,_e,{indicatorsList:10,latestData:0,initialData:1,selectedAreas:2,chosenId1:3,chosenId2:4,chosenId3:5,chosenId0:11})}};function Ba(l){let e,t,n,a,r,i,u,s,c,f;function h(m){l[8](m)}function d(m){l[9](m)}let g={radioName:"dotPlotRadio",latestData:l[2]};return l[0]!==void 0&&(g.checkboxedRoles=l[0]),l[5]!==void 0&&(g.chosenId=l[5]),t=new ft({props:g}),ve.push(()=>ye(t,"checkboxedRoles",h)),ve.push(()=>ye(t,"chosenId",d)),u=new pa({}),c=new Oa({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],selectedAreas:l[6],chosenId1:l[5],chosenId2:Ka,chosenId3:l[7],chosenId0:l[4]}}),{c(){e=T("div"),ne(t.$$.fragment),r=J(),i=T("div"),ne(u.$$.fragment),s=J(),ne(c.$$.fragment),this.h()},l(m){e=O(m,"DIV",{class:!0});var b=I(e);ae(t.$$.fragment,b),r=x(b),i=O(b,"DIV",{class:!0});var v=I(i);ae(u.$$.fragment,v),v.forEach(_),s=x(b),ae(c.$$.fragment,b),b.forEach(_),this.h()},h(){o(i,"class","key-and-selections-container svelte-1xm9yo2"),o(e,"class","key-indicators-dot-plot-boxes-option-2-container")},m(m,b){B(m,e,b),re(t,e,null),w(e,r),w(e,i),re(u,i,null),w(e,s),re(c,e,null),f=!0},p(m,[b]){const v={};b&4&&(v.latestData=m[2]),!n&&b&1&&(n=!0,v.checkboxedRoles=m[0],we(()=>n=!1)),!a&&b&32&&(a=!0,v.chosenId=m[5],we(()=>a=!1)),t.$set(v);const y={};b&2&&(y.indicatorsList=m[1]),b&4&&(y.latestData=m[2]),b&8&&(y.initialData=m[3]),b&64&&(y.selectedAreas=m[6]),b&32&&(y.chosenId1=m[5]),b&16&&(y.chosenId0=m[4]),c.$set(y)},i(m){f||(j(t.$$.fragment,m),j(u.$$.fragment,m),j(c.$$.fragment,m),f=!0)},o(m){Q(t.$$.fragment,m),Q(u.$$.fragment,m),Q(c.$$.fragment,m),f=!1},d(m){m&&_(e),ie(t),ie(u),ie(c)}}}let Ka=2;function qa(l,e,t){let n,{indicatorsList:a,latestData:r,initialData:i,checkboxedRoles:u,chosenId0:s}=e,c=0,f=[],d=he("areasParentsLookup").filter(b=>["K02000001","E92000001"].includes(b.parentcd)&b.areacd!="E92000001");function g(b){u=b,t(0,u)}function m(b){c=b,t(5,c)}return l.$$set=b=>{"indicatorsList"in b&&t(1,a=b.indicatorsList),"latestData"in b&&t(2,r=b.latestData),"initialData"in b&&t(3,i=b.initialData),"checkboxedRoles"in b&&t(0,u=b.checkboxedRoles),"chosenId0"in b&&t(4,s=b.chosenId0)},l.$$.update=()=>{l.$$.dirty&33&&t(6,n=c===0?d:u.custom==null||u.custom==null?[]:u.custom)},[u,a,r,i,s,c,n,f,g,m]}class ja extends de{constructor(e){super(),me(this,e,qa,Ba,_e,{indicatorsList:1,latestData:2,initialData:3,checkboxedRoles:0,chosenId0:4})}}function sl(l,e,t){const n=l.slice();return n[0]=e[t],n[2]=t,n}function cl(l,e,t){const n=l.slice();return n[3]=e[t],n[5]=t,n}function ul(l){let e;return{c(){e=K("rect"),this.h()},l(t){e=q(t,"rect",{transform:!0,x:!0,y:!0,width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),I(e).forEach(_),this.h()},h(){o(e,"transform","translate("+(l[2]==0?-1:l[2]==2?1:0)+","+(l[5]==0?-1:l[5]==2?1:0)+")"),o(e,"x",l[2]*60),o(e,"y",l[5]*60),o(e,"width","60"),o(e,"height","60"),o(e,"stroke","none"),o(e,"fill",Ne[l[0]][l[3]]),o(e,"opacity","0.5")},m(t,n){B(t,e,n)},p:be,d(t){t&&_(e)}}}function fl(l){let e,t=["better than average","worse than average"],n=[];for(let a=0;a<2;a+=1)n[a]=ul(cl(l,t,a));return{c(){for(let a=0;a<2;a+=1)n[a].c();e=Ee()},l(a){for(let r=0;r<2;r+=1)n[r].l(a);e=Ee()},m(a,r){for(let i=0;i<2;i+=1)n[i]&&n[i].m(a,r);B(a,e,r)},p(a,r){if(r&0){t=["better than average","worse than average"];let i;for(i=0;i<2;i+=1){const u=cl(a,t,i);n[i]?n[i].p(u,r):(n[i]=ul(u),n[i].c(),n[i].m(e.parentNode,e))}for(;i<2;i+=1)n[i].d(1)}},d(a){ke(n,a),a&&_(e)}}}function Ga(l){let e,t,n,a,r,i,u,s,c,f,h,d,g,m,b,v,y,C,E,k,z,p,V,P,D,A,M,F,H,X,Y,N,R,S,L,oe,se=["worsening","improving"],ue=[];for(let Z=0;Z<2;Z+=1)ue[Z]=fl(sl(l,se,Z));return{c(){e=K("svg"),t=K("g"),n=K("rect"),a=K("line"),r=K("path"),i=K("text"),u=ee("This line represents the median value"),s=K("text"),c=ee("during the most recent time period."),f=K("path"),h=K("circle"),d=K("path"),g=K("text"),m=ee("A dot below the median line means"),b=K("text"),v=ee("the area is worse than average."),y=K("g");for(let Z=0;Z<2;Z+=1)ue[Z].c();C=K("line"),E=K("path"),k=K("path"),z=K("text"),p=ee("better than"),V=K("text"),P=ee("average"),D=K("text"),A=ee("worse than"),M=K("text"),F=ee("average"),H=K("g"),X=K("line"),Y=K("path"),N=K("path"),R=K("text"),S=ee("worsening"),L=K("text"),oe=ee("improving"),this.h()},l(Z){e=q(Z,"svg",{width:!0,height:!0,class:!0});var W=I(e);t=q(W,"g",{transform:!0});var le=I(t);n=q(le,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(n).forEach(_),a=q(le,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(a).forEach(_),r=q(le,"path",{transform:!0,d:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(r).forEach(_),i=q(le,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ge=I(i);u=te(ge,"This line represents the median value"),ge.forEach(_),s=q(le,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var ce=I(s);c=te(ce,"during the most recent time period."),ce.forEach(_),f=q(le,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),I(f).forEach(_),h=q(le,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(h).forEach(_),d=q(le,"path",{transform:!0,d:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(d).forEach(_),g=q(le,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var De=I(g);m=te(De,"A dot below the median line means"),De.forEach(_),b=q(le,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var G=I(b);v=te(G,"the area is worse than average."),G.forEach(_),le.forEach(_),y=q(W,"g",{transform:!0});var fe=I(y);for(let qe=0;qe<2;qe+=1)ue[qe].l(fe);C=q(fe,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),I(C).forEach(_),E=q(fe,"path",{d:!0,stroke:!0,fill:!0}),I(E).forEach(_),k=q(fe,"path",{d:!0,stroke:!0,fill:!0}),I(k).forEach(_),z=q(fe,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var pe=I(z);p=te(pe,"better than"),pe.forEach(_),V=q(fe,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Se=I(V);P=te(Se,"average"),Se.forEach(_),D=q(fe,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Me=I(D);A=te(Me,"worse than"),Me.forEach(_),M=q(fe,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Fe=I(M);F=te(Fe,"average"),Fe.forEach(_),H=q(fe,"g",{});var Le=I(H);X=q(Le,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0}),I(X).forEach(_),Y=q(Le,"path",{d:!0,stroke:!0,fill:!0}),I(Y).forEach(_),N=q(Le,"path",{d:!0,stroke:!0,fill:!0}),I(N).forEach(_),R=q(Le,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Pe=I(R);S=te(Pe,"worsening"),Pe.forEach(_),L=q(Le,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,"stroke-width":!0,stroke:!0,fill:!0});var Ze=I(L);oe=te(Ze,"improving"),Ze.forEach(_),Le.forEach(_),fe.forEach(_),W.forEach(_),this.h()},h(){o(n,"x","0"),o(n,"y","0"),o(n,"width","60"),o(n,"height","60"),o(n,"fill","none"),o(n,"stroke","black"),o(n,"stroke-width","1px"),o(n,"opacity","0.25"),o(a,"y1","30"),o(a,"y2","30"),o(a,"x1","0"),o(a,"x2","60"),o(a,"stroke","black"),o(a,"stroke-width","1px"),o(a,"opacity","0.25"),o(r,"transform","translate(60,30)"),o(r,"d","M6.5 0.5 l6.5 -6.5 M7 0 l6 6 M12 0 l28 0 l0 -5"),o(r,"stroke","black"),o(r,"stroke-width","1.5px"),o(r,"fill","none"),o(i,"transform","translate(60,30)"),o(i,"x","30"),o(i,"y","-25"),o(i,"text-anchor","start"),o(i,"font-size","14px"),o(i,"stroke-width","0.25px"),o(i,"stroke","black"),o(i,"fill","black"),o(s,"transform","translate(60,30)"),o(s,"x","30"),o(s,"y","-10"),o(s,"text-anchor","start"),o(s,"font-size","14px"),o(s,"stroke-width","0.25px"),o(s,"stroke","black"),o(s,"fill","black"),o(f,"d","M0 30 L5 32 L10 27 L15 33 L20 33 L25 30 L30 30 L35 35 L40 40 L45 42 L50 48 L55 48 L60 50"),o(f,"stroke","black"),o(f,"fill","none"),o(f,"stroke-width","2px"),o(h,"cy","50"),o(h,"cx","60"),o(h,"r","4.5"),o(h,"stroke","white"),o(h,"stroke-width","1.5px"),o(h,"fill","black"),o(d,"transform","translate(60,50)"),o(d,"d","M6.5 0.5 l6.5 -6.5 M7 0 l6 6 M12 0 l28 0 l0 15"),o(d,"stroke","black"),o(d,"stroke-width","1.5px"),o(d,"fill","none"),o(g,"transform","translate(60,30)"),o(g,"x","30"),o(g,"y","45"),o(g,"text-anchor","start"),o(g,"font-size","14px"),o(g,"stroke-width","0.25px"),o(g,"stroke","black"),o(g,"fill","black"),o(b,"transform","translate(60,30)"),o(b,"x","30"),o(b,"y","60"),o(b,"text-anchor","start"),o(b,"font-size","14px"),o(b,"stroke-width","0.25px"),o(b,"stroke","black"),o(b,"fill","black"),o(t,"transform","translate(10,25)"),o(C,"x1","-20"),o(C,"x2","-20"),o(C,"y1","10"),o(C,"y2","110"),o(C,"stroke","black"),o(C,"stroke-width","2px"),o(E,"d","M-20 5 l5 5 l-10 0 z"),o(E,"stroke","none"),o(E,"fill","black"),o(k,"d","M-20 115 l5 -5 l-10 0 z"),o(k,"stroke","none"),o(k,"fill","black"),o(z,"x","-30"),o(z,"y","10"),o(z,"text-anchor","end"),o(z,"font-size","14px"),o(z,"stroke-width","0.25px"),o(z,"stroke","black"),o(z,"fill","black"),o(V,"x","-30"),o(V,"y","24"),o(V,"text-anchor","end"),o(V,"font-size","14px"),o(V,"stroke-width","0.25px"),o(V,"stroke","black"),o(V,"fill","black"),o(D,"x","-30"),o(D,"y","110"),o(D,"text-anchor","end"),o(D,"font-size","14px"),o(D,"stroke-width","0.25px"),o(D,"stroke","black"),o(D,"fill","black"),o(M,"x","-30"),o(M,"y","124"),o(M,"text-anchor","end"),o(M,"font-size","14px"),o(M,"stroke-width","0.25px"),o(M,"stroke","black"),o(M,"fill","black"),o(X,"y1","140"),o(X,"y2","140"),o(X,"x1","10"),o(X,"x2","110"),o(X,"stroke","black"),o(X,"stroke-width","2px"),o(Y,"d","M5 140 l5 -5 l0 10 z"),o(Y,"stroke","none"),o(Y,"fill","black"),o(N,"d","M115 140 l-5 -5 l0 10 z"),o(N,"stroke","none"),o(N,"fill","black"),o(R,"x","-5"),o(R,"y","160"),o(R,"text-anchor","middle"),o(R,"font-size","14px"),o(R,"stroke-width","0.25px"),o(R,"stroke","black"),o(R,"fill","black"),o(L,"x","110"),o(L,"y","160"),o(L,"text-anchor","middle"),o(L,"font-size","14px"),o(L,"stroke-width","0.25px"),o(L,"stroke","black"),o(L,"fill","black"),o(y,"transform","translate(485,15)"),o(e,"width","650"),o(e,"height","190"),o(e,"class","svelte-5r2hj0")},m(Z,W){B(Z,e,W),w(e,t),w(t,n),w(t,a),w(t,r),w(t,i),w(i,u),w(t,s),w(s,c),w(t,f),w(t,h),w(t,d),w(t,g),w(g,m),w(t,b),w(b,v),w(e,y);for(let le=0;le<2;le+=1)ue[le]&&ue[le].m(y,null);w(y,C),w(y,E),w(y,k),w(y,z),w(z,p),w(y,V),w(V,P),w(y,D),w(D,A),w(y,M),w(M,F),w(y,H),w(H,X),w(H,Y),w(H,N),w(H,R),w(R,S),w(H,L),w(L,oe)},p(Z,[W]){if(W&0){se=["worsening","improving"];let le;for(le=0;le<2;le+=1){const ge=sl(Z,se,le);ue[le]?ue[le].p(ge,W):(ue[le]=fl(ge),ue[le].c(),ue[le].m(y,C))}for(;le<2;le+=1)ue[le].d(1)}},i:be,o:be,d(Z){Z&&_(e),ke(ue,Z)}}}class Ha extends de{constructor(e){super(),me(this,e,null,Ga,_e,{})}}function Wa(l){let e,t,n;return{c(){e=T("div"),t=T("p"),n=ee("No data"),this.h()},l(a){e=O(a,"DIV",{class:!0,style:!0});var r=I(e);t=O(r,"P",{class:!0,style:!0});var i=I(t);n=te(i,"No data"),i.forEach(_),r.forEach(_),this.h()},h(){o(t,"class","mainText svelte-tdbzgz"),$(t,"font-size","14px"),o(e,"class","cell-container no-data svelte-tdbzgz"),$(e,"background-color","grey"),$(e,"color","white")},m(a,r){B(a,e,r),w(e,t),w(t,n)},p:be,d(a){a&&_(e)}}}function Xa(l){let e,t,n,a,r,i,u,s=l[1].length>1&&hl(l);return{c(){e=K("svg"),t=K("rect"),n=K("rect"),a=K("line"),s&&s.c(),r=K("circle"),this.h()},l(c){e=q(c,"svg",{class:!0});var f=I(e);t=q(f,"rect",{width:!0,height:!0,stroke:!0,fill:!0,opacity:!0}),I(t).forEach(_),n=q(f,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(n).forEach(_),a=q(f,"line",{y1:!0,y2:!0,x1:!0,x2:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(a).forEach(_),s&&s.l(f),r=q(f,"circle",{cy:!0,cx:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(r).forEach(_),f.forEach(_),this.h()},h(){o(t,"width","60"),o(t,"height","60"),o(t,"stroke","none"),o(t,"fill",l[4]),o(t,"opacity","0"),o(n,"x","0"),o(n,"y","0"),o(n,"width","60"),o(n,"height","60"),o(n,"fill","none"),o(n,"stroke","black"),o(n,"stroke-width","1px"),o(n,"opacity","0.25"),o(a,"y1","30"),o(a,"y2","30"),o(a,"x1","0"),o(a,"x2","60"),o(a,"stroke","black"),o(a,"stroke-width","1px"),o(a,"opacity","0.25"),o(r,"cy",i=l[2](l[1][l[1].length-1].value)),o(r,"cx",u=l[1].length>1?l[3](l[1][l[1].length-1].xDomainNumb):30),o(r,"r","4.5"),o(r,"stroke","white"),o(r,"stroke-width","1.5px"),o(r,"fill",l[4]),o(e,"class","svelte-tdbzgz")},m(c,f){B(c,e,f),w(e,t),w(e,n),w(e,a),s&&s.m(e,null),w(e,r)},p(c,f){f&16&&o(t,"fill",c[4]),c[1].length>1?s?s.p(c,f):(s=hl(c),s.c(),s.m(e,r)):s&&(s.d(1),s=null),f&6&&i!==(i=c[2](c[1][c[1].length-1].value))&&o(r,"cy",i),f&10&&u!==(u=c[1].length>1?c[3](c[1][c[1].length-1].xDomainNumb):30)&&o(r,"cx",u),f&16&&o(r,"fill",c[4])},d(c){c&&_(e),s&&s.d()}}}function hl(l){let e,t;return{c(){e=K("path"),this.h()},l(n){e=q(n,"path",{d:!0,stroke:!0,fill:!0,"stroke-width":!0}),I(e).forEach(_),this.h()},h(){o(e,"d",t=l[0](l[1])),o(e,"stroke",l[4]),o(e,"fill","none"),o(e,"stroke-width","2px")},m(n,a){B(n,e,a)},p(n,a){a&3&&t!==(t=n[0](n[1]))&&o(e,"d",t),a&16&&o(e,"stroke",n[4])},d(n){n&&_(e)}}}function Za(l){let e;function t(r,i){return r[1].length>0?Xa:Wa}let n=t(l),a=n(l);return{c(){e=T("div"),a.c(),this.h()},l(r){e=O(r,"DIV",{class:!0});var i=I(e);a.l(i),i.forEach(_),this.h()},h(){o(e,"class","cell-container svelte-tdbzgz")},m(r,i){B(r,e,i),a.m(e,null)},p(r,[i]){n===(n=t(r))&&a?a.p(r,i):(a.d(1),a=n(r),a&&(a.c(),a.m(e,null)))},i:be,o:be,d(r){r&&_(e),a.d()}}}function Ya(l,e,t){let n,a,r,i,u,s,c,{calculations:f,indicatorMetadata:h,pathFunction:d,combinedData:g,yScale:m,xScale:b}=e;return l.$$set=v=>{"calculations"in v&&t(5,f=v.calculations),"indicatorMetadata"in v&&t(6,h=v.indicatorMetadata),"pathFunction"in v&&t(0,d=v.pathFunction),"combinedData"in v&&t(1,g=v.combinedData),"yScale"in v&&t(2,m=v.yScale),"xScale"in v&&t(3,b=v.xScale)},l.$$.update=()=>{l.$$.dirty&2&&t(11,n=g.length>0?g[g.length-1].value:null),l.$$.dirty&2&&t(12,a=g.length>1?g[0].value:null),l.$$.dirty&6208&&t(10,r=n!=null&a!=null?(n-a)/(h.absoluteOrPercent=="A"?1:a/100):null),l.$$.dirty&2144&&t(9,i=n!=null?(n-f.medianValue)/(h.absoluteOrPercent=="A"?1:f.medianValue/100):null),l.$$.dirty&1088&&t(8,u=r!=null?r>0?h.polarity==1?"improving":"worsening":h.polarity==1?"worsening":"improving":null),l.$$.dirty&576&&t(7,s=i!=null?i>0?h.polarity==1?"better than average":"worse than average":h.polarity==1?"worse than average":"better than average":null),l.$$.dirty&384&&t(4,c=u==null&s==null?"grey":Ne[u??"similar"][s??"similar"])},[d,g,m,b,c,f,h,s,u,i,r,n,a]}class Qa extends de{constructor(e){super(),me(this,e,Ya,Za,_e,{calculations:5,indicatorMetadata:6,pathFunction:0,combinedData:1,yScale:2,xScale:3})}}function dl(l,e,t){const n=l.slice();return n[12]=e[t],n[14]=t,n}function ml(l){let e,t,n,a;function r(...i){return l[10](l[12],...i)}return t=new Qa({props:{calculations:l[12],indicatorMetadata:l[0].find(r),combinedData:l[5][l[14]].filter(l[11]),pathFunction:l[4][l[14]],yScale:l[6][l[14]],xScale:l[7][l[14]]}}),{c(){e=T("div"),ne(t.$$.fragment),n=J(),this.h()},l(i){e=O(i,"DIV",{class:!0});var u=I(e);ae(t.$$.fragment,u),n=x(u),u.forEach(_),this.h()},h(){o(e,"class",Ce("cell column"+l[14])+" svelte-17hudsm")},m(i,u){B(i,e,u),re(t,e,null),w(e,n),a=!0},p(i,u){l=i;const s={};u&8&&(s.calculations=l[12]),u&9&&(s.indicatorMetadata=l[0].find(r)),u&36&&(s.combinedData=l[5][l[14]].filter(l[11])),u&16&&(s.pathFunction=l[4][l[14]]),u&64&&(s.yScale=l[6][l[14]]),u&128&&(s.xScale=l[7][l[14]]),t.$set(s)},i(i){a||(j(t.$$.fragment,i),a=!0)},o(i){Q(t.$$.fragment,i),a=!1},d(i){i&&_(e),ie(t)}}}function Ua(l){let e,t,n,a=l[8].find(l[9]).areanm+"",r,i,u,s,c=l[3],f=[];for(let d=0;d<c.length;d+=1)f[d]=ml(dl(l,c,d));const h=d=>Q(f[d],1,1,()=>{f[d]=null});return{c(){e=T("div"),t=T("div"),n=T("p"),r=ee(a),i=J();for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){e=O(d,"DIV",{class:!0,style:!0});var g=I(e);t=O(g,"DIV",{class:!0,style:!0});var m=I(t);n=O(m,"P",{class:!0});var b=I(n);r=te(b,a),b.forEach(_),m.forEach(_),i=x(g);for(let v=0;v<f.length;v+=1)f[v].l(g);g.forEach(_),this.h()},h(){o(n,"class","svelte-17hudsm"),o(t,"class","areasColumn svelte-17hudsm"),o(t,"style","width: 200px"),o(e,"class",u=Ce("row cellRow"+l[1])+" svelte-17hudsm"),$(e,"background-color",l[1]%2===0?"#fafafa":"#ffffff")},m(d,g){B(d,e,g),w(e,t),w(t,n),w(n,r),w(e,i);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(e,null);s=!0},p(d,[g]){if((!s||g&4)&&a!==(a=d[8].find(d[9]).areanm+"")&&Ie(r,a),g&253){c=d[3];let m;for(m=0;m<c.length;m+=1){const b=dl(d,c,m);f[m]?(f[m].p(b,g),j(f[m],1)):(f[m]=ml(b),f[m].c(),j(f[m],1),f[m].m(e,null))}for(ze(),m=c.length;m<f.length;m+=1)h(m);Ve()}(!s||g&2&&u!==(u=Ce("row cellRow"+d[1])+" svelte-17hudsm"))&&o(e,"class",u),(!s||g&2)&&$(e,"background-color",d[1]%2===0?"#fafafa":"#ffffff")},i(d){if(!s){for(let g=0;g<c.length;g+=1)j(f[g]);s=!0}},o(d){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)Q(f[g]);s=!1},d(d){d&&_(e),ke(f,d)}}}function Ja(l,e,t){let{indicatorsMetadata:n,j:a,row:r,indicatorsCalculations:i,pathFunctionArray:u,combinedDataArray:s,yScaleArray:c,xScaleArray:f}=e,h=he("areas");const d=b=>b.areacd===r.areacd,g=(b,v)=>v.code==b.code,m=b=>b.areacd==r.areacd;return l.$$set=b=>{"indicatorsMetadata"in b&&t(0,n=b.indicatorsMetadata),"j"in b&&t(1,a=b.j),"row"in b&&t(2,r=b.row),"indicatorsCalculations"in b&&t(3,i=b.indicatorsCalculations),"pathFunctionArray"in b&&t(4,u=b.pathFunctionArray),"combinedDataArray"in b&&t(5,s=b.combinedDataArray),"yScaleArray"in b&&t(6,c=b.yScaleArray),"xScaleArray"in b&&t(7,f=b.xScaleArray)},[n,a,r,i,u,s,c,f,h,d,g,m]}class xa extends de{constructor(e){super(),me(this,e,Ja,Ua,_e,{indicatorsMetadata:0,j:1,row:2,indicatorsCalculations:3,pathFunctionArray:4,combinedDataArray:5,yScaleArray:6,xScaleArray:7})}}function _l(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function gl(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function bl(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function vl(l){let e,t,n=l[6].label+"",a,r;return{c(){e=T("div"),t=T("p"),a=ee(n),r=J(),this.h()},l(i){e=O(i,"DIV",{class:!0});var u=I(e);t=O(u,"P",{class:!0});var s=I(t);a=te(s,n),r=x(s),s.forEach(_),u.forEach(_),this.h()},h(){o(t,"class","svelte-4m9oqo"),o(e,"class",Ce("headerCell column"+l[8])+" svelte-4m9oqo")},m(i,u){B(i,e,u),w(e,t),w(t,a),w(t,r)},p(i,u){u&4&&n!==(n=i[6].label+"")&&Ie(a,n)},d(i){i&&_(e)}}}function kl(l){let e,t;return e=new ut({}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function yl(l){let e,t="(compared to "+l[3].find(a).label+")",n;function a(...r){return l[5](l[6],...r)}return{c(){e=T("p"),n=ee(t),this.h()},l(r){e=O(r,"P",{class:!0});var i=I(e);n=te(i,t),i.forEach(_),this.h()},h(){o(e,"class","initial-year-label svelte-4m9oqo")},m(r,i){B(r,e,i),w(e,n)},p(r,i){l=r,i&4&&t!==(t="(compared to "+l[3].find(a).label+")")&&Ie(n,t)},d(r){r&&_(e)}}}function wl(l){let e,t,n=l[3].find(s).label+"",a,r,i=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0),u;function s(...f){return l[4](l[6],...f)}let c=i&&yl(l);return{c(){e=T("div"),t=T("p"),a=ee(n),r=J(),c&&c.c(),u=J(),this.h()},l(f){e=O(f,"DIV",{class:!0});var h=I(e);t=O(h,"P",{class:!0});var d=I(t);a=te(d,n),d.forEach(_),r=x(h),c&&c.l(h),u=x(h),h.forEach(_),this.h()},h(){o(t,"class","latest-year-label svelte-4m9oqo"),o(e,"class",Ce("yearCell column"+l[8])+" svelte-4m9oqo")},m(f,h){B(f,e,h),w(e,t),w(t,a),w(e,r),c&&c.m(e,null),w(e,u)},p(f,h){l=f,h&4&&n!==(n=l[3].find(s).label+"")&&Ie(a,n),h&7&&(i=l[6].minXDomain!=l[6].maxXDomain&(l[1].includes(1)||l[0]!=0)),i?c?c.p(l,h):(c=yl(l),c.c(),c.m(e,u)):c&&(c.d(1),c=null)},d(f){f&&_(e),c&&c.d()}}}function $a(l){let e,t,n,a,r,i,u,s,c,f,h,d,g=l[2],m=[];for(let k=0;k<g.length;k+=1)m[k]=vl(bl(l,g,k));let b=l[2],v=[];for(let k=0;k<b.length;k+=1)v[k]=kl(gl(l,b,k));const y=k=>Q(v[k],1,1,()=>{v[k]=null});let C=l[2],E=[];for(let k=0;k<C.length;k+=1)E[k]=wl(_l(l,C,k));return{c(){e=T("div"),t=T("div"),n=J();for(let k=0;k<m.length;k+=1)m[k].c();a=J(),r=T("div"),i=T("div"),u=J();for(let k=0;k<v.length;k+=1)v[k].c();s=J(),c=T("div"),f=T("div"),h=J();for(let k=0;k<E.length;k+=1)E[k].c();this.h()},l(k){e=O(k,"DIV",{class:!0});var z=I(e);t=O(z,"DIV",{class:!0,style:!0});var p=I(t);p.forEach(_),n=x(z);for(let M=0;M<m.length;M+=1)m[M].l(z);z.forEach(_),a=x(k),r=O(k,"DIV",{class:!0});var V=I(r);i=O(V,"DIV",{class:!0,style:!0});var P=I(i);P.forEach(_),u=x(V);for(let M=0;M<v.length;M+=1)v[M].l(V);V.forEach(_),s=x(k),c=O(k,"DIV",{class:!0});var D=I(c);f=O(D,"DIV",{class:!0,style:!0});var A=I(f);A.forEach(_),h=x(D);for(let M=0;M<E.length;M+=1)E[M].l(D);D.forEach(_),this.h()},h(){o(t,"class","areasColumn svelte-4m9oqo"),o(t,"style","width: 200px"),o(e,"class","row headerRow svelte-4m9oqo"),o(i,"class","areasColumn svelte-4m9oqo"),o(i,"style","width: 200px"),o(r,"class","row headerRow svelte-4m9oqo"),o(f,"class","areasColumn svelte-4m9oqo"),o(f,"style","width: 200px"),o(c,"class","row headerRow svelte-4m9oqo")},m(k,z){B(k,e,z),w(e,t),w(e,n);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(e,null);B(k,a,z),B(k,r,z),w(r,i),w(r,u);for(let p=0;p<v.length;p+=1)v[p]&&v[p].m(r,null);B(k,s,z),B(k,c,z),w(c,f),w(c,h);for(let p=0;p<E.length;p+=1)E[p]&&E[p].m(c,null);d=!0},p(k,[z]){if(z&4){g=k[2];let p;for(p=0;p<g.length;p+=1){const V=bl(k,g,p);m[p]?m[p].p(V,z):(m[p]=vl(V),m[p].c(),m[p].m(e,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=g.length}if(z&4){const p=b.length;b=k[2];let V;for(V=p;V<b.length;V+=1)gl(k,b,V),v[V]?j(v[V],1):(v[V]=kl(),v[V].c(),j(v[V],1),v[V].m(r,null));for(ze(),V=b.length;V<v.length;V+=1)y(V);Ve()}if(z&15){C=k[2];let p;for(p=0;p<C.length;p+=1){const V=_l(k,C,p);E[p]?E[p].p(V,z):(E[p]=wl(V),E[p].c(),E[p].m(c,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=C.length}},i(k){if(!d){for(let z=0;z<b.length;z+=1)j(v[z]);d=!0}},o(k){v=v.filter(Boolean);for(let z=0;z<v.length;z+=1)Q(v[z]);d=!1},d(k){k&&_(e),ke(m,k),k&&_(a),k&&_(r),ke(v,k),k&&_(s),k&&_(c),ke(E,k)}}}function er(l,e,t){let{chosenId2:n,chosenId3:a,indicatorsCalculations:r}=e,i=he("periodsLookup");const u=(c,f)=>f.xDomainNumb==c.maxXDomain,s=(c,f)=>f.xDomainNumb==c.minXDomain;return l.$$set=c=>{"chosenId2"in c&&t(0,n=c.chosenId2),"chosenId3"in c&&t(1,a=c.chosenId3),"indicatorsCalculations"in c&&t(2,r=c.indicatorsCalculations)},[n,a,r,i,u,s]}class tr extends de{constructor(e){super(),me(this,e,er,$a,_e,{chosenId2:0,chosenId3:1,indicatorsCalculations:2})}}function pl(l,e,t){const n=l.slice();return n[16]=e[t],n[18]=t,n}function Il(l){let e,t;return e=new xa({props:{row:l[16],j:l[18],indicatorsCalculations:l[8],indicatorsMetadata:l[7],pathFunctionArray:l[3],combinedDataArray:l[6],yScaleArray:l[5],xScaleArray:l[4]}}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p(n,a){const r={};a&1&&(r.row=n[16]),a&8&&(r.pathFunctionArray=n[3]),a&64&&(r.combinedDataArray=n[6]),a&32&&(r.yScaleArray=n[5]),a&16&&(r.xScaleArray=n[4]),e.$set(r)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function lr(l){let e,t,n,a;t=new tr({props:{indicatorsCalculations:l[8],chosenId2:l[1],chosenId3:l[2]}});let r=l[0],i=[];for(let s=0;s<r.length;s+=1)i[s]=Il(pl(l,r,s));const u=s=>Q(i[s],1,1,()=>{i[s]=null});return{c(){e=T("div"),ne(t.$$.fragment),n=J();for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=O(s,"DIV",{class:!0});var c=I(e);ae(t.$$.fragment,c),n=x(c);for(let f=0;f<i.length;f+=1)i[f].l(c);c.forEach(_),this.h()},h(){o(e,"class","grid-container svelte-k2j273")},m(s,c){B(s,e,c),re(t,e,null),w(e,n);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);a=!0},p(s,[c]){const f={};if(c&2&&(f.chosenId2=s[1]),c&4&&(f.chosenId3=s[2]),t.$set(f),c&505){r=s[0];let h;for(h=0;h<r.length;h+=1){const d=pl(s,r,h);i[h]?(i[h].p(d,c),j(i[h],1)):(i[h]=Il(d),i[h].c(),j(i[h],1),i[h].m(e,null))}for(ze(),h=r.length;h<i.length;h+=1)u(h);Ve()}},i(s){if(!a){j(t.$$.fragment,s);for(let c=0;c<r.length;c+=1)j(i[c]);a=!0}},o(s){Q(t.$$.fragment,s),i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)Q(i[c]);a=!1},d(s){s&&_(e),ie(t),ke(i,s)}}}function nr(l,e,t){let n,a,r,i,u,{indicatorsList:s,latestData:c,initialData:f,otherData:h,selectedAreas:d,chosenId1:g,chosenId2:m,chosenId3:b,chosenId0:v}=e,y=he("indicatorsMetadata"),C=he("indicatorsCalculations").filter(E=>s.includes(E.id));return l.$$set=E=>{"indicatorsList"in E&&t(9,s=E.indicatorsList),"latestData"in E&&t(10,c=E.latestData),"initialData"in E&&t(11,f=E.initialData),"otherData"in E&&t(12,h=E.otherData),"selectedAreas"in E&&t(0,d=E.selectedAreas),"chosenId1"in E&&t(13,g=E.chosenId1),"chosenId2"in E&&t(1,m=E.chosenId2),"chosenId3"in E&&t(2,b=E.chosenId3),"chosenId0"in E&&t(14,v=E.chosenId0)},l.$$.update=()=>{l.$$.dirty&1&&t(15,u=d.map(E=>E.areacd)),l.$$.dirty&56320&&C.forEach((E,k)=>{E.medianValue=E.ltCount>200?E.ltMedian:E.utCount>140?E.utMedian:E.ukValue!="NA"?E.ukValue:E.gbValue!="NA"?E.gbValue:E.ewValue!="NA"?E.ewValue:E.engValue!="NA"?E.engValue:null;let z=c.filter(F=>F.id==E.id),p="indicator-"+E.id in f?f["indicator-"+E.id]:[],V="indicator-"+E.id in h?h["indicator-"+E.id]:[],P=[...p,...V,...z];t(6,n[k]=P,n);let D=v==0?Math.max(...P.map(F=>Math.abs(F.value-E.medianValue))):Math.max(...P.filter(F=>u.includes(F.areacd)).map(F=>Math.abs(F.value-E.medianValue)));E.label=y.find(F=>F.code==E.code).label;let A=Je().domain([E.minXDomain,E.maxXDomain]).range([0,60]),M=Je().domain([E.medianValue-D,parseFloat(E.medianValue)+parseFloat(D)]).range(y.find(F=>F.code==E.code).polarity==1?[60,0]:[0,60]);t(5,r[k]=M,r),t(4,i[k]=A,i),t(3,a[k]=mn().x(F=>A(F.xDomainNumb)).y(F=>M(F.value)),a)})},t(6,n=new Array(C.length)),t(3,a=new Array(C.length)),t(5,r=new Array(C.length)),t(4,i=new Array(C.length)),[d,m,b,a,i,r,n,y,C,s,c,f,h,g,v,u]}class ar extends de{constructor(e){super(),me(this,e,nr,lr,_e,{indicatorsList:9,latestData:10,initialData:11,otherData:12,selectedAreas:0,chosenId1:13,chosenId2:1,chosenId3:2,chosenId0:14})}}function rr(l){let e,t,n,a,r,i,u,s,c,f;function h(m){l[9](m)}function d(m){l[10](m)}let g={radioName:"timeSeriesRadio",latestData:l[2]};return l[0]!==void 0&&(g.checkboxedRoles=l[0]),l[6]!==void 0&&(g.chosenId=l[6]),t=new ft({props:g}),ve.push(()=>ye(t,"checkboxedRoles",h)),ve.push(()=>ye(t,"chosenId",d)),u=new Ha({}),c=new ar({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],otherData:l[4],selectedAreas:l[7],chosenId1:l[6],chosenId2:ir,chosenId3:l[8],chosenId0:l[5]}}),{c(){e=T("div"),ne(t.$$.fragment),r=J(),i=T("div"),ne(u.$$.fragment),s=J(),ne(c.$$.fragment),this.h()},l(m){e=O(m,"DIV",{class:!0});var b=I(e);ae(t.$$.fragment,b),r=x(b),i=O(b,"DIV",{class:!0});var v=I(i);ae(u.$$.fragment,v),v.forEach(_),s=x(b),ae(c.$$.fragment,b),b.forEach(_),this.h()},h(){o(i,"class","key-and-selections-container svelte-1xm9yo2"),o(e,"class","key-indicators-dot-plot-boxes-option-2-container")},m(m,b){B(m,e,b),re(t,e,null),w(e,r),w(e,i),re(u,i,null),w(e,s),re(c,e,null),f=!0},p(m,[b]){const v={};b&4&&(v.latestData=m[2]),!n&&b&1&&(n=!0,v.checkboxedRoles=m[0],we(()=>n=!1)),!a&&b&64&&(a=!0,v.chosenId=m[6],we(()=>a=!1)),t.$set(v);const y={};b&2&&(y.indicatorsList=m[1]),b&4&&(y.latestData=m[2]),b&8&&(y.initialData=m[3]),b&16&&(y.otherData=m[4]),b&128&&(y.selectedAreas=m[7]),b&64&&(y.chosenId1=m[6]),b&32&&(y.chosenId0=m[5]),c.$set(y)},i(m){f||(j(t.$$.fragment,m),j(u.$$.fragment,m),j(c.$$.fragment,m),f=!0)},o(m){Q(t.$$.fragment,m),Q(u.$$.fragment,m),Q(c.$$.fragment,m),f=!1},d(m){m&&_(e),ie(t),ie(u),ie(c)}}}let ir=2;function or(l,e,t){let n,{indicatorsList:a,latestData:r,initialData:i,otherData:u,checkboxedRoles:s,chosenId0:c}=e,f=0,h=[],g=he("areasParentsLookup").filter(v=>["K02000001","E92000001"].includes(v.parentcd)&v.areacd!="E92000001");function m(v){s=v,t(0,s)}function b(v){f=v,t(6,f)}return l.$$set=v=>{"indicatorsList"in v&&t(1,a=v.indicatorsList),"latestData"in v&&t(2,r=v.latestData),"initialData"in v&&t(3,i=v.initialData),"otherData"in v&&t(4,u=v.otherData),"checkboxedRoles"in v&&t(0,s=v.checkboxedRoles),"chosenId0"in v&&t(5,c=v.chosenId0)},l.$$.update=()=>{l.$$.dirty&65&&t(7,n=f===0?g:s.custom==null||s.custom==null?[]:s.custom)},[s,a,r,i,u,c,f,n,h,m,b]}class sr extends de{constructor(e){super(),me(this,e,or,rr,_e,{indicatorsList:1,latestData:2,initialData:3,otherData:4,checkboxedRoles:0,chosenId0:5})}}function cr(l){let e,t,n,a,r,i,u,s,c,f,h,d,g,m,b,v;function y(D){l[6](D)}let C={indicatorsList:l[1],latestData:l[2],initialData:l[3]};l[0]!==void 0&&(C.checkboxedRoles=l[0]),t=new ya({props:C}),ve.push(()=>ye(t,"checkboxedRoles",y));function E(D){l[7](D)}let k={optionsArray:["Scaling compared to all areas","Scaling compared to selected areas"],name:"chosenComparison",marginBottom:"0px",fontSize:"16px"};l[5]!==void 0&&(k.chosenId=l[5]),i=new Xe({props:k}),ve.push(()=>ye(i,"chosenId",E));function z(D){l[8](D)}let p={indicatorsList:l[1],latestData:l[2],initialData:l[3],chosenId0:l[5]};l[0]!==void 0&&(p.checkboxedRoles=l[0]),f=new ja({props:p}),ve.push(()=>ye(f,"checkboxedRoles",z));function V(D){l[9](D)}let P={chosenId0:l[5],indicatorsList:l[1],latestData:l[2],initialData:l[3],otherData:l[4]};return l[0]!==void 0&&(P.checkboxedRoles=l[0]),m=new sr({props:P}),ve.push(()=>ye(m,"checkboxedRoles",V)),{c(){e=T("div"),ne(t.$$.fragment),a=J(),r=T("div"),ne(i.$$.fragment),s=J(),c=T("div"),ne(f.$$.fragment),d=J(),g=T("div"),ne(m.$$.fragment),this.h()},l(D){e=O(D,"DIV",{class:!0});var A=I(e);ae(t.$$.fragment,A),A.forEach(_),a=x(D),r=O(D,"DIV",{class:!0});var M=I(r);ae(i.$$.fragment,M),M.forEach(_),s=x(D),c=O(D,"DIV",{class:!0});var F=I(c);ae(f.$$.fragment,F),F.forEach(_),d=x(D),g=O(D,"DIV",{class:!0});var H=I(g);ae(m.$$.fragment,H),H.forEach(_),this.h()},h(){o(e,"class","key-indicators-container svelte-19nv6qm"),o(r,"class","temporary-difference-options-container svelte-19nv6qm"),o(c,"class","key-indicators-container svelte-19nv6qm"),o(g,"class","key-indicators-container svelte-19nv6qm")},m(D,A){B(D,e,A),re(t,e,null),B(D,a,A),B(D,r,A),re(i,r,null),B(D,s,A),B(D,c,A),re(f,c,null),B(D,d,A),B(D,g,A),re(m,g,null),v=!0},p(D,[A]){const M={};A&2&&(M.indicatorsList=D[1]),A&4&&(M.latestData=D[2]),A&8&&(M.initialData=D[3]),!n&&A&1&&(n=!0,M.checkboxedRoles=D[0],we(()=>n=!1)),t.$set(M);const F={};!u&&A&32&&(u=!0,F.chosenId=D[5],we(()=>u=!1)),i.$set(F);const H={};A&2&&(H.indicatorsList=D[1]),A&4&&(H.latestData=D[2]),A&8&&(H.initialData=D[3]),A&32&&(H.chosenId0=D[5]),!h&&A&1&&(h=!0,H.checkboxedRoles=D[0],we(()=>h=!1)),f.$set(H);const X={};A&32&&(X.chosenId0=D[5]),A&2&&(X.indicatorsList=D[1]),A&4&&(X.latestData=D[2]),A&8&&(X.initialData=D[3]),A&16&&(X.otherData=D[4]),!b&&A&1&&(b=!0,X.checkboxedRoles=D[0],we(()=>b=!1)),m.$set(X)},i(D){v||(j(t.$$.fragment,D),j(i.$$.fragment,D),j(f.$$.fragment,D),j(m.$$.fragment,D),v=!0)},o(D){Q(t.$$.fragment,D),Q(i.$$.fragment,D),Q(f.$$.fragment,D),Q(m.$$.fragment,D),v=!1},d(D){D&&_(e),ie(t),D&&_(a),D&&_(r),ie(i),D&&_(s),D&&_(c),ie(f),D&&_(d),D&&_(g),ie(m)}}}function ur(l,e,t){let{indicatorsList:n,latestData:a,initialData:r,checkboxedRoles:i,otherData:u}=e,s=0;function c(g){i=g,t(0,i)}function f(g){s=g,t(5,s)}function h(g){i=g,t(0,i)}function d(g){i=g,t(0,i)}return l.$$set=g=>{"indicatorsList"in g&&t(1,n=g.indicatorsList),"latestData"in g&&t(2,a=g.latestData),"initialData"in g&&t(3,r=g.initialData),"checkboxedRoles"in g&&t(0,i=g.checkboxedRoles),"otherData"in g&&t(4,u=g.otherData)},[i,n,a,r,u,s,c,f,h,d]}class fr extends de{constructor(e){super(),me(this,e,ur,cr,_e,{indicatorsList:1,latestData:2,initialData:3,checkboxedRoles:0,otherData:4})}}function Dl(l){let e,t;return e=new Tn({props:{id:"geojson",type:"geojson",data:l[3],promoteId:"areacd",$$slots:{default:[hr]},$$scope:{ctx:l}}}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p(n,a){const r={};a&8&&(r.data=n[3]),a&16777235&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function El(l){let e,t,n,a;return e=new wt({props:{id:"fill",type:"fill",data:l[4],idKey:"id",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"]},hover:!0,hovered:l[1],select:!0,selected:l[0]}}),e.$on("hover",l[16]),e.$on("select",l[17]),n=new wt({props:{id:"line",type:"line",paint:{"line-color":"black"}}}),{c(){ne(e.$$.fragment),t=J(),ne(n.$$.fragment)},l(r){ae(e.$$.fragment,r),t=x(r),ae(n.$$.fragment,r)},m(r,i){re(e,r,i),B(r,t,i),re(n,r,i),a=!0},p(r,i){const u={};i&16&&(u.data=r[4]),i&2&&(u.hovered=r[1]),i&1&&(u.selected=r[0]),e.$set(u)},i(r){a||(j(e.$$.fragment,r),j(n.$$.fragment,r),a=!0)},o(r){Q(e.$$.fragment,r),Q(n.$$.fragment,r),a=!1},d(r){ie(e,r),r&&_(t),ie(n,r)}}}function hr(l){let e,t,n=l[4]&&El(l);return{c(){n&&n.c(),e=Ee()},l(a){n&&n.l(a),e=Ee()},m(a,r){n&&n.m(a,r),B(a,e,r),t=!0},p(a,r){a[4]?n?(n.p(a,r),r&16&&j(n,1)):(n=El(a),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(ze(),Q(n,1,1,()=>{n=null}),Ve())},i(a){t||(j(n),t=!0)},o(a){Q(n),t=!1},d(a){n&&n.d(a),a&&_(e)}}}function dr(l){let e,t,n=l[3]&&Dl(l);return{c(){n&&n.c(),e=Ee()},l(a){n&&n.l(a),e=Ee()},m(a,r){n&&n.m(a,r),B(a,e,r),t=!0},p(a,r){a[3]?n?(n.p(a,r),r&8&&j(n,1)):(n=Dl(a),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(ze(),Q(n,1,1,()=>{n=null}),Ve())},i(a){t||(j(n),t=!0)},o(a){Q(n),t=!1},d(a){n&&n.d(a),a&&_(e)}}}function mr(l){let e,t,n;return t=new Sn({props:{location:{bounds:l[5][l[2]]},controls:!0,style:"https://bothness.github.io/ons-basemaps/data/style-omt.json",$$slots:{default:[dr]},$$scope:{ctx:l}}}),{c(){e=T("div"),ne(t.$$.fragment),this.h()},l(a){e=O(a,"DIV",{class:!0});var r=I(e);ae(t.$$.fragment,r),r.forEach(_),this.h()},h(){o(e,"class","map-container svelte-14fcb2l")},m(a,r){B(a,e,r),re(t,e,null),n=!0},p(a,[r]){const i={};r&4&&(i.location={bounds:a[5][a[2]]}),r&16777243&&(i.$$scope={dirty:r,ctx:a}),t.$set(i)},i(a){n||(j(t.$$.fragment,a),n=!0)},o(a){Q(t.$$.fragment,a),n=!1},d(a){a&&_(e),ie(t)}}}function _r(l,e,t){let{geoType:n="ltla"}=e,{year:a=2023}=e,{data:r=[]}=e,{idKey:i="areacd"}=e,{valueKey:u="value"}=e,{colorsInit:s=["#b2182b","#d6604d","#fddbc7","#d1e5f0","#4393c3","#2166ac"]}=e,{selected:c=null}=e,{hovered:f=null}=e,{mapRange:h="uk"}=e,{colourObj:d}=e,{useBreaks:g=!0}=e,{breaks:m}=e,{polarity:b=1}=e,v,y,C,E=b==-1?s.slice().reverse():s;const k={uk:[[-9,49],[2,61]],ew:[[-6,50],[2,56]]};function z(M,F,H){if(g){for(let X=1;X<F.length;X++)if(M<F[X])return H[X-1];return H[H.length-1]}else return d[M]}function p(M,F,H,X){let Y=M.map(R=>({id:R[F],value:R[H]})),N=Y.map(R=>R.value).sort((R,S)=>R-S);return t(6,m=wn(N)),Y.forEach(R=>R.color=z(R.value,m,X)),{mapdata:Y,breaks:m}}function V(M,F,H,X){const Y=p(M,F,H,X);t(6,m=Y.breaks),t(4,C=Y.mapdata)}function P(M,F){if(v){const H=zn(v,M);H.features=H.features.filter(X=>!0),t(3,y=H)}}We(async()=>{v=await(await fetch(`${lt}/data/topojson/topo.json`)).json(),P(n)});function D(M){Ge.call(this,l,M)}function A(M){Ge.call(this,l,M)}return l.$$set=M=>{"geoType"in M&&t(7,n=M.geoType),"year"in M&&t(8,a=M.year),"data"in M&&t(9,r=M.data),"idKey"in M&&t(10,i=M.idKey),"valueKey"in M&&t(11,u=M.valueKey),"colorsInit"in M&&t(12,s=M.colorsInit),"selected"in M&&t(0,c=M.selected),"hovered"in M&&t(1,f=M.hovered),"mapRange"in M&&t(2,h=M.mapRange),"colourObj"in M&&t(13,d=M.colourObj),"useBreaks"in M&&t(14,g=M.useBreaks),"breaks"in M&&t(6,m=M.breaks),"polarity"in M&&t(15,b=M.polarity)},l.$$.update=()=>{l.$$.dirty&3584&&V(r,i,u,E),l.$$.dirty&384&&P(n)},[c,f,h,y,C,k,m,n,a,r,i,u,s,d,g,b,D,A]}class tn extends de{constructor(e){super(),me(this,e,_r,mr,_e,{geoType:7,year:8,data:9,idKey:10,valueKey:11,colorsInit:12,selected:0,hovered:1,mapRange:2,colourObj:13,useBreaks:14,breaks:6,polarity:15})}}function Ll(l,e,t){const n=l.slice();return n[10]=e[t],n[12]=t,n}function Cl(l){let e,t,n,a=l[2].filter(i).length+" areas belong to the <span style='font-weight: bold; color:"+l[3][l[10]]+"'>"+l[1].find(u).alternativeDescription.toLowerCase()+"</span> cluster.",r;function i(...s){return l[4](l[10],...s)}function u(...s){return l[5](l[10],...s)}return{c(){e=T("div"),t=T("div"),n=T("p"),r=J(),this.h()},l(s){e=O(s,"DIV",{class:!0,style:!0});var c=I(e);t=O(c,"DIV",{class:!0,style:!0});var f=I(t);n=O(f,"P",{class:!0});var h=I(n);h.forEach(_),f.forEach(_),r=x(c),c.forEach(_),this.h()},h(){o(n,"class","svelte-1ertk7d"),o(t,"class","cluster svelte-1ertk7d"),$(t,"border-left-style","solid"),$(t,"border-left-color",l[3][l[10]]),$(t,"border-left-width","5px"),o(e,"class","cluster-container svelte-1ertk7d"),$(e,"background-color",l[12]%2===0?"#fafafa":"#ffffff")},m(s,c){B(s,e,c),w(e,t),w(t,n),n.innerHTML=a,w(e,r)},p(s,c){l=s},d(s){s&&_(e)}}}function gr(l){let e,t,n,a,r,i,u,s,c,f,h,d,g,m,b,v,y,C,E=[...new Set(l[2].map(zl))].sort(Vl),k=[];for(let z=0;z<E.length;z+=1)k[z]=Cl(Ll(l,E,z));return y=new tn({props:{data:l[2],idKey:"areacd",valueKey:"value",mapRange:"ew",useBreaks:!1,colourObj:l[3]}}),{c(){e=T("div"),t=T("div"),n=T("div"),a=J(),r=T("div"),i=T("p"),u=ee("On this map, areas with similar local data on the "),s=ee(l[0]),c=ee(" have been grouped into clusters."),f=J(),h=T("p"),d=T("a"),g=ee("Learn more about the Office for National Statistics' clustering analysis."),m=J(),b=T("div");for(let z=0;z<k.length;z+=1)k[z].c();v=J(),ne(y.$$.fragment),this.h()},l(z){e=O(z,"DIV",{class:!0});var p=I(e);t=O(p,"DIV",{class:!0});var V=I(t);n=O(V,"DIV",{class:!0});var P=I(n);P.forEach(_),a=x(V),r=O(V,"DIV",{class:!0});var D=I(r);i=O(D,"P",{style:!0,class:!0});var A=I(i);u=te(A,"On this map, areas with similar local data on the "),s=te(A,l[0]),c=te(A," have been grouped into clusters."),A.forEach(_),f=x(D),h=O(D,"P",{class:!0});var M=I(h);d=O(M,"A",{target:!0,href:!0});var F=I(d);g=te(F,"Learn more about the Office for National Statistics' clustering analysis."),F.forEach(_),M.forEach(_),D.forEach(_),m=x(V),b=O(V,"DIV",{class:!0});var H=I(b);for(let X=0;X<k.length;X+=1)k[X].l(H);H.forEach(_),V.forEach(_),v=x(p),ae(y.$$.fragment,p),p.forEach(_),this.h()},h(){o(n,"class","select-areas-container"),$(i,"margin-bottom","10px"),o(i,"class","svelte-1ertk7d"),o(d,"target","_blank"),o(d,"href","https://www.ons.gov.uk/peoplepopulationandcommunity/wellbeing/articles/clusteringlocalauthoritiesagainstsubnationalindicatorsengland/2023-02-24"),o(h,"class","svelte-1ertk7d"),o(r,"class","cluster-info svelte-1ertk7d"),o(b,"class","clusters-desc-container svelte-1ertk7d"),o(t,"class","legend-container svelte-1ertk7d"),o(e,"class","legend-and-map-container svelte-1ertk7d")},m(z,p){B(z,e,p),w(e,t),w(t,n),w(t,a),w(t,r),w(r,i),w(i,u),w(i,s),w(i,c),w(r,f),w(r,h),w(h,d),w(d,g),w(t,m),w(t,b);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(b,null);w(e,v),re(y,e,null),C=!0},p(z,[p]){if((!C||p&1)&&Ie(s,z[0]),p&14){E=[...new Set(z[2].map(zl))].sort(Vl);let V;for(V=0;V<E.length;V+=1){const P=Ll(z,E,V);k[V]?k[V].p(P,p):(k[V]=Cl(P),k[V].c(),k[V].m(b,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=E.length}},i(z){C||(j(y.$$.fragment,z),C=!0)},o(z){Q(y.$$.fragment,z),C=!1},d(z){z&&_(e),ke(k,z),ie(y)}}}const zl=l=>l.value,Vl=(l,e)=>l-e;function br(l,e,t){let{clusterName:n}=e,a=he("clustersInfo"),r=he("clustersLookup").filter(d=>d.model==n),u=he("areasGeogLevel").filter(d=>d.areacd[0]==="E").filter(d=>["both","lower"].includes(d.level)).map(d=>d.areacd),s=a.filter(d=>u.includes(d.areacd)).map(d=>({areacd:d.areacd,value:d[n]})).filter(d=>d.value!=""&d.value!=null),c=vn[4];const f=(d,g)=>g.value===d,h=(d,g)=>g.id==d;return l.$$set=d=>{"clusterName"in d&&t(0,n=d.clusterName)},[n,r,s,c,f,h]}class vr extends de{constructor(e){super(),me(this,e,br,gr,_e,{clusterName:0})}}function Ml(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function Rl(l){let e,t=l[6]+"",n,a;return{c(){e=T("option"),n=ee(t),this.h()},l(r){e=O(r,"OPTION",{});var i=I(e);n=te(i,t),i.forEach(_),this.h()},h(){e.__value=a=l[6],e.value=e.__value},m(r,i){B(r,e,i),w(e,n)},p(r,i){i&4&&t!==(t=r[6]+"")&&Ie(n,t),i&4&&a!==(a=r[6])&&(e.__value=a,e.value=e.__value)},d(r){r&&_(e)}}}function kr(l){let e,t,n,a,r,i,u=l[2],s=[];for(let c=0;c<u.length;c+=1)s[c]=Rl(Ml(l,u,c));return{c(){e=T("div"),t=T("select");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=O(c,"DIV",{class:!0,style:!0});var f=I(e);t=O(f,"SELECT",{style:!0,id:!0,name:!0,class:!0});var h=I(t);for(let d=0;d<s.length;d+=1)s[d].l(h);h.forEach(_),f.forEach(_),this.h()},h(){$(t,"text-wrap","wrap"),o(t,"id",l[1]),o(t,"name",l[1]),o(t,"class",n=Ce("ons-input ons-input--select"+(l[4]?" low-height":""))+" svelte-16qh37z"),l[0]===void 0&&ct(()=>l[5].call(t)),o(e,"class","ons-field"),o(e,"style",a="width: "+l[3])},m(c,f){B(c,e,f),w(e,t);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(t,null);dt(t,l[0],!0),r||(i=He(t,"change",l[5]),r=!0)},p(c,[f]){if(f&4){u=c[2];let h;for(h=0;h<u.length;h+=1){const d=Ml(c,u,h);s[h]?s[h].p(d,f):(s[h]=Rl(d),s[h].c(),s[h].m(t,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=u.length}f&2&&o(t,"id",c[1]),f&2&&o(t,"name",c[1]),f&16&&n!==(n=Ce("ons-input ons-input--select"+(c[4]?" low-height":""))+" svelte-16qh37z")&&o(t,"class",n),f&5&&dt(t,c[0]),f&8&&a!==(a="width: "+c[3])&&o(e,"style",a)},i:be,o:be,d(c){c&&_(e),ke(s,c),r=!1,i()}}}function yr(l,e,t){let{chosenId:n,name:a="",optionsArray:r,width:i=null,lowHeight:u=!1}=e;function s(){n=sn(this),t(0,n),t(2,r)}return l.$$set=c=>{"chosenId"in c&&t(0,n=c.chosenId),"name"in c&&t(1,a=c.name),"optionsArray"in c&&t(2,r=c.optionsArray),"width"in c&&t(3,i=c.width),"lowHeight"in c&&t(4,u=c.lowHeight)},[n,a,r,i,u,s]}class ht extends de{constructor(e){super(),me(this,e,yr,kr,_e,{chosenId:0,name:1,optionsArray:2,width:3,lowHeight:4})}}function Al(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function wr(l){let e,t=l[4]+Te(Oe(l[9],l[1].decimalPlaces))+l[3]+"",n,a;return{c(){e=K("text"),n=ee(t),this.h()},l(r){e=q(r,"text",{x:!0,y:!0,"text-anchor":!0,"font-size":!0,stroke:!0,fill:!0,"stroke-width":!0});var i=I(e);n=te(i,t),i.forEach(_),this.h()},h(){o(e,"x",a=l[11]*(l[2]-20)/l[0].length),o(e,"y","45"),o(e,"text-anchor","middle"),o(e,"font-size","14px"),o(e,"stroke","black"),o(e,"fill","black"),o(e,"stroke-width","0.5px")},m(r,i){B(r,e,i),w(e,n)},p(r,i){i&27&&t!==(t=r[4]+Te(Oe(r[9],r[1].decimalPlaces))+r[3]+"")&&Ie(n,t),i&5&&a!==(a=r[11]*(r[2]-20)/r[0].length)&&o(e,"x",a)},d(r){r&&_(e)}}}function Sl(l){let e,t,n,a,r,i,u,s,c=l[11]>0&&wr(l);return{c(){e=K("rect"),r=K("line"),c&&c.c(),s=Ee(),this.h()},l(f){e=q(f,"rect",{x:!0,width:!0,y:!0,height:!0,stroke:!0,fill:!0});var h=I(e);h.forEach(_),r=q(f,"line",{x1:!0,x2:!0,y1:!0,y2:!0,"stroke-width":!0,stroke:!0}),I(r).forEach(_),c&&c.l(f),s=Ee(),this.h()},h(){o(e,"x",t=l[11]*(l[2]-20)/l[0].length),o(e,"width",n=(l[2]-20)/l[0].length),o(e,"y","0"),o(e,"height","20"),o(e,"stroke","none"),o(e,"fill",a=l[5][l[11]]),o(r,"x1",i=l[11]*(l[2]-20)/l[0].length),o(r,"x2",u=l[11]*(l[2]-20)/l[0].length),o(r,"y1","0"),o(r,"y2","30"),o(r,"stroke-width","2px"),o(r,"stroke","black")},m(f,h){B(f,e,h),B(f,r,h),c&&c.m(f,h),B(f,s,h)},p(f,h){h&5&&t!==(t=f[11]*(f[2]-20)/f[0].length)&&o(e,"x",t),h&5&&n!==(n=(f[2]-20)/f[0].length)&&o(e,"width",n),h&32&&a!==(a=f[5][f[11]])&&o(e,"fill",a),h&5&&i!==(i=f[11]*(f[2]-20)/f[0].length)&&o(r,"x1",i),h&5&&u!==(u=f[11]*(f[2]-20)/f[0].length)&&o(r,"x2",u),f[11]>0&&c.p(f,h)},d(f){f&&_(e),f&&_(r),c&&c.d(f),f&&_(s)}}}function pr(l){let e,t,n,a,r,i,u,s=l[0],c=[];for(let f=0;f<s.length;f+=1)c[f]=Sl(Al(l,s,f));return{c(){e=T("div"),t=K("svg"),n=K("g");for(let f=0;f<c.length;f+=1)c[f].c();a=K("line"),this.h()},l(f){e=O(f,"DIV",{class:!0});var h=I(e);t=q(h,"svg",{width:!0,height:!0});var d=I(t);n=q(d,"g",{transform:!0});var g=I(n);for(let m=0;m<c.length;m+=1)c[m].l(g);a=q(g,"line",{x1:!0,x2:!0,y1:!0,y2:!0,"stroke-width":!0,stroke:!0}),I(a).forEach(_),g.forEach(_),d.forEach(_),h.forEach(_),this.h()},h(){o(a,"x1",r=l[2]-20),o(a,"x2",i=l[2]-20),o(a,"y1","0"),o(a,"y2","30"),o(a,"stroke-width","2px"),o(a,"stroke","black"),o(n,"transform","translate(10,10)"),o(t,"width",l[2]),o(t,"height",l[6]),o(e,"class","svg-container"),ct(()=>l[7].call(e))},m(f,h){B(f,e,h),w(e,t),w(t,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(n,null);w(n,a),u=$l(e,l[7].bind(e))},p(f,[h]){if(h&63){s=f[0];let d;for(d=0;d<s.length;d+=1){const g=Al(f,s,d);c[d]?c[d].p(g,h):(c[d]=Sl(g),c[d].c(),c[d].m(n,a))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}h&4&&r!==(r=f[2]-20)&&o(a,"x1",r),h&4&&i!==(i=f[2]-20)&&o(a,"x2",i),h&4&&o(t,"width",f[2])},i:be,o:be,d(f){f&&_(e),ke(c,f),u()}}}function Ir(l,e,t){let n,a,r,{breaks:i,metadata:u}=e,s=400,c=60,f=["#b2182b","#d6604d","#fddbc7","#d1e5f0","#4393c3","#2166ac"];function h(){s=this.clientWidth,t(2,s)}return l.$$set=d=>{"breaks"in d&&t(0,i=d.breaks),"metadata"in d&&t(1,u=d.metadata)},l.$$.update=()=>{l.$$.dirty&2&&t(5,n=u.polarity==-1?f.slice().reverse():f),l.$$.dirty&2&&t(4,a=u.prefix===null?"":u.prefix),l.$$.dirty&2&&t(3,r=u.suffix===null?"":u.suffix)},[i,u,s,r,a,n,c,h]}class Dr extends de{constructor(e){super(),me(this,e,Ir,pr,_e,{breaks:0,metadata:1})}}function Er(l){let e=l[4][0]+"",t;return{c(){t=ee(e)},l(n){t=te(n,e)},m(n,a){B(n,t,a)},p(n,a){a&16&&e!==(e=n[4][0]+"")&&Ie(t,e)},i:be,o:be,d(n){n&&_(t)}}}function Lr(l){let e,t,n,a,r;function i(s){l[14](s)}let u={name:"select-time-period-dropdown",optionsArray:l[4],width:"120px",lowHeight:!0};return l[0]!==void 0&&(u.chosenId=l[0]),n=new ht({props:u}),ve.push(()=>ye(n,"chosenId",i)),{c(){e=T("span"),t=T("div"),ne(n.$$.fragment),this.h()},l(s){e=O(s,"SPAN",{});var c=I(e);t=O(c,"DIV",{class:!0});var f=I(t);ae(n.$$.fragment,f),f.forEach(_),c.forEach(_),this.h()},h(){o(t,"class","dropdown-container svelte-18064lb")},m(s,c){B(s,e,c),w(e,t),re(n,t,null),r=!0},p(s,c){const f={};c&16&&(f.optionsArray=s[4]),!a&&c&1&&(a=!0,f.chosenId=s[0],we(()=>a=!1)),n.$set(f)},i(s){r||(j(n.$$.fragment,s),r=!0)},o(s){Q(n.$$.fragment,s),r=!1},d(s){s&&_(e),ie(n)}}}function Fl(l){let e,t,n;function a(i){l[15](i)}let r={data:l[3],idKey:"areacd",valueKey:"value",mapRange:"uk",useBreaks:!0,polarity:l[5].polarity};return l[2]!==void 0&&(r.breaks=l[2]),e=new tn({props:r}),ve.push(()=>ye(e,"breaks",a)),{c(){ne(e.$$.fragment)},l(i){ae(e.$$.fragment,i)},m(i,u){re(e,i,u),n=!0},p(i,u){const s={};u&8&&(s.data=i[3]),u&32&&(s.polarity=i[5].polarity),!t&&u&4&&(t=!0,s.breaks=i[2],we(()=>t=!1)),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){Q(e.$$.fragment,i),n=!1},d(i){ie(e,i)}}}function Cr(l){let e,t,n,a,r,i,u,s,c,f=l[5].subtitle+" in",h,d,g,m,b,v,y,C,E;function k(A){l[13](A)}let z={name:"select-indicator-dropdown",optionsArray:l[6],width:"300px"};l[1]!==void 0&&(z.chosenId=l[1]),r=new ht({props:z}),ve.push(()=>ye(r,"chosenId",k));const p=[Lr,Er],V=[];function P(A,M){return A[4].length>1?0:1}g=P(l),m=V[g]=p[g](l),y=new Dr({props:{breaks:l[2],metadata:l[5]}});let D=l[3]&&Fl(l);return{c(){e=T("div"),t=T("div"),n=T("div"),a=T("div"),ne(r.$$.fragment),u=J(),s=T("div"),c=T("p"),h=ee(f),d=J(),m.c(),b=J(),v=T("div"),ne(y.$$.fragment),C=J(),D&&D.c(),this.h()},l(A){e=O(A,"DIV",{class:!0});var M=I(e);t=O(M,"DIV",{class:!0});var F=I(t);n=O(F,"DIV",{class:!0});var H=I(n);a=O(H,"DIV",{class:!0});var X=I(a);ae(r.$$.fragment,X),X.forEach(_),H.forEach(_),u=x(F),s=O(F,"DIV",{class:!0});var Y=I(s);c=O(Y,"P",{class:!0});var N=I(c);h=te(N,f),d=x(N),m.l(N),N.forEach(_),Y.forEach(_),b=x(F),v=O(F,"DIV",{class:!0});var R=I(v);ae(y.$$.fragment,R),R.forEach(_),F.forEach(_),C=x(M),D&&D.l(M),M.forEach(_),this.h()},h(){o(a,"class","dropdown-container svelte-18064lb"),o(n,"class","title-container svelte-18064lb"),o(c,"class","svelte-18064lb"),o(s,"class","subtitle-container svelte-18064lb"),o(v,"class","map-scale-container svelte-18064lb"),o(t,"class","legend-container svelte-18064lb"),o(e,"class","legend-and-map-container svelte-18064lb")},m(A,M){B(A,e,M),w(e,t),w(t,n),w(n,a),re(r,a,null),w(t,u),w(t,s),w(s,c),w(c,h),w(c,d),V[g].m(c,null),w(t,b),w(t,v),re(y,v,null),w(e,C),D&&D.m(e,null),E=!0},p(A,[M]){const F={};!i&&M&2&&(i=!0,F.chosenId=A[1],we(()=>i=!1)),r.$set(F),(!E||M&32)&&f!==(f=A[5].subtitle+" in")&&Ie(h,f);let H=g;g=P(A),g===H?V[g].p(A,M):(ze(),Q(V[H],1,1,()=>{V[H]=null}),Ve(),m=V[g],m?m.p(A,M):(m=V[g]=p[g](A),m.c()),j(m,1),m.m(c,null));const X={};M&4&&(X.breaks=A[2]),M&32&&(X.metadata=A[5]),y.$set(X),A[3]?D?(D.p(A,M),M&8&&j(D,1)):(D=Fl(A),D.c(),j(D,1),D.m(e,null)):D&&(ze(),Q(D,1,1,()=>{D=null}),Ve())},i(A){E||(j(r.$$.fragment,A),j(m),j(y.$$.fragment,A),j(D),E=!0)},o(A){Q(r.$$.fragment,A),Q(m),Q(y.$$.fragment,A),Q(D),E=!1},d(A){A&&_(e),ie(r),V[g].d(),ie(y),D&&D.d()}}}function zr(l,e,t){let n,a,r,i,u,s,c,{indicatorsList:f,latestData:h,initialData:d,otherData:g}=e,m=he("indicatorsMetadata"),b=he("indicators").filter(D=>f.includes(D.id)),v=he("indicatorsCalculations").filter(D=>f.includes(D.id)),y=he("periodsLookup"),E=he("areasGeogLevel").filter(D=>["both","lower"].includes(D.level)).map(D=>D.areacd),k=b.map(D=>D.label),z=[];function p(D){n=D,t(1,n),t(6,k)}function V(D){s=D,t(0,s),t(19,y),t(18,v),t(12,a),t(17,b),t(1,n),t(6,k)}function P(D){z=D,t(2,z)}return l.$$set=D=>{"indicatorsList"in D&&t(7,f=D.indicatorsList),"latestData"in D&&t(8,h=D.latestData),"initialData"in D&&t(9,d=D.initialData),"otherData"in D&&t(10,g=D.otherData)},l.$$.update=()=>{l.$$.dirty&2&&t(12,a=b.find(D=>D.label==n).id),l.$$.dirty&2&&t(5,r=m.find(D=>D.label==n)),l.$$.dirty&5888&&t(11,i=[...h.filter(D=>D.id===a),..."indicator-"+a in d?d["indicator-"+a]:[],..."indicator-"+a in g?g["indicator-"+a]:[]]),l.$$.dirty&2048&&t(4,u=[...new Set(i.map(D=>D.xDomainNumb))].sort((D,A)=>A-D).map(D=>y.find(A=>A.xDomainNumb==D).label)),l.$$.dirty&4096&&t(0,s=y.find(D=>D.xDomainNumb==v.find(A=>A.id==a).maxXDomain).label),l.$$.dirty&1&&console.log(s),l.$$.dirty&2049&&t(3,c=s!=null?i.filter(D=>E.includes(D.areacd)&D.xDomainNumb===y.find(A=>A.label==s).xDomainNumb):null)},t(1,n=k[0]),[s,n,z,c,u,r,k,f,h,d,g,i,a,p,V,P]}class Vr extends de{constructor(e){super(),me(this,e,zr,Cr,_e,{indicatorsList:7,latestData:8,initialData:9,otherData:10})}}class Mr extends de{constructor(e){super(),me(this,e,null,null,_e,{})}}function Rr(l){let e,t;return e=new Vr({props:{indicatorsList:l[1],latestData:l[2],initialData:l[3],otherData:l[4]}}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p(n,a){const r={};a&2&&(r.indicatorsList=n[1]),a&4&&(r.latestData=n[2]),a&8&&(r.initialData=n[3]),a&16&&(r.otherData=n[4]),e.$set(r)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Ar(l){let e,t;return e=new Mr({}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p:be,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Sr(l){let e,t;return e=new vr({props:{clusterName:l[0]}}),{c(){ne(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p(n,a){const r={};a&1&&(r.clusterName=n[0]),e.$set(r)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Fr(l){let e,t,n,a,r,i,u;function s(g){l[7](g)}let c={asButtons:!0,name:"selectMapOption",optionsArray:l[6]};l[5]!==void 0&&(c.chosenId=l[5]),e=new Xe({props:c}),ve.push(()=>ye(e,"chosenId",s));const f=[Sr,Ar,Rr],h=[];function d(g,m){return g[5]==0?0:g[5]==1?1:g[5]==2?2:-1}return~(r=d(l))&&(i=h[r]=f[r](l)),{c(){ne(e.$$.fragment),n=J(),a=T("div"),i&&i.c(),this.h()},l(g){ae(e.$$.fragment,g),n=x(g),a=O(g,"DIV",{class:!0});var m=I(a);i&&i.l(m),m.forEach(_),this.h()},h(){o(a,"class","map-container svelte-16d1m22")},m(g,m){re(e,g,m),B(g,n,m),B(g,a,m),~r&&h[r].m(a,null),u=!0},p(g,[m]){const b={};!t&&m&32&&(t=!0,b.chosenId=g[5],we(()=>t=!1)),e.$set(b);let v=r;r=d(g),r===v?~r&&h[r].p(g,m):(i&&(ze(),Q(h[v],1,1,()=>{h[v]=null}),Ve()),~r?(i=h[r],i?i.p(g,m):(i=h[r]=f[r](g),i.c()),j(i,1),i.m(a,null)):i=null)},i(g){u||(j(e.$$.fragment,g),j(i),u=!0)},o(g){Q(e.$$.fragment,g),Q(i),u=!1},d(g){ie(e,g),g&&_(n),g&&_(a),~r&&h[r].d()}}}function Pr(l,e,t){let{topicName:n,indicatorsList:a,latestData:r,initialData:i,otherData:u}=e,s=0,c=[...Object.keys(xe).filter(h=>xe[h]===n).map(h=>$e(h)+" cluster"),$e(n)+" summary","Map an indicator"];function f(h){s=h,t(5,s)}return l.$$set=h=>{"topicName"in h&&t(0,n=h.topicName),"indicatorsList"in h&&t(1,a=h.indicatorsList),"latestData"in h&&t(2,r=h.latestData),"initialData"in h&&t(3,i=h.initialData),"otherData"in h&&t(4,u=h.otherData)},[n,a,r,i,u,s,c,f]}class Nr extends de{constructor(e){super(),me(this,e,Pr,Fr,_e,{topicName:0,indicatorsList:1,latestData:2,initialData:3,otherData:4})}}function Pl(l,e,t){const n=l.slice();return n[37]=e[t],n[39]=t,n}function Nl(l,e,t){const n=l.slice();return n[37]=e[t],n[40]=e,n[39]=t,n}function Tl(l,e,t){const n=l.slice();return n[37]=e[t],n[39]=t,n}function Ol(l,e,t){const n=l.slice();return n[37]=e[t],n[39]=t,n}function Bl(l,e,t){const n=l.slice();return n[37]=e[t],n[39]=t,n}function Kl(l){let e,t,n,a,r,i;return{c(){e=K("g"),t=K("circle"),this.h()},l(u){e=q(u,"g",{transform:!0});var s=I(e);t=q(s,"circle",{hoverid:!0,r:!0,stroke:!0,fill:!0,"fill-opacity":!0}),I(t).forEach(_),s.forEach(_),this.h()},h(){o(t,"hoverid",l[39]),o(t,"r","6"),o(t,"stroke","none"),o(t,"fill","#6e6e6e"),o(t,"fill-opacity",n=l[10]===null?.15:.05),o(e,"transform",a="translate("+l[37].x+","+l[17](l[37].y)+")")},m(u,s){B(u,e,s),w(e,t),r||(i=[He(t,"mouseover",l[21]),He(t,"mouseleave",l[22])],r=!0)},p(u,s){s[0]&1024&&n!==(n=u[10]===null?.15:.05)&&o(t,"fill-opacity",n),s[0]&131328&&a!==(a="translate("+u[37].x+","+u[17](u[37].y)+")")&&o(e,"transform",a)},d(u){u&&_(e),r=!1,cn(i)}}}function ql(l){let e,t,n;return{c(){e=K("circle"),this.h()},l(a){e=q(a,"circle",{transform:!0,labelid:!0,"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),I(e).forEach(_),this.h()},h(){o(e,"transform",t="translate("+l[37].x+","+(l[7]/2+l[37].y-l[14])+")"),o(e,"labelid",l[39]),o(e,"pointer-events","none"),o(e,"r","6"),o(e,"stroke","white"),o(e,"stroke-width","1px"),o(e,"fill",n=Re[l[37].datum.role]),o(e,"opacity","0")},m(a,r){B(a,e,r)},p(a,r){r[0]&16544&&t!==(t="translate("+a[37].x+","+(a[7]/2+a[37].y-a[14])+")")&&o(e,"transform",t),r[0]&32&&n!==(n=Re[a[37].datum.role])&&o(e,"fill",n)},d(a){a&&_(e)}}}function Tr(l){let e,t;return{c(){e=K("circle"),this.h()},l(n){e=q(n,"circle",{"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),I(e).forEach(_),this.h()},h(){o(e,"pointer-events","none"),o(e,"r","6"),o(e,"stroke","white"),o(e,"stroke-width","1px"),o(e,"fill",t=Re["custom"+(1+l[3].custom.map(Zl).indexOf(l[37].datum.areacd))]),o(e,"opacity","1")},m(n,a){B(n,e,a)},p(n,a){a[0]&40&&t!==(t=Re["custom"+(1+n[3].custom.map(Zl).indexOf(n[37].datum.areacd))])&&o(e,"fill",t)},d(n){n&&_(e)}}}function Or(l){let e,t,n;return{c(){e=K("rect"),this.h()},l(a){e=q(a,"rect",{"pointer-events":!0,transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0});var r=I(e);r.forEach(_),this.h()},h(){o(e,"pointer-events","none"),o(e,"transform",t=["country","uk"].includes(l[37].datum.role)?"rotate(45)":null),o(e,"x",-5),o(e,"y",-5),o(e,"width",10),o(e,"height",10),o(e,"fill",n=Re["custom"+(1+l[3].custom.map(Xl).indexOf(l[37].datum.areacd))]),o(e,"stroke","white"),o(e,"stroke-width","1px"),o(e,"opacity","1")},m(a,r){B(a,e,r)},p(a,r){r[0]&32&&t!==(t=["country","uk"].includes(a[37].datum.role)?"rotate(45)":null)&&o(e,"transform",t),r[0]&40&&n!==(n=Re["custom"+(1+a[3].custom.map(Xl).indexOf(a[37].datum.areacd))])&&o(e,"fill",n)},d(a){a&&_(e)}}}function jl(l){let e,t,n;function a(u,s){return s[0]&32&&(t=null),t==null&&(t=!!["parent","country","uk"].includes(u[37].datum.role)),t?Or:Tr}let r=a(l,[-1,-1]),i=r(l);return{c(){e=K("g"),i.c(),this.h()},l(u){e=q(u,"g",{transform:!0});var s=I(e);i.l(s),s.forEach(_),this.h()},h(){o(e,"transform",n="translate("+l[37].x+","+(l[7]/2+l[37].y-l[14])+")")},m(u,s){B(u,e,s),i.m(e,null)},p(u,s){r===(r=a(u,s))&&i?i.p(u,s):(i.d(1),i=r(u),i&&(i.c(),i.m(e,null))),s[0]&16544&&n!==(n="translate("+u[37].x+","+(u[7]/2+u[37].y-u[14])+")")&&o(e,"transform",n)},d(u){u&&_(e),i.d()}}}function Gl(l){let e,t,n,a,r,i,u=l[16]+Te(Oe(l[37].datum.value,l[1].decimalPlaces))+l[15]+"",s,c,f,h;function d(){l[30].call(i,l[39])}return{c(){e=K("g"),t=K("rect"),i=K("text"),s=ee(u),this.h()},l(g){e=q(g,"g",{class:!0});var m=I(e);t=q(m,"rect",{labelid:!0,transform:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),I(t).forEach(_),i=q(m,"text",{labelid:!0,transform:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var b=I(i);s=te(b,u),b.forEach(_),m.forEach(_),this.h()},h(){o(t,"labelid",l[39]),o(t,"transform",n=l[20](l[13][l[39]],l[39])),o(t,"x","0"),o(t,"y","0"),o(t,"width",a=l[13].length>l[39]?l[13][l[39]].width+6:0),o(t,"height","18.5"),o(t,"rx","3px"),o(t,"stroke",r=Re["custom"+(1+l[3].custom.map(Yl).indexOf(l[37].datum.areacd))]),o(t,"fill","white"),o(t,"stroke-width","1px"),o(t,"pointer-events","none"),o(i,"labelid",l[39]),o(i,"transform",c=l[20](l[13][l[39]],l[39])),o(i,"x","3"),o(i,"y","14"),o(i,"text-anchor","start"),o(i,"fill",f=Re["custom"+(1+l[3].custom.map(Ql).indexOf(l[37].datum.areacd))]),o(i,"font-size","14px"),o(e,"class","labelGroup")},m(g,m){B(g,e,m),w(e,t),w(e,i),w(i,s),h=tt.observe(i,d.bind(i))},p(g,m){l=g,m[0]&8192&&n!==(n=l[20](l[13][l[39]],l[39]))&&o(t,"transform",n),m[0]&8192&&a!==(a=l[13].length>l[39]?l[13][l[39]].width+6:0)&&o(t,"width",a),m[0]&40&&r!==(r=Re["custom"+(1+l[3].custom.map(Yl).indexOf(l[37].datum.areacd))])&&o(t,"stroke",r),m[0]&98338&&u!==(u=l[16]+Te(Oe(l[37].datum.value,l[1].decimalPlaces))+l[15]+"")&&Ie(s,u),m[0]&8192&&c!==(c=l[20](l[13][l[39]],l[39]))&&o(i,"transform",c),m[0]&40&&f!==(f=Re["custom"+(1+l[3].custom.map(Ql).indexOf(l[37].datum.areacd))])&&o(i,"fill",f)},d(g){g&&_(e),h()}}}function Hl(l){let e,t,n,a,r,i,u=l[16]+Te(Oe(l[37].datum.value,l[1].decimalPlaces))+l[15]+"",s,c,f,h,d,g,m,b=l[18].find(k).areanm+"",v,y,C,E;function k(...z){return l[32](l[37],...z)}return{c(){e=K("g"),t=K("circle"),n=K("g"),a=K("rect"),i=K("text"),s=ee(u),f=K("g"),h=K("rect"),m=K("text"),v=ee(b),this.h()},l(z){e=q(z,"g",{transform:!0});var p=I(e);t=q(p,"circle",{"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}),I(t).forEach(_),n=q(p,"g",{class:!0});var V=I(n);a=q(V,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),I(a).forEach(_),i=q(V,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"pointer-events":!0});var P=I(i);s=te(P,u),P.forEach(_),V.forEach(_),f=q(p,"g",{class:!0});var D=I(f);h=q(D,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),I(h).forEach(_),m=q(D,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"pointer-events":!0});var A=I(m);v=te(A,b),A.forEach(_),D.forEach(_),p.forEach(_),this.h()},h(){o(t,"pointer-events","none"),o(t,"r","7"),o(t,"stroke","white"),o(t,"stroke-width","1.5px"),o(t,"fill","#F39431"),o(t,"fill-opacity","1"),o(a,"x","5"),o(a,"y","5"),o(a,"width",r=parseFloat(l[11]===void 0?100:l[11].width)+6),o(a,"height","18.5"),o(a,"rx","3px"),o(a,"stroke","#F39431"),o(a,"fill","white"),o(a,"stroke-width","1px"),o(a,"pointer-events","none"),o(i,"x","8"),o(i,"y","19"),o(i,"text-anchor","start"),o(i,"fill","#F39431"),o(i,"font-size","14px"),o(i,"pointer-events","none"),o(n,"class","hoverLabelGroup1"),o(h,"x",d=-(parseFloat(l[12]===void 0?100:l[12].width)+6)),o(h,"y","-22"),o(h,"width",g=parseFloat(l[12]===void 0?100:l[12].width)+6),o(h,"height","18.5"),o(h,"rx","3px"),o(h,"stroke","#F39431"),o(h,"fill","white"),o(h,"stroke-width","1px"),o(h,"pointer-events","none"),o(m,"x",y=-(parseFloat(l[12]===void 0?100:l[12].width)+3)),o(m,"y","-8"),o(m,"text-anchor","start"),o(m,"fill","#F39431"),o(m,"font-size","14px"),o(m,"pointer-events","none"),o(f,"class","hoverLabelGroup2"),o(e,"transform",E="translate("+l[37].x+","+l[17](l[37].y)+")")},m(z,p){B(z,e,p),w(e,t),w(e,n),w(n,a),w(n,i),w(i,s),c=tt.observe(i,l[31].bind(i)),w(e,f),w(f,h),w(f,m),w(m,v),C=tt.observe(m,l[33].bind(m))},p(z,p){l=z,p[0]&2048&&r!==(r=parseFloat(l[11]===void 0?100:l[11].width)+6)&&o(a,"width",r),p[0]&98562&&u!==(u=l[16]+Te(Oe(l[37].datum.value,l[1].decimalPlaces))+l[15]+"")&&Ie(s,u),p[0]&4096&&d!==(d=-(parseFloat(l[12]===void 0?100:l[12].width)+6))&&o(h,"x",d),p[0]&4096&&g!==(g=parseFloat(l[12]===void 0?100:l[12].width)+6)&&o(h,"width",g),p[0]&256&&b!==(b=l[18].find(k).areanm+"")&&Ie(v,b),p[0]&4096&&y!==(y=-(parseFloat(l[12]===void 0?100:l[12].width)+3))&&o(m,"x",y),p[0]&131328&&E!==(E="translate("+l[37].x+","+l[17](l[37].y)+")")&&o(e,"transform",E)},d(z){z&&_(e),c(),C()}}}function Wl(l){let e,t=l[10]===l[39]&&Hl(l);return{c(){t&&t.c(),e=Ee()},l(n){t&&t.l(n),e=Ee()},m(n,a){t&&t.m(n,a),B(n,e,a)},p(n,a){n[10]===n[39]?t?t.p(n,a):(t=Hl(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&_(e)}}}function Br(l){let e,t,n,a,r,i,u,s,c,f,h,d,g,m,b,v,y,C,E,k,z,p,V=l[8],P=[];for(let R=0;R<V.length;R+=1)P[R]=Kl(Bl(l,V,R));let D=l[5],A=[];for(let R=0;R<D.length;R+=1)A[R]=ql(Ol(l,D,R));let M=l[5],F=[];for(let R=0;R<M.length;R+=1)F[R]=jl(Tl(l,M,R));let H=l[5],X=[];for(let R=0;R<H.length;R+=1)X[R]=Gl(Nl(l,H,R));let Y=l[8],N=[];for(let R=0;R<Y.length;R+=1)N[R]=Wl(Pl(l,Y,R));return{c(){e=T("div"),t=T("p"),n=ee(l[0]),a=J(),r=T("div"),i=K("svg"),u=K("g"),s=K("g");for(let R=0;R<P.length;R+=1)P[R].c();c=K("g"),f=K("line"),g=K("g");for(let R=0;R<A.length;R+=1)A[R].c();m=K("g");for(let R=0;R<F.length;R+=1)F[R].c();v=K("g");for(let R=0;R<X.length;R+=1)X[R].c();C=K("g");for(let R=0;R<N.length;R+=1)N[R].c();this.h()},l(R){e=O(R,"DIV",{class:!0,style:!0});var S=I(e);t=O(S,"P",{class:!0,style:!0});var L=I(t);n=te(L,l[0]),L.forEach(_),a=x(S),r=O(S,"DIV",{class:!0});var oe=I(r);i=q(oe,"svg",{class:!0,height:!0,width:!0});var se=I(i);u=q(se,"g",{class:!0,transform:!0});var ue=I(u);s=q(ue,"g",{class:!0});var Z=I(s);for(let G=0;G<P.length;G+=1)P[G].l(Z);Z.forEach(_),c=q(ue,"g",{class:!0,transform:!0});var W=I(c);f=q(W,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),I(f).forEach(_),W.forEach(_),g=q(ue,"g",{class:!0});var le=I(g);for(let G=0;G<A.length;G+=1)A[G].l(le);le.forEach(_),m=q(ue,"g",{class:!0,opacity:!0});var ge=I(m);for(let G=0;G<F.length;G+=1)F[G].l(ge);ge.forEach(_),v=q(ue,"g",{class:!0,opacity:!0});var ce=I(v);for(let G=0;G<X.length;G+=1)X[G].l(ce);ce.forEach(_),C=q(ue,"g",{class:!0});var De=I(C);for(let G=0;G<N.length;G+=1)N[G].l(De);De.forEach(_),ue.forEach(_),se.forEach(_),oe.forEach(_),S.forEach(_),this.h()},h(){o(t,"class","col1 svelte-1r0c25"),$(t,"width",Qe),o(s,"class","backgroundCirclesGroup"),o(f,"x1","0"),o(f,"x2","0"),o(f,"y1","-10"),o(f,"y2",h=l[7]+15),o(f,"stroke","#871A5B"),o(f,"stroke-width","2.5px"),o(f,"pointer-events","none"),o(c,"class","medianLineGroup"),o(c,"transform",d="translate("+l[6](0)+",0)"),o(g,"class","labelsCirclesGroup"),o(m,"class","primaryCirclesGroup"),o(m,"opacity",b=l[10]===null?1:.1),o(v,"class","labelsGroup"),o(v,"opacity",y=l[10]===null?1:0),o(C,"class","hoverCirclesGroup"),o(u,"class","chart-container"),o(u,"transform",E="translate("+l[9].left+","+l[9].top+")"),o(i,"class",k=Ce("beeswarm-row-svg-"+l[2])+" svelte-1r0c25"),o(i,"height",l[19]),o(i,"width",z=l[4]-Qe-20),o(r,"class","svg-container"),o(e,"class","row-container svelte-1r0c25"),$(e,"background-color",l[2]%2===0?"#fafafa":"#ffffff"),ct(()=>l[34].call(e))},m(R,S){B(R,e,S),w(e,t),w(t,n),w(e,a),w(e,r),w(r,i),w(i,u),w(u,s);for(let L=0;L<P.length;L+=1)P[L]&&P[L].m(s,null);w(u,c),w(c,f),w(u,g);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(g,null);w(u,m);for(let L=0;L<F.length;L+=1)F[L]&&F[L].m(m,null);w(u,v);for(let L=0;L<X.length;L+=1)X[L]&&X[L].m(v,null);w(u,C);for(let L=0;L<N.length;L+=1)N[L]&&N[L].m(C,null);p=$l(e,l[34].bind(e))},p(R,S){if(S[0]&1&&Ie(n,R[0]),S[0]&6423808){V=R[8];let L;for(L=0;L<V.length;L+=1){const oe=Bl(R,V,L);P[L]?P[L].p(oe,S):(P[L]=Kl(oe),P[L].c(),P[L].m(s,null))}for(;L<P.length;L+=1)P[L].d(1);P.length=V.length}if(S[0]&128&&h!==(h=R[7]+15)&&o(f,"y2",h),S[0]&64&&d!==(d="translate("+R[6](0)+",0)")&&o(c,"transform",d),S[0]&16544){D=R[5];let L;for(L=0;L<D.length;L+=1){const oe=Ol(R,D,L);A[L]?A[L].p(oe,S):(A[L]=ql(oe),A[L].c(),A[L].m(g,null))}for(;L<A.length;L+=1)A[L].d(1);A.length=D.length}if(S[0]&16552){M=R[5];let L;for(L=0;L<M.length;L+=1){const oe=Tl(R,M,L);F[L]?F[L].p(oe,S):(F[L]=jl(oe),F[L].c(),F[L].m(m,null))}for(;L<F.length;L+=1)F[L].d(1);F.length=M.length}if(S[0]&1024&&b!==(b=R[10]===null?1:.1)&&o(m,"opacity",b),S[0]&1155114){H=R[5];let L;for(L=0;L<H.length;L+=1){const oe=Nl(R,H,L);X[L]?X[L].p(oe,S):(X[L]=Gl(oe),X[L].c(),X[L].m(v,null))}for(;L<X.length;L+=1)X[L].d(1);X.length=H.length}if(S[0]&1024&&y!==(y=R[10]===null?1:0)&&o(v,"opacity",y),S[0]&498946){Y=R[8];let L;for(L=0;L<Y.length;L+=1){const oe=Pl(R,Y,L);N[L]?N[L].p(oe,S):(N[L]=Wl(oe),N[L].c(),N[L].m(C,null))}for(;L<N.length;L+=1)N[L].d(1);N.length=Y.length}S[0]&512&&E!==(E="translate("+R[9].left+","+R[9].top+")")&&o(u,"transform",E),S[0]&4&&k!==(k=Ce("beeswarm-row-svg-"+R[2])+" svelte-1r0c25")&&o(i,"class",k),S[0]&16&&z!==(z=R[4]-Qe-20)&&o(i,"width",z),S[0]&4&&$(e,"background-color",R[2]%2===0?"#fafafa":"#ffffff")},i:be,o:be,d(R){R&&_(e),ke(P,R),ke(A,R),ke(F,R),ke(X,R),ke(N,R),p()}}}let Qe=200;const Xl=l=>l.areacd,Zl=l=>l.areacd,Yl=l=>l.areacd,Ql=l=>l.areacd;function Kr(l,e,t){let n,a,r,i,u,s,c,f,h,d,g,m,b,v,{data:y,name:C,medianValue:E,maxDistanceFromMedian:k,metadata:z,id:p,checkboxedRoles:V}=e,P=he("areas"),D=400,A=50,M=z.polarity==1?[-1,1]:[1,-1];const F=(W,le)=>{if(H){let ce=W?parseFloat(W.width):0,De=[{x:-ce-10,y:0,name:"topLeft"},{x:-ce-10,y:20,name:"bottomLeft"},{x:-ce-10,y:10,name:"left"},{x:2,y:0,name:"topRight"},{x:2,y:20,name:"bottomRight"},{x:-ce/2,y:-3,name:"top"},{x:-ce/2,y:24,name:"bottom"},{x:8,y:10,name:"right"},{x:-ce-2,y:-10,name:"furtherTopLeft"},{x:-ce-2,y:30,name:"furtherBottomLeft"},{x:-ce-18,y:10,name:"furtherLeft"},{x:-ce-12,y:0,name:"bottomFurtherLeft"},{x:-ce-12,y:0,name:"topFurtherLeft"},{x:0,y:-10,name:"furtherTopRight"},{x:0,y:30,name:"furtherBottomRight"},{x:10,y:0,name:"topFurtherRight"},{x:10,y:20,name:"bottomFurtherRight"},{x:10,y:-10,name:"furtherTopFurtherRight"},{x:-ce-12,y:-10,name:"furtherTopFurtherLeft"},{x:10,y:30,name:"furtherBottomFurtherRight"},{x:-ce-12,y:30,name:"furtherBottomFurtherLeft"},{x:-ce/2,y:-13,name:"furtherTop"},{x:-ce/2,y:34,name:"furtherBottom"},{x:28,y:10,name:"furtherRight"},{x:-ce/2,y:-23,name:"furtherFurtherTop"},{x:-ce/2,y:44,name:"furtherFurtherBottom"},{x:-ce-28,y:10,name:"furtherFurtherLeft"},{x:28,y:10,name:"furtherFurtherRight"}],G=Be(".beeswarm-row-svg-"+p).selectAll(".labelGroup").selectAll("rect"),fe=Be(".beeswarm-row-svg-"+p).select(".labelsCirclesGroup").selectAll("circle");for(var ge=0;ge<De.length;ge++){let pe={x1:d[le].x+De[ge].x,x2:d[le].x+De[ge].x+ce,y1:d[le].y-g+De[ge].y,y2:d[le].y-g+De[ge].y+18.5},Se=!0;if(G.each(function(){let Me=Be(this);const Fe=/translate\(([\d.-]+),\s*([\d.-]+)\)/;let Le=Be(this).attr("transform").match(Fe);_t(pe.x1,pe.x2,pe.y1,pe.y2,parseFloat(Le[1]),parseFloat(Le[1])+parseFloat(Me.attr("width")),parseFloat(Le[2]),parseFloat(Le[2])+18.5)&Me.attr("labelid")!=le&&(Se=!1)}),fe.each(function(){let Me=Be(this);const Fe=/translate\(([\d.-]+),\s*([\d.-]+)\)/;let Le=Be(this).attr("transform").match(Fe),Pe=parseFloat(Me.attr("r"))+3;_t(pe.x1,pe.x2,pe.y1,pe.y2,parseFloat(Le[1])-Pe,parseFloat(Le[1])+Pe,parseFloat(Le[2])-Pe,parseFloat(Le[2])+Pe)&Me.attr("labelid")!=le&&(Se=!1)}),Se)return"translate("+pe.x1+","+pe.y1+")"}return"translate(200,0)"}else return"translate(0,0)"};let H=!1;We(()=>{H=!0});let X=null;function Y(W){t(10,X=parseFloat(Be(this).attr("hoverid")))}function N(W){t(10,X=null)}let R,S;function L(W){var le;v[W]=(le=et.entries.get(this))==null?void 0:le.contentRect,t(13,v)}function oe(){var W;R=(W=et.entries.get(this))==null?void 0:W.contentRect,t(11,R)}const se=(W,le)=>le.areacd===W.datum.areacd;function ue(){var W;S=(W=et.entries.get(this))==null?void 0:W.contentRect,t(12,S)}function Z(){D=this.clientWidth,t(4,D)}return l.$$set=W=>{"data"in W&&t(23,y=W.data),"name"in W&&t(0,C=W.name),"medianValue"in W&&t(24,E=W.medianValue),"maxDistanceFromMedian"in W&&t(25,k=W.maxDistanceFromMedian),"metadata"in W&&t(1,z=W.metadata),"id"in W&&t(2,p=W.id),"checkboxedRoles"in W&&t(3,V=W.checkboxedRoles)},l.$$.update=()=>{l.$$.dirty[0]&528&&t(29,a=D-n.left-n.right-Qe),l.$$.dirty[0]&512&&t(7,r=A-n.top-n.bottom),l.$$.dirty[0]&536870912&&t(6,i=Je().domain(M).range([0,a])),l.$$.dirty[0]&58720256&&t(28,u=y.map(W=>({...W,calcYValue:(W.value-E)/k}))),l.$$.dirty[0]&268435522&&t(8,s=new mt(u,5,W=>i((W.calcYValue<0?-1:1)*(1-Math.pow(1-Math.abs(W.calcYValue),z.beeswarmPower)))).calculateYPositions()),l.$$.dirty[0]&256&&t(27,c=s!=null?[Math.min(...s.map(W=>W.y)),Math.max(...s.map(W=>W.y))]:[0,1]),l.$$.dirty[0]&134217856&&t(17,f=Je().domain(c).range([0,r])),l.$$.dirty[0]&58720264&&t(26,h=y.filter(W=>(V.custom!=null?V.custom:[]).map(le=>le.areacd).includes(W.areacd)).map(W=>({...W,calcYValue:(W.value-E)/k})).sort((W,le)=>W.calcYValue-le.calcYValue)),l.$$.dirty[0]&67108930&&t(5,d=new mt(h,7,W=>i((W.calcYValue<0?-1:1)*(1-Math.pow(1-Math.abs(W.calcYValue),z.beeswarmPower)))).calculateYPositions()),l.$$.dirty[0]&32&&t(14,g=Math.min(...d.map(W=>W.y))+(Math.max(...d.map(W=>W.y))-Math.min(...d.map(W=>W.y)))/2),l.$$.dirty[0]&2&&t(16,m=z.prefix===null?"":z.prefix),l.$$.dirty[0]&2&&t(15,b=z.suffix===null?"":z.suffix)},t(9,n={top:10,left:10,right:10,bottom:10}),t(13,v=[]),[C,z,p,V,D,d,i,r,s,n,X,R,S,v,g,b,m,f,P,A,F,Y,N,y,E,k,h,c,u,a,L,oe,se,ue,Z]}class qr extends de{constructor(e){super(),me(this,e,Kr,Br,_e,{data:23,name:0,medianValue:24,maxDistanceFromMedian:25,metadata:1,id:2,checkboxedRoles:3},null,[-1,-1])}}function Ul(l,e,t){const n=l.slice();return n[32]=e[t],n[34]=t,n}function Jl(l){let e,t;function n(...r){return l[22](l[32],...r)}function a(...r){return l[23](l[32],...r)}return e=new qr({props:{id:l[34],data:l[3].filter(n),name:l[8].find(a).name,checkboxedRoles:l[0],medianValue:l[4],maxDistanceFromMedian:l[7],metadata:l[9]}}),{c(){ne(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,i){re(e,r,i),t=!0},p(r,i){l=r;const u={};i[0]&40&&(u.data=l[3].filter(n)),i[0]&288&&(u.name=l[8].find(a).name),i[0]&1&&(u.checkboxedRoles=l[0]),i[0]&16&&(u.medianValue=l[4]),i[0]&128&&(u.maxDistanceFromMedian=l[7]),i[0]&512&&(u.metadata=l[9]),e.$set(u)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){Q(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function jr(l){let e,t,n,a,r,i,u,s,c,f,h,d=(l[6].length>0?l[10].find(l[20]).label:"")+"",g,m,b,v,y,C,E,k,z,p;function V(N){l[18](N)}let P={asButtons:!0,name:"selectGroupings",optionsArray:l[13]};l[2]!==void 0&&(P.chosenId=l[2]),e=new Xe({props:P}),ve.push(()=>ye(e,"chosenId",V));function D(N){l[19](N)}let A={name:"select-indicator-dropdown",optionsArray:l[12].map(Gr)};l[1]!==void 0&&(A.chosenId=l[1]),u=new ht({props:A}),ve.push(()=>ye(u,"chosenId",D)),b=new _n({props:{siblingAreas:l[11]}});function M(N){l[21](N)}let F={areasWithData:l[11],colors:[Re.custom1,Re.custom2,Re.custom3,Re.custom4]};l[0]!==void 0&&(F.checkboxedRoles=l[0]),C=new en({props:F}),ve.push(()=>ye(C,"checkboxedRoles",M));let H=l[5],X=[];for(let N=0;N<H.length;N+=1)X[N]=Jl(Ul(l,H,N));const Y=N=>Q(X[N],1,1,()=>{X[N]=null});return{c(){ne(e.$$.fragment),n=J(),a=T("div"),r=T("div"),i=T("div"),ne(u.$$.fragment),c=J(),f=T("p"),h=ee("in "),g=ee(d),m=J(),ne(b.$$.fragment),v=J(),y=T("div"),ne(C.$$.fragment),k=J(),z=T("div");for(let N=0;N<X.length;N+=1)X[N].c();this.h()},l(N){ae(e.$$.fragment,N),n=x(N),a=O(N,"DIV",{class:!0});var R=I(a);r=O(R,"DIV",{class:!0});var S=I(r);i=O(S,"DIV",{class:!0});var L=I(i);ae(u.$$.fragment,L),L.forEach(_),c=x(S),f=O(S,"P",{class:!0});var oe=I(f);h=te(oe,"in "),g=te(oe,d),oe.forEach(_),S.forEach(_),m=x(R),ae(b.$$.fragment,R),v=x(R),y=O(R,"DIV",{style:!0});var se=I(y);ae(C.$$.fragment,se),se.forEach(_),k=x(R),z=O(R,"DIV",{class:!0});var ue=I(z);for(let Z=0;Z<X.length;Z+=1)X[Z].l(ue);ue.forEach(_),R.forEach(_),this.h()},h(){o(i,"class","dropdown-container svelte-1v2sdro"),o(f,"class","svelte-1v2sdro"),o(r,"class","title-container svelte-1v2sdro"),$(y,"margin-top","30px"),$(y,"margin-bottom","30px"),o(z,"class","svgs-container"),o(a,"class","visualisation-container svelte-1v2sdro")},m(N,R){re(e,N,R),B(N,n,R),B(N,a,R),w(a,r),w(r,i),re(u,i,null),w(r,c),w(r,f),w(f,h),w(f,g),w(a,m),re(b,a,null),w(a,v),w(a,y),re(C,y,null),w(a,k),w(a,z);for(let S=0;S<X.length;S+=1)X[S]&&X[S].m(z,null);p=!0},p(N,R){const S={};!t&&R[0]&4&&(t=!0,S.chosenId=N[2],we(()=>t=!1)),e.$set(S);const L={};!s&&R[0]&2&&(s=!0,L.chosenId=N[1],we(()=>s=!1)),u.$set(L),(!p||R[0]&64)&&d!==(d=(N[6].length>0?N[10].find(N[20]).label:"")+"")&&Ie(g,d);const oe={};if(!E&&R[0]&1&&(E=!0,oe.checkboxedRoles=N[0],we(()=>E=!1)),C.$set(oe),R[0]&953){H=N[5];let se;for(se=0;se<H.length;se+=1){const ue=Ul(N,H,se);X[se]?(X[se].p(ue,R),j(X[se],1)):(X[se]=Jl(ue),X[se].c(),j(X[se],1),X[se].m(z,null))}for(ze(),se=H.length;se<X.length;se+=1)Y(se);Ve()}},i(N){if(!p){j(e.$$.fragment,N),j(u.$$.fragment,N),j(b.$$.fragment,N),j(C.$$.fragment,N);for(let R=0;R<H.length;R+=1)j(X[R]);p=!0}},o(N){Q(e.$$.fragment,N),Q(u.$$.fragment,N),Q(b.$$.fragment,N),Q(C.$$.fragment,N),X=X.filter(Boolean);for(let R=0;R<X.length;R+=1)Q(X[R]);p=!1},d(N){ie(e,N),N&&_(n),N&&_(a),ie(u),ie(b),ie(C),ke(X,N)}}}const Gr=l=>l.label;function Hr(l,e,t){let n,a,r,i,u,s,c,f,{latestData:h,indicatorsList:d,topicName:g,checkboxedRoles:m}=e,b=he("indicatorsMetadata"),v=he("indicators"),y=he("clustersInfo"),C=he("clustersLookup"),E=he("periodsLookup");he("areas");let z=he("areasGeogLevel").filter(S=>["both","lower"].includes(S.level)).map(S=>S.areacd),p=he("areasParentsLookup"),V=he("areasGeogInfo"),P=d.map((S,L)=>({index:L,id:S,label:b.find(oe=>oe.code==v.find(se=>se.id==S).code).label})),D=P[1].label,A=0,M=[...Object.keys(xe).filter(S=>xe[S]===g).map(S=>$e(S)+" cluster"),"Region","Deprivation Level","Urban/Rural"];function F(S){A=S,t(2,A)}function H(S){D=S,t(1,D)}const X=S=>S.xDomainNumb===r[0].xDomainNumb;function Y(S){m=S,t(0,m)}const N=(S,L)=>L.group==S,R=(S,L)=>L.id==S;return l.$$set=S=>{"latestData"in S&&t(14,h=S.latestData),"indicatorsList"in S&&t(15,d=S.indicatorsList),"topicName"in S&&t(16,g=S.topicName),"checkboxedRoles"in S&&t(0,m=S.checkboxedRoles)},l.$$.update=()=>{l.$$.dirty[0]&2&&t(17,n=v.find(S=>S.code==b.find(L=>L.label==D).code).id),l.$$.dirty[0]&131072&&t(9,a=b.find(S=>S.code==v.find(L=>L.id===n).code)),l.$$.dirty[0]&147456&&t(6,r=h.filter(S=>S.id===n&z.includes(S.areacd))),l.$$.dirty[0]&68&&t(3,i=(M[A].includes("cluster")?r.map(S=>({...S,group:y.find(L=>L.areacd===S.areacd)[M[A].replace(" cluster","").toLowerCase()]})):M[A]==="Region"?r.map(S=>({...S,group:p.find(L=>L.areacd===S.areacd).parentcd})):M[A]==="Deprivation Level"?r.map(S=>({...S,group:V.find(L=>S.areacd===L.areacd).imd})):M[A]==="Urban/Rural"?r.map(S=>({...S,group:V.find(L=>S.areacd===L.areacd).urban})):[]).filter(S=>S.group!="")),l.$$.dirty[0]&12&&t(5,u=M[A]==="Deprivation Level"?[...new Set(i.map(S=>S.group))].sort((S,L)=>S-L):[...new Set(i.map(S=>S.group))]),l.$$.dirty[0]&36&&t(8,s=M[A].includes("cluster")?C.filter(S=>[M[A].replace(" cluster","").toLowerCase(),"all"].includes(S.model)).map(S=>({id:S.id,name:S.alternativeDescription})):M[A]==="Region"?[...kn,...yn].map(S=>({id:S.code,name:S.name})):M[A]==="Deprivation Level"?[{id:"5",name:"Least deprived"},{id:"4",name:"Low deprivation"},{id:"3",name:"Average"},{id:"2",name:"Above average deprivation"},{id:"1",name:"Most deprived"}]:M[A]==="Urban/Rural"?u.map(S=>({id:S,name:S})):[]),l.$$.dirty[0]&8&&t(4,c=pn(i,"value")),l.$$.dirty[0]&24&&t(7,f=Math.max(Math.abs(c-Math.min(...i.map(S=>S.value))),Math.abs(c-Math.max(...i.map(S=>S.value)))))},[m,D,A,i,c,u,r,f,s,a,E,z,P,M,h,d,g,n,F,H,X,Y,N,R]}class Wr extends de{constructor(e){super(),me(this,e,Hr,jr,_e,{latestData:14,indicatorsList:15,topicName:16,checkboxedRoles:0},null,[-1,-1])}}function Xr(l){let e=$e(l[2])+"",t;return{c(){t=ee(e)},l(n){t=te(n,e)},m(n,a){B(n,t,a)},p:be,d(n){n&&_(t)}}}function Zr(l){let e="Topic information",t;return{c(){t=ee(e)},l(n){t=te(n,e)},m(n,a){B(n,t,a)},p:be,d(n){n&&_(t)}}}function Yr(l){let e,t,n,a;return e=new fn({props:{$$slots:{default:[Xr]},$$scope:{ctx:l}}}),n=new hn({props:{$$slots:{default:[Zr]},$$scope:{ctx:l}}}),{c(){ne(e.$$.fragment),t=J(),ne(n.$$.fragment)},l(r){ae(e.$$.fragment,r),t=x(r),ae(n.$$.fragment,r)},m(r,i){re(e,r,i),B(r,t,i),re(n,r,i),a=!0},p(r,i){const u={};i&128&&(u.$$scope={dirty:i,ctx:r}),e.$set(u);const s={};i&128&&(s.$$scope={dirty:i,ctx:r}),n.$set(s)},i(r){a||(j(e.$$.fragment,r),j(n.$$.fragment,r),a=!0)},o(r){Q(e.$$.fragment,r),Q(n.$$.fragment,r),a=!1},d(r){ie(e,r),r&&_(t),ie(n,r)}}}function Qr(l){let e;return{c(){e=ee("Find related publications")},l(t){e=te(t,"Find related publications")},m(t,n){B(t,e,n)},d(t){t&&_(e)}}}function Ur(l){let e,t,n,a,r,i,u,s,c,f,h,d,g,m,b,v,y,C,E,k,z,p,V,P,D,A,M,F,H,X,Y,N,R,S;function L(Z){l[5](Z)}let oe={indicatorsList:l[3],latestData:l[4],initialData:l[0].preloadedData.initialData,otherData:l[0].preloadedData.otherData};l[1]!==void 0&&(oe.checkboxedRoles=l[1]),r=new fr({props:oe}),ve.push(()=>ye(r,"checkboxedRoles",L)),d=new Nr({props:{indicatorsList:l[0].indicatorsList,topicName:l[2],latestData:l[4],initialData:l[0].preloadedData.initialData,otherData:l[0].preloadedData.otherData}});function se(Z){l[6](Z)}let ue={topicName:l[2],latestData:l[4],indicatorsList:l[0].indicatorsList};return l[1]!==void 0&&(ue.checkboxedRoles=l[1]),p=new Wr({props:ue}),ve.push(()=>ye(p,"checkboxedRoles",se)),A=new bn({props:{$$slots:{default:[Qr]},$$scope:{ctx:l}}}),{c(){e=T("section"),t=T("h1"),n=ee("Key indicators"),a=J(),ne(r.$$.fragment),u=J(),s=T("section"),c=T("h1"),f=ee("Explore geographically"),h=J(),ne(d.$$.fragment),g=J(),m=T("section"),b=T("h1"),v=ee("Top and bottom ranked areas"),y=J(),C=T("section"),E=T("h1"),k=ee("Compare areas by group"),z=J(),ne(p.$$.fragment),P=J(),D=T("section"),ne(A.$$.fragment),M=J(),F=T("section"),H=T("h2"),X=ee("Get the data"),Y=J(),N=T("p"),R=ee("Here, you can find information and links to the data."),this.h()},l(Z){e=O(Z,"SECTION",{title:!0,class:!0});var W=I(e);t=O(W,"H1",{});var le=I(t);n=te(le,"Key indicators"),le.forEach(_),a=x(W),ae(r.$$.fragment,W),W.forEach(_),u=x(Z),s=O(Z,"SECTION",{title:!0,class:!0});var ge=I(s);c=O(ge,"H1",{});var ce=I(c);f=te(ce,"Explore geographically"),ce.forEach(_),h=x(ge),ae(d.$$.fragment,ge),ge.forEach(_),g=x(Z),m=O(Z,"SECTION",{title:!0,class:!0});var De=I(m);b=O(De,"H1",{});var G=I(b);v=te(G,"Top and bottom ranked areas"),G.forEach(_),De.forEach(_),y=x(Z),C=O(Z,"SECTION",{title:!0,class:!0});var fe=I(C);E=O(fe,"H1",{});var pe=I(E);k=te(pe,"Compare areas by group"),pe.forEach(_),z=x(fe),ae(p.$$.fragment,fe),fe.forEach(_),P=x(Z),D=O(Z,"SECTION",{title:!0,class:!0});var Se=I(D);ae(A.$$.fragment,Se),Se.forEach(_),M=x(Z),F=O(Z,"SECTION",{title:!0,class:!0});var Me=I(F);H=O(Me,"H2",{class:!0});var Fe=I(H);X=te(Fe,"Get the data"),Fe.forEach(_),Y=x(Me),N=O(Me,"P",{});var Le=I(N);R=te(Le,"Here, you can find information and links to the data."),Le.forEach(_),Me.forEach(_),this.h()},h(){o(e,"title","Key indicators"),o(e,"class","svelte-1go1lax"),o(s,"title","Explore geographically"),o(s,"class","svelte-1go1lax"),o(m,"title","Top and bottom ranked areas"),o(m,"class","svelte-1go1lax"),o(C,"title","Compare areas by group"),o(C,"class","svelte-1go1lax"),o(D,"title","Related publications"),o(D,"class","svelte-1go1lax"),o(H,"class","ons-u-mt-xl"),o(F,"title","Get the data"),o(F,"class","svelte-1go1lax")},m(Z,W){B(Z,e,W),w(e,t),w(t,n),w(e,a),re(r,e,null),B(Z,u,W),B(Z,s,W),w(s,c),w(c,f),w(s,h),re(d,s,null),B(Z,g,W),B(Z,m,W),w(m,b),w(b,v),B(Z,y,W),B(Z,C,W),w(C,E),w(E,k),w(C,z),re(p,C,null),B(Z,P,W),B(Z,D,W),re(A,D,null),B(Z,M,W),B(Z,F,W),w(F,H),w(H,X),w(F,Y),w(F,N),w(N,R),S=!0},p(Z,W){const le={};W&1&&(le.initialData=Z[0].preloadedData.initialData),W&1&&(le.otherData=Z[0].preloadedData.otherData),!i&&W&2&&(i=!0,le.checkboxedRoles=Z[1],we(()=>i=!1)),r.$set(le);const ge={};W&1&&(ge.indicatorsList=Z[0].indicatorsList),W&1&&(ge.initialData=Z[0].preloadedData.initialData),W&1&&(ge.otherData=Z[0].preloadedData.otherData),d.$set(ge);const ce={};W&1&&(ce.indicatorsList=Z[0].indicatorsList),!V&&W&2&&(V=!0,ce.checkboxedRoles=Z[1],we(()=>V=!1)),p.$set(ce);const De={};W&128&&(De.$$scope={dirty:W,ctx:Z}),A.$set(De)},i(Z){S||(j(r.$$.fragment,Z),j(d.$$.fragment,Z),j(p.$$.fragment,Z),j(A.$$.fragment,Z),S=!0)},o(Z){Q(r.$$.fragment,Z),Q(d.$$.fragment,Z),Q(p.$$.fragment,Z),Q(A.$$.fragment,Z),S=!1},d(Z){Z&&_(e),ie(r),Z&&_(u),Z&&_(s),ie(d),Z&&_(g),Z&&_(m),Z&&_(y),Z&&_(C),ie(p),Z&&_(P),Z&&_(D),ie(A),Z&&_(M),Z&&_(F)}}}function Jr(l){let e,t,n,a;return e=new un({props:{breadcrumb:[{label:"Home",url:"/"},{label:"Explore subnational statistics",url:`${lt}/`},{label:"Expore indicators",url:`${lt}/indicators`},{label:"topic"}],$$slots:{default:[Yr]},$$scope:{ctx:l}}}),n=new gn({props:{contentsLabel:"Explore this indicator",$$slots:{default:[Ur]},$$scope:{ctx:l}}}),{c(){ne(e.$$.fragment),t=J(),ne(n.$$.fragment)},l(r){ae(e.$$.fragment,r),t=x(r),ae(n.$$.fragment,r)},m(r,i){re(e,r,i),B(r,t,i),re(n,r,i),a=!0},p(r,[i]){const u={};i&128&&(u.$$scope={dirty:i,ctx:r}),e.$set(u);const s={};i&131&&(s.$$scope={dirty:i,ctx:r}),n.$set(s)},i(r){a||(j(e.$$.fragment,r),j(n.$$.fragment,r),a=!0)},o(r){Q(e.$$.fragment,r),Q(n.$$.fragment,r),a=!1},d(r){ie(e,r),r&&_(t),ie(n,r)}}}function xr(l,e,t){let n,{data:a}=e,r=a.topic,i=a.indicatorsList.slice(0,Math.min(5,a.indicatorsList.length)),u=a.latestData.filter(f=>a.indicatorsList.includes(f.id));function s(f){n=f,t(1,n)}function c(f){n=f,t(1,n)}return l.$$set=f=>{"data"in f&&t(0,a=f.data)},t(1,n={custom:null}),[a,n,r,i,u,s,c]}class bi extends de{constructor(e){super(),me(this,e,xr,Jr,_e,{data:0})}}export{bi as component};
