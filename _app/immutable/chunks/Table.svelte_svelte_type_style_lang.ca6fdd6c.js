import{S as O,i as L,s as x,e as k,a as U,T as F,h as w,c as D,H as j,b as C,v as V,d as S,f as q,g as H,ae as Y,af as G,E as N,I as B,J as W,K as z,k as J,l as K,m as Q,n as E,M as P}from"./index.bb22ce14.js";const A={light:{text:"#222",muted:"#777",hinted:"#e2e2e3",pale:"#f0f0f0",background:"#fff"},dark:{text:"#fff",muted:"#bbb",hinted:"#444",pale:"#333",background:"#222",link:"#f5f5f6","link-hover":"#f5f5f6"},lightblue:{text:"#206095",muted:"#707070",pale:"#f0f0f0",background:"rgb(233, 239, 244)"}};function R(d){let t,r=`<style>${d[3]}</style>`,i;return{c(){t=new Y(!1),i=k(),this.h()},l(s){t=G(s,!1),i=k(),this.h()},h(){t.a=i},m(s,o){t.m(r,s,o),C(s,i,o)},p(s,o){o&8&&r!==(r=`<style>${s[3]}</style>`)&&t.p(r)},d(s){s&&w(i),s&&t.d()}}}function X(d){let t;const r=d[8].default,i=N(r,d,d[7],null);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,o){i&&i.m(s,o),t=!0},p(s,o){i&&i.p&&(!t||o&128)&&B(i,r,s,s[7],t?z(r,s[7],o,null):W(s[7]),null)},i(s){t||(H(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){i&&i.d(s)}}}function Z(d){let t,r,i;const s=d[8].default,o=N(s,d,d[7],null);return{c(){t=J("div"),o&&o.c(),this.h()},l(f){t=K(f,"DIV",{id:!0,class:!0,style:!0});var _=Q(t);o&&o.l(_),_.forEach(w),this.h()},h(){E(t,"id",d[0]),E(t,"class",r=P(d[1]?`theme-wrapper ${d[1]}`:"theme-wrapper")+" svelte-zhquzc"),E(t,"style",d[3])},m(f,_){C(f,t,_),o&&o.m(t,null),i=!0},p(f,_){o&&o.p&&(!i||_&128)&&B(o,s,f,f[7],i?z(s,f[7],_,null):W(f[7]),null),(!i||_&1)&&E(t,"id",f[0]),(!i||_&2&&r!==(r=P(f[1]?`theme-wrapper ${f[1]}`:"theme-wrapper")+" svelte-zhquzc"))&&E(t,"class",r),(!i||_&8)&&E(t,"style",f[3])},i(f){i||(H(o,f),i=!0)},o(f){S(o,f),i=!1},d(f){f&&w(t),o&&o.d(f)}}}function $(d){let t,r,i,s,o,f,_=d[2]&&R(d);const b=[Z,X],v=[];function y(c,a){return c[3]&&!c[2]?0:1}return i=y(d),s=v[i]=b[i](d),{c(){_&&_.c(),t=k(),r=U(),s.c(),o=k()},l(c){const a=F("svelte-m4a5z6",document.head);_&&_.l(a),t=k(),a.forEach(w),r=D(c),s.l(c),o=k()},m(c,a){_&&_.m(document.head,null),j(document.head,t),C(c,r,a),v[i].m(c,a),C(c,o,a),f=!0},p(c,[a]){c[2]?_?_.p(c,a):(_=R(c),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null);let l=i;i=y(c),i===l?v[i].p(c,a):(V(),S(v[l],1,1,()=>{v[l]=null}),q(),s=v[i],s?s.p(c,a):(s=v[i]=b[i](c),s.c()),H(s,1),s.m(o.parentNode,o))},i(c){f||(H(s),f=!0)},o(c){S(s),f=!1},d(c){_&&_.d(c),w(t),c&&w(r),v[i].d(c),c&&w(o)}}}function ee(d,t,r){let i,{$$slots:s={},$$scope:o}=t,{id:f=null}=t,{cls:_=null}=t,{global:b=!1}=t,{theme:v=null}=t,{overrides:y=null}=t,{background:c=null}=t;function a(l,u,g){if(l){const e=A[l]||A.light;return u&&Object.keys(u).forEach(n=>e[n]=u[n]),g&&(e.background=g),Object.keys(e).map(n=>`--${n}: ${e[n]};`).join("")}else if(g)return`--background:${g}`;return null}return d.$$set=l=>{"id"in l&&r(0,f=l.id),"cls"in l&&r(1,_=l.cls),"global"in l&&r(2,b=l.global),"theme"in l&&r(4,v=l.theme),"overrides"in l&&r(5,y=l.overrides),"background"in l&&r(6,c=l.background),"$$scope"in l&&r(7,o=l.$$scope)},d.$$.update=()=>{d.$$.dirty&112&&r(3,i=a(v,y,c))},[f,_,b,i,v,y,c,o,s]}class ie extends O{constructor(t){super(),L(this,t,ee,$,x,{id:0,cls:1,global:2,theme:4,overrides:5,background:6})}}var te={exports:{}};/*! pym.js - v1.3.2 - 2018-02-13 */(function(d){(function(t){d.exports?d.exports=t():window.pym=t.call(this)})(function(){var t="xPYMx",r={},i=function(a){var l=document.createEvent("Event");l.initEvent("pym:"+a,!0,!0),document.dispatchEvent(l)},s=function(a){var l=new RegExp("[\\?&]"+a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),u=l.exec(location.search);return u===null?"":decodeURIComponent(u[1].replace(/\+/g," "))},o=function(a,l){if(!(l.xdomain!=="*"&&!a.origin.match(new RegExp(l.xdomain+"$")))&&typeof a.data=="string")return!0},f=function(a){var l=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi;if(a.match(l))return!0},_=function(a,l,u){var g=["pym",a,l,u];return g.join(t)},b=function(a){var l=["pym",a,"(\\S+)","(.*)"];return new RegExp("^"+l.join(t)+"$")},v=Date.now||function(){return new Date().getTime()},y=function(a,l,u){var g,e,n,h=null,m=0;u||(u={});var p=function(){m=u.leading===!1?0:v(),h=null,n=a.apply(g,e),h||(g=e=null)};return function(){var I=v();!m&&u.leading===!1&&(m=I);var M=l-(I-m);return g=this,e=arguments,M<=0||M>l?(h&&(clearTimeout(h),h=null),m=I,n=a.apply(g,e),h||(g=e=null)):!h&&u.trailing!==!1&&(h=setTimeout(p,M)),n}},c=function(){for(var a=r.autoInitInstances.length,l=a-1;l>=0;l--){var u=r.autoInitInstances[l];u.el.getElementsByTagName("iframe").length&&u.el.getElementsByTagName("iframe")[0].contentWindow||r.autoInitInstances.splice(l,1)}};return r.autoInitInstances=[],r.autoInit=function(a){var l=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),u=l.length;c();for(var g=0;g<u;++g){var e=l[g];e.setAttribute("data-pym-auto-initialized",""),e.id===""&&(e.id="pym-"+g+"-"+Math.random().toString(36).substr(2,5));var n=e.getAttribute("data-pym-src"),h={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},m={};for(var p in h)if(e.getAttribute("data-pym-"+p)!==null)switch(h[p]){case"boolean":m[p]=e.getAttribute("data-pym-"+p)!=="false";break;case"string":m[p]=e.getAttribute("data-pym-"+p);break;case"number":var I=Number(e.getAttribute("data-pym-"+p));isNaN(I)||(m[p]=I);break;default:console.err("unrecognized attribute type")}var M=new r.Parent(e.id,n,m);r.autoInitInstances.push(M)}return a||i("pym-initialized"),r.autoInitInstances},r.Parent=function(a,l,u){this.id=a,this.url=l,this.el=document.getElementById(a),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=b(this.id),this.messageHandlers={},u=u||{},this._constructIframe=function(){var e=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var n="",h=this.url.indexOf("#");for(h>-1&&(n=this.url.substring(h,this.url.length),this.url=this.url.substring(0,h)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+e+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=n,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),this.settings.allowfullscreen!==void 0&&this.settings.allowfullscreen!==!1&&this.iframe.setAttribute("allowfullscreen",""),this.settings.sandbox!==void 0&&typeof this.settings.sandbox=="string"&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=(function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}).bind(this),this._onScroll=(function(){this.sendViewportAndIFramePosition()}).bind(this),this._fire=function(e,n){if(e in this.messageHandlers)for(var h=0;h<this.messageHandlers[e].length;h++)this.messageHandlers[e][h].call(this,n)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),c()},this._processMessage=(function(e){if(o(e,this.settings)&&typeof e.data=="string"){var n=e.data.match(this.messageRegex);if(!n||n.length!==3)return!1;var h=n[1],m=n[2];this._fire(h,m)}}).bind(this),this._onHeightMessage=function(e){var n=parseInt(e);this.iframe.setAttribute("height",n+"px")},this._onNavigateToMessage=function(e){f(e)&&(document.location.href=e)},this._onScrollToChildPosMessage=function(e){var n=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset,h=n+parseInt(e);window.scrollTo(0,h)},this.onMessage=function(e,n){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(n)},this.sendMessage=function(e,n){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(_(this.id,e,n),"*"):this.remove())},this.sendWidth=function(){var e=this.el.offsetWidth.toString();this.sendMessage("width",e)},this.sendViewportAndIFramePosition=function(){var e=this.iframe.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,h=window.innerHeight||document.documentElement.clientHeight,m=n+" "+h;m+=" "+e.top+" "+e.left,m+=" "+e.bottom+" "+e.right,this.sendMessage("viewport-iframe-position",m)};for(var g in u)this.settings[g]=u[g];return this._throttleOnScroll=y(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},r.Child=function(a){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},a=a||{},this.onMessage=function(e,n){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(n)},this._fire=function(e,n){if(e in this.messageHandlers)for(var h=0;h<this.messageHandlers[e].length;h++)this.messageHandlers[e][h].call(this,n)},this._processMessage=(function(e){if(o(e,this.settings)&&typeof e.data=="string"){var n=e.data.match(this.messageRegex);if(!(!n||n.length!==3)){var h=n[1],m=n[2];this._fire(h,m)}}}).bind(this),this._onWidthMessage=function(e){var n=parseInt(e);n!==this.parentWidth&&(this.parentWidth=n,this.settings.renderCallback&&this.settings.renderCallback(n),this.sendHeight())},this.sendMessage=function(e,n){window.parent.postMessage(_(this.id,e,n),"*")},this.sendHeight=(function(){var e=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",e),e}).bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(e){this.sendMessage("navigateTo","#"+e)},this.navigateParentTo=function(e){this.sendMessage("navigateTo",e)},this.scrollParentToChildEl=function(e){var n=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(n)},this.scrollParentToChildPos=function(e){this.sendMessage("scrollToChildPos",e.toString())};var l=function(e){var n=document.getElementsByTagName("html")[0],h,m=n.className;try{window.self!==window.top?h="embedded":h="not-embedded"}catch{h="embedded"}m.indexOf(h)<0&&(n.className=m?m+" "+h:h,e&&e(h),i("marked-embedded"))};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var u in a)this.settings[u]=a[u];this.id=s("childId")||a.id,this.messageRegex=new RegExp("^pym"+t+this.id+t+"(\\S+)"+t+"(.*)$");var g=parseInt(s("initialWidth"));return this.parentUrl=s(this.settings.parenturlparam),this.parentTitle=s("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(g),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),l(a.onMarkedEmbeddedStatus),this},typeof document<"u"&&r.autoInit(!0),r})})(te);const T=[];if(typeof window<"u"){const d=()=>T.forEach(t=>t());window.addEventListener("scroll",d),window.addEventListener("resize",d)}if(typeof IntersectionObserver<"u"){const d=new Map;new IntersectionObserver((t,r)=>{t.forEach(i=>{const s=d.get(i.target),o=T.indexOf(s);i.isIntersecting?o===-1&&T.push(s):(s(),o!==-1&&T.splice(o,1))})},{rootMargin:"400px 0px"})}export{ie as T};
