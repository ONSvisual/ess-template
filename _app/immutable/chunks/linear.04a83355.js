//js
import{S as K,i as Z,s as Q,k as C,F as B,a as W,q as re,l as E,m as I,G as D,h as v,c as Y,r as le,n as h,b as P,C as S,D as q,I as Ce,K as Ee,L as Le,M as Pe,g as ge,d as ve,V as ee,o as xn,u as de,H as j,w as $,p as M,a3 as Rt,X as ce,Y as In,U as tt,e as nt,a1 as Sn,a2 as An,W as it,Z as Mn,a4 as rt,a5 as Nn,a6 as Cn,Q as oe,y as En,z as Ln,A as Pn,R as fe,B as Bn,P as Dn,T as Fe}from"./index.4b3b0053.js";import{n as V,b as T,h as X}from"./config.0367665d.js";import{a as lt,r as at}from"./utils.187303e9.js";import{S as zn}from"./Select.6491ab8a.js";import{f as Vn,e as be,a as qn}from"./index.34b8e95a.js";var Ae,Tt,Ft;On({thousands:",",grouping:[3],currency:["$",""]});function On(e){return Ae=Vn(e),Tt=Ae.format,Ft=Ae.formatPrefix,Ae}function Rn(e){return Math.max(0,-be(Math.abs(e)))}function Tn(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(be(t)/3)))*3-be(Math.abs(e)))}function Fn(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,be(t)-be(e))+1}function Hn(e){let t,n,i,r,a,l,s,o,f;return{c(){t=C("div"),n=C("div"),i=C("a"),r=C("span"),a=B("svg"),l=B("path"),s=W(),o=re("Back to contents"),this.h()},l(u){t=E(u,"DIV",{class:!0});var c=I(t);n=E(c,"DIV",{class:!0});var d=I(n);i=E(d,"A",{href:!0,class:!0});var y=I(i);r=E(y,"SPAN",{class:!0});var p=I(r);a=D(p,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,focusable:!0,"aria-hidden":!0,role:!0});var k=I(a);l=D(k,"path",{d:!0,fill:!0}),I(l).forEach(v),k.forEach(v),s=Y(p),p.forEach(v),o=le(y,"Back to contents"),y.forEach(v),d.forEach(v),c.forEach(v),this.h()},h(){h(l,"d","M0 8.07275L1.41 9.48275L7 3.90275V16.0728H9V3.90275L14.58 9.49275L16 8.07275L8 0.0727539L0 8.07275Z"),h(l,"fill","currentColor"),h(a,"class","ons-svg-icon ons-u-mr-xs"),h(a,"width","16"),h(a,"height","17"),h(a,"viewBox","0 0 16 17"),h(a,"fill","none"),h(a,"xmlns","http://www.w3.org/2000/svg"),h(a,"focusable","false"),h(a,"aria-hidden","true"),h(a,"role","presentation"),h(r,"class","ons-back-to__icon"),h(i,"href",f="#"+e[0]),h(i,"class","ons-back-to__link"),h(n,"class","ons-back-to"),h(t,"class","ons-u-mt-l ons-u-d-no@m")},m(u,c){P(u,t,c),S(t,n),S(n,i),S(i,r),S(r,a),S(a,l),S(r,s),S(i,o)},p(u,[c]){c&1&&f!==(f="#"+u[0])&&h(i,"href",f)},i:q,o:q,d(u){u&&v(t)}}}function Wn(e,t,n){let{tocId:i="toc"}=t;return e.$$set=r=>{"tocId"in r&&n(0,i=r.tocId)},[i]}class Yn extends K{constructor(t){super(),Z(this,t,Wn,Hn,Q,{tocId:0})}}const Kn=e=>({}),st=e=>({});function ot(e,t,n){const i=e.slice();return i[11]=t[n],i}const Zn=e=>({}),ft=e=>({});function ut(e){let t,n;return{c(){t=C("h2"),n=re(e[0]),this.h()},l(i){t=E(i,"H2",{class:!0});var r=I(t);n=le(r,e[0]),r.forEach(v),this.h()},h(){h(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s")},m(i,r){P(i,t,r),S(t,n)},p(i,r){r&1&&de(n,i[0])},d(i){i&&v(t)}}}function ct(e){let t,n,i=e[11].label+"",r,a,l;return{c(){t=C("li"),n=C("a"),r=re(i),l=W(),this.h()},l(s){t=E(s,"LI",{class:!0});var o=I(t);n=E(o,"A",{href:!0,class:!0});var f=I(n);r=le(f,i),f.forEach(v),l=Y(o),o.forEach(v),this.h()},h(){h(n,"href",a="#"+e[11].slug),h(n,"class","ons-list__link"),j(n,"ons-toc__link-active",e[11].slug===e[2]),h(t,"class","ons-list__item")},m(s,o){P(s,t,o),S(t,n),S(n,r),S(t,l)},p(s,o){o&8&&i!==(i=s[11].label+"")&&de(r,i),o&8&&a!==(a="#"+s[11].slug)&&h(n,"href",a),o&12&&j(n,"ons-toc__link-active",s[11].slug===s[2])},d(s){s&&v(t)}}}function Qn(e){let t,n,i,r,a,l,s,o,f,u,c,d;const y=e[6].header,p=Ce(y,e,e[5],ft);let k=e[0]&&ut(e),A=e[3],_=[];for(let x=0;x<A.length;x+=1)_[x]=ct(ot(e,A,x));const b=e[6].default,g=Ce(b,e,e[5],null),z=e[6].footer,L=Ce(z,e,e[5],st);return{c(){t=C("div"),n=C("div"),p&&p.c(),i=W(),r=C("div"),a=C("aside"),l=C("nav"),k&&k.c(),s=W(),o=C("ol");for(let x=0;x<_.length;x+=1)_[x].c();f=W(),u=C("div"),g&&g.c(),c=W(),L&&L.c(),this.h()},l(x){t=E(x,"DIV",{class:!0});var w=I(t);n=E(w,"DIV",{class:!0});var N=I(n);p&&p.l(N),i=Y(N),r=E(N,"DIV",{class:!0,id:!0});var G=I(r);a=E(G,"ASIDE",{class:!0,role:!0});var _e=I(a);l=E(_e,"NAV",{class:!0,"aria-label":!0});var J=I(l);k&&k.l(J),s=Y(J),o=E(J,"OL",{class:!0});var te=I(o);for(let se=0;se<_.length;se+=1)_[se].l(te);te.forEach(v),J.forEach(v),_e.forEach(v),G.forEach(v),f=Y(N),u=E(N,"DIV",{class:!0});var ae=I(u);g&&g.l(ae),ae.forEach(v),c=Y(N),L&&L.l(N),N.forEach(v),w.forEach(v),this.h()},h(){h(o,"class","ons-list ons-u-mb-m ons-list--dashed"),h(l,"class","ons-toc"),h(l,"aria-label","Pages in this guide"),h(a,"class","ons-toc-container"),h(a,"role","complementary"),h(r,"class","ons-grid__col ons-col-4@m ons-u-pl-no ons-grid__col--sticky@m"),h(r,"id",e[4]),h(u,"class","ons-grid__col ons-col-8@m ons-u-pl-no"),h(n,"class","ons-grid ons-js-toc-container ons-u-ml-no"),h(t,"class","ons-page__container ons-container")},m(x,w){P(x,t,w),S(t,n),p&&p.m(n,null),S(n,i),S(n,r),S(r,a),S(a,l),k&&k.m(l,null),S(l,s),S(l,o);for(let N=0;N<_.length;N+=1)_[N]&&_[N].m(o,null);S(n,f),S(n,u),g&&g.m(u,null),e[7](u),S(n,c),L&&L.m(n,null),d=!0},p(x,[w]){if(p&&p.p&&(!d||w&32)&&Ee(p,y,x,x[5],d?Pe(y,x[5],w,Zn):Le(x[5]),ft),x[0]?k?k.p(x,w):(k=ut(x),k.c(),k.m(l,s)):k&&(k.d(1),k=null),w&12){A=x[3];let N;for(N=0;N<A.length;N+=1){const G=ot(x,A,N);_[N]?_[N].p(G,w):(_[N]=ct(G),_[N].c(),_[N].m(o,null))}for(;N<_.length;N+=1)_[N].d(1);_.length=A.length}(!d||w&16)&&h(r,"id",x[4]),g&&g.p&&(!d||w&32)&&Ee(g,b,x,x[5],d?Pe(b,x[5],w,null):Le(x[5]),null),L&&L.p&&(!d||w&32)&&Ee(L,z,x,x[5],d?Pe(z,x[5],w,Kn):Le(x[5]),st)},i(x){d||(ge(p,x),ge(g,x),ge(L,x),d=!0)},o(x){ve(p,x),ve(g,x),ve(L,x),d=!1},d(x){x&&v(t),p&&p.d(x),k&&k.d(),ee(_,x),g&&g.d(x),e[7](null),L&&L.d(x)}}}function Xn(e,t,n){let{$$slots:i={},$$scope:r}=t,{contentsLabel:a="Page contents"}=t,l,s,o,f=[],u=[],c;function d(){n(4,c=`toc-${Math.floor(Math.random()*1e5)}`),l.clientHeight/2;const p=new IntersectionObserver((k,A)=>{for(let _=0;_<k.length;_++)if(k[_].isIntersecting){n(2,o=k[_].target.id);break}},{root:null,rootMargin:"0% 0% -70% 0%",threshold:0});return s=l.querySelectorAll("section"),s.forEach((k,A)=>{const _=k.title,b=_.toLowerCase().replaceAll(" ","-");k.id=b,A===0&&n(2,o=b),u=[...u,new Yn({props:{tocId:c},target:k})],n(3,f=[...f,{label:_,slug:b}]),p.observe(k)}),{destroy(){u.forEach(k=>k.$destroy()),n(3,f=[]),u=[]}}}xn(d);function y(p){$[p?"unshift":"push"](()=>{l=p,n(1,l)})}return e.$$set=p=>{"contentsLabel"in p&&n(0,a=p.contentsLabel),"$$scope"in p&&n(5,r=p.$$scope)},[a,l,o,f,c,r,i,y]}class Gl extends K{constructor(t){super(),Z(this,t,Xn,Qn,Q,{contentsLabel:0})}}function Un(e){let t,n=`${e[0]}px`,i=`${e[1]}px`,r;const a=e[3].default,l=Ce(a,e,e[2],null);return{c(){t=C("div"),l&&l.c(),this.h()},l(s){t=E(s,"DIV",{class:!0});var o=I(t);l&&l.l(o),o.forEach(v),this.h()},h(){h(t,"class","placeholder-container svelte-1mhohmc"),M(t,"height",n),M(t,"margin-bottom",i)},m(s,o){P(s,t,o),l&&l.m(t,null),r=!0},p(s,[o]){l&&l.p&&(!r||o&4)&&Ee(l,a,s,s[2],r?Pe(a,s[2],o,null):Le(s[2]),null),o&1&&n!==(n=`${s[0]}px`)&&M(t,"height",n),o&2&&i!==(i=`${s[1]}px`)&&M(t,"margin-bottom",i)},i(s){r||(ge(l,s),r=!0)},o(s){ve(l,s),r=!1},d(s){s&&v(t),l&&l.d(s)}}}function Gn(e,t,n){let{$$slots:i={},$$scope:r}=t,{height:a=400}=t,{margin:l=40}=t;return e.$$set=s=>{"height"in s&&n(0,a=s.height),"margin"in s&&n(1,l=s.margin),"$$scope"in s&&n(2,r=s.$$scope)},[a,l,r,i]}class Jl extends K{constructor(t){super(),Z(this,t,Gn,Un,Q,{height:0,margin:1})}}function ht(e,t,n){const i=e.slice();return i[8]=t[n],i[10]=n,i}function dt(e){let t,n,i,r,a,l=e[8]+"",s,o,f,u,c;return f=Rt(e[7][0]),{c(){t=C("label"),n=C("input"),i=W(),r=C("div"),a=C("p"),s=re(l),o=W(),this.h()},l(d){t=E(d,"LABEL",{style:!0,class:!0});var y=I(t);n=E(y,"INPUT",{style:!0,type:!0,name:!0}),i=Y(y),r=E(y,"DIV",{class:!0,style:!0});var p=I(r);a=E(p,"P",{style:!0,class:!0});var k=I(a);s=le(k,l),k.forEach(v),p.forEach(v),o=Y(y),y.forEach(v),this.h()},h(){M(n,"display","none"),h(n,"type","radio"),n.__value=e[10],n.value=n.__value,h(n,"name",e[2]),M(a,"font-size",e[4]),h(a,"class","svelte-1o62d9i"),h(r,"class","optionLabel svelte-1o62d9i"),M(r,"background-color",e[0]===e[10]?"white":"#e3e3e3"),M(t,"margin-bottom",e[3]),M(t,"max-width",e[5]/e[1].length-10+"px"),h(t,"class","svelte-1o62d9i"),f.p(n)},m(d,y){P(d,t,y),S(t,n),n.checked=n.__value===e[0],S(t,i),S(t,r),S(r,a),S(a,s),S(t,o),u||(c=ce(n,"change",e[6]),u=!0)},p(d,y){y&4&&h(n,"name",d[2]),y&3&&(n.checked=n.__value===d[0]),y&2&&l!==(l=d[8]+"")&&de(s,l),y&16&&M(a,"font-size",d[4]),y&1&&M(r,"background-color",d[0]===d[10]?"white":"#e3e3e3"),y&8&&M(t,"margin-bottom",d[3]),y&34&&M(t,"max-width",d[5]/d[1].length-10+"px")},d(d){d&&v(t),f.r(),u=!1,c()}}}function Jn(e){let t,n=e[1],i=[];for(let r=0;r<n.length;r+=1)i[r]=dt(ht(e,n,r));return{c(){t=C("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=E(r,"DIV",{class:!0});var a=I(t);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach(v),this.h()},h(){h(t,"class","radio-container svelte-1o62d9i")},m(r,a){P(r,t,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null)},p(r,[a]){if(a&63){n=r[1];let l;for(l=0;l<n.length;l+=1){const s=ht(r,n,l);i[l]?i[l].p(s,a):(i[l]=dt(s),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:q,o:q,d(r){r&&v(t),ee(i,r)}}}function jn(e,t,n){let{optionsArray:i,chosenId:r,name:a,marginBottom:l=null,fontSize:s=null,width:o}=t;const f=[[]];function u(){r=this.__value,n(0,r)}return e.$$set=c=>{"optionsArray"in c&&n(1,i=c.optionsArray),"chosenId"in c&&n(0,r=c.chosenId),"name"in c&&n(2,a=c.name),"marginBottom"in c&&n(3,l=c.marginBottom),"fontSize"in c&&n(4,s=c.fontSize),"width"in c&&n(5,o=c.width)},[r,i,a,l,s,o,u,f]}class jl extends K{constructor(t){super(),Z(this,t,jn,Jn,Q,{optionsArray:1,chosenId:0,name:2,marginBottom:3,fontSize:4,width:5})}}class Ht{constructor(t,n,i){this.items=t,this.diameter=n*2,this.diameterSq=this.diameter*this.diameter,this.xFun=i,this.tieBreakFn=r=>r,this._oneSided=!1}withTiesBrokenRandomly(){return this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this}oneSided(){return this._oneSided=!0,this}calculateYPositions(){let t=this.items.map((r,a)=>({datum:r,originalIndex:a,x:this.xFun(r),y:null,placed:!1,minPositiveY:0,maxNegativeY:0,score:0,bestPosition:0,heapPos:-1})).sort((r,a)=>r.x-a.x);t.forEach(function(r,a){r.index=a});let n=this.tieBreakFn;t.forEach(function(r){r.tieBreaker=n(r.x)});let i=new $n;for(i.push(...t);!i.isEmpty();){let r=i.pop();r.placed=!0,r.y=r.bestPosition,this._updateYBounds(r,t,i)}return t.sort((r,a)=>r.originalIndex-a.originalIndex),t.map(r=>({datum:r.datum,x:r.x,y:r.y}))}_sfc32(t,n,i,r){let a=function(){t>>>=0,n>>>=0,i>>>=0,r>>>=0;var l=t+n|0;return t=n^n>>>9,n=i+(i<<3)|0,i=i<<21|i>>>11,r=r+1|0,l=l+r|0,i=i+l|0,(l>>>0)/4294967296};for(let l=0;l<10;l++)a();return a}_updateYBounds(t,n,i){for(let r of[-1,1]){let a;for(let l=t.index+r;l>=0&&l<n.length&&(a=Math.abs(t.x-n[l].x))<this.diameter;l+=r){let s=n[l];if(s.placed)continue;let o=Math.sqrt(this.diameterSq-a*a);s.minPositiveY=Math.max(s.minPositiveY,t.y+o);let f=s.score;s.score=s.minPositiveY,s.bestPosition=s.minPositiveY,this._oneSided||(s.maxNegativeY=Math.min(s.maxNegativeY,t.y-o),-s.maxNegativeY<s.score&&(s.score=-s.maxNegativeY,s.bestPosition=s.maxNegativeY)),s.score>f&&i.deprioritise(s)}}}}class $n{parent(t){return(t+1>>>1)-1}left(t){return(t<<1)+1}right(t){return t+1<<1}constructor(){this.TOP=0,this._heap=[]}size(){return this._heap.length}isEmpty(){return this.size()==0}peek(){return this._heap[this.TOP]}push(...t){return t.forEach(n=>{n.heapPos=this.size(),this._heap.push(n),this._siftUp()}),this.size()}pop(){const t=this.peek(),n=this.size()-1;return n>this.TOP&&this._swap(this.TOP,n),this._heap.pop(),this._siftDown(),t}deprioritise(t){this._siftDown(t.heapPos)}_greater(t,n){let i=this._heap[t],r=this._heap[n];return i.score<r.score?!0:i.score>r.score?!1:i.tieBreaker<r.tieBreaker}_swap(t,n){let i=this._heap[t];this._heap[t]=this._heap[n],this._heap[n]=i,this._heap[t].heapPos=t,this._heap[n].heapPos=n}_siftUp(){let t=this.size()-1;for(;t>this.TOP&&this._greater(t,this.parent(t));)this._swap(t,this.parent(t)),t=this.parent(t)}_siftDown(t=this.TOP){let n,i,r=this.size();for(;n=this.left(t),i=this.right(t),n<r&&this._greater(n,t)||i<r&&this._greater(i,t);){let a=i<r&&this._greater(i,n)?i:n;this._swap(t,a),t=a}}}var Ye="http://www.w3.org/1999/xhtml";const _t={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),_t.hasOwnProperty(t)?{space:_t[t],local:e}:e}function ei(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ye&&t.documentElement.namespaceURI===Ye?t.createElement(e):t.createElementNS(n,e)}}function ti(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Yt(e){var t=Wt(e);return(t.local?ti:ei)(t)}function ni(){}function Kt(e){return e==null?ni:function(){return this.querySelector(e)}}function ii(e){typeof e!="function"&&(e=Kt(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,s=i[r]=new Array(l),o,f,u=0;u<l;++u)(o=a[u])&&(f=e.call(o,o.__data__,u,a))&&("__data__"in o&&(f.__data__=o.__data__),s[u]=f);return new F(i,this._parents)}function ri(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function li(){return[]}function ai(e){return e==null?li:function(){return this.querySelectorAll(e)}}function si(e){return function(){return ri(e.apply(this,arguments))}}function oi(e){typeof e=="function"?e=si(e):e=ai(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var l=t[a],s=l.length,o,f=0;f<s;++f)(o=l[f])&&(i.push(e.call(o,o.__data__,f,l)),r.push(o));return new F(i,r)}function fi(e){return function(){return this.matches(e)}}function Zt(e){return function(t){return t.matches(e)}}var ui=Array.prototype.find;function ci(e){return function(){return ui.call(this.children,e)}}function hi(){return this.firstElementChild}function di(e){return this.select(e==null?hi:ci(typeof e=="function"?e:Zt(e)))}var _i=Array.prototype.filter;function mi(){return Array.from(this.children)}function gi(e){return function(){return _i.call(this.children,e)}}function vi(e){return this.selectAll(e==null?mi:gi(typeof e=="function"?e:Zt(e)))}function bi(e){typeof e!="function"&&(e=fi(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],l=a.length,s=i[r]=[],o,f=0;f<l;++f)(o=a[f])&&e.call(o,o.__data__,f,a)&&s.push(o);return new F(i,this._parents)}function Qt(e){return new Array(e.length)}function yi(){return new F(this._enter||this._groups.map(Qt),this._parents)}function De(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}De.prototype={constructor:De,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function pi(e){return function(){return e}}function wi(e,t,n,i,r,a){for(var l=0,s,o=t.length,f=a.length;l<f;++l)(s=t[l])?(s.__data__=a[l],i[l]=s):n[l]=new De(e,a[l]);for(;l<o;++l)(s=t[l])&&(r[l]=s)}function ki(e,t,n,i,r,a,l){var s,o,f=new Map,u=t.length,c=a.length,d=new Array(u),y;for(s=0;s<u;++s)(o=t[s])&&(d[s]=y=l.call(o,o.__data__,s,t)+"",f.has(y)?r[s]=o:f.set(y,o));for(s=0;s<c;++s)y=l.call(e,a[s],s,a)+"",(o=f.get(y))?(i[s]=o,o.__data__=a[s],f.delete(y)):n[s]=new De(e,a[s]);for(s=0;s<u;++s)(o=t[s])&&f.get(d[s])===o&&(r[s]=o)}function xi(e){return e.__data__}function Ii(e,t){if(!arguments.length)return Array.from(this,xi);var n=t?ki:wi,i=this._parents,r=this._groups;typeof e!="function"&&(e=pi(e));for(var a=r.length,l=new Array(a),s=new Array(a),o=new Array(a),f=0;f<a;++f){var u=i[f],c=r[f],d=c.length,y=Si(e.call(u,u&&u.__data__,f,i)),p=y.length,k=s[f]=new Array(p),A=l[f]=new Array(p),_=o[f]=new Array(d);n(u,c,k,A,_,y,t);for(var b=0,g=0,z,L;b<p;++b)if(z=k[b]){for(b>=g&&(g=b+1);!(L=A[g])&&++g<p;);z._next=L||null}}return l=new F(l,i),l._enter=s,l._exit=o,l}function Si(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ai(){return new F(this._exit||this._groups.map(Qt),this._parents)}function Mi(e,t,n){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function Ni(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,l=Math.min(r,a),s=new Array(r),o=0;o<l;++o)for(var f=n[o],u=i[o],c=f.length,d=s[o]=new Array(c),y,p=0;p<c;++p)(y=f[p]||u[p])&&(d[p]=y);for(;o<r;++o)s[o]=n[o];return new F(s,this._parents)}function Ci(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,a=i[r],l;--r>=0;)(l=i[r])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function Ei(e){e||(e=Li);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var l=n[a],s=l.length,o=r[a]=new Array(s),f,u=0;u<s;++u)(f=l[u])&&(o[u]=f);o.sort(t)}return new F(r,this._parents).order()}function Li(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Pi(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Bi(){return Array.from(this)}function Di(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var l=i[r];if(l)return l}return null}function zi(){let e=0;for(const t of this)++e;return e}function Vi(){return!this.node()}function qi(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],a=0,l=r.length,s;a<l;++a)(s=r[a])&&e.call(s,s.__data__,a,r);return this}function Oi(e){return function(){this.removeAttribute(e)}}function Ri(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ti(e,t){return function(){this.setAttribute(e,t)}}function Fi(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Hi(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Wi(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Yi(e,t){var n=Wt(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Ri:Oi:typeof t=="function"?n.local?Wi:Hi:n.local?Fi:Ti)(n,t))}function Xt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ki(e){return function(){this.style.removeProperty(e)}}function Zi(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Qi(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Xi(e,t,n){return arguments.length>1?this.each((t==null?Ki:typeof t=="function"?Qi:Zi)(e,t,n??"")):Ui(this.node(),e)}function Ui(e,t){return e.style.getPropertyValue(t)||Xt(e).getComputedStyle(e,null).getPropertyValue(t)}function Gi(e){return function(){delete this[e]}}function Ji(e,t){return function(){this[e]=t}}function ji(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $i(e,t){return arguments.length>1?this.each((t==null?Gi:typeof t=="function"?ji:Ji)(e,t)):this.node()[e]}function Ut(e){return e.trim().split(/^|\s+/)}function Ue(e){return e.classList||new Gt(e)}function Gt(e){this._node=e,this._names=Ut(e.getAttribute("class")||"")}Gt.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Jt(e,t){for(var n=Ue(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function jt(e,t){for(var n=Ue(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function er(e){return function(){Jt(this,e)}}function tr(e){return function(){jt(this,e)}}function nr(e,t){return function(){(t.apply(this,arguments)?Jt:jt)(this,e)}}function ir(e,t){var n=Ut(e+"");if(arguments.length<2){for(var i=Ue(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?nr:t?er:tr)(n,t))}function rr(){this.textContent=""}function lr(e){return function(){this.textContent=e}}function ar(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sr(e){return arguments.length?this.each(e==null?rr:(typeof e=="function"?ar:lr)(e)):this.node().textContent}function or(){this.innerHTML=""}function fr(e){return function(){this.innerHTML=e}}function ur(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function cr(e){return arguments.length?this.each(e==null?or:(typeof e=="function"?ur:fr)(e)):this.node().innerHTML}function hr(){this.nextSibling&&this.parentNode.appendChild(this)}function dr(){return this.each(hr)}function _r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mr(){return this.each(_r)}function gr(e){var t=typeof e=="function"?e:Yt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vr(){return null}function br(e,t){var n=typeof e=="function"?e:Yt(e),i=t==null?vr:typeof t=="function"?t:Kt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function yr(){var e=this.parentNode;e&&e.removeChild(this)}function pr(){return this.each(yr)}function wr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xr(e){return this.select(e?kr:wr)}function Ir(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Sr(e){return function(t){e.call(this,t,this.__data__)}}function Ar(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Mr(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function Nr(e,t,n){return function(){var i=this.__on,r,a=Sr(t);if(i){for(var l=0,s=i.length;l<s;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Cr(e,t,n){var i=Ar(e+""),r,a=i.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var o=0,f=s.length,u;o<f;++o)for(r=0,u=s[o];r<a;++r)if((l=i[r]).type===u.type&&l.name===u.name)return u.value}return}for(s=t?Nr:Mr,r=0;r<a;++r)this.each(s(i[r],t,n));return this}function $t(e,t,n){var i=Xt(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Er(e,t){return function(){return $t(this,e,t)}}function Lr(e,t){return function(){return $t(this,e,t.apply(this,arguments))}}function Pr(e,t){return this.each((typeof t=="function"?Lr:Er)(e,t))}function*Br(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length,l;r<a;++r)(l=i[r])&&(yield l)}var Dr=[null];function F(e,t){this._groups=e,this._parents=t}function zr(){return this}F.prototype={constructor:F,select:ii,selectAll:oi,selectChild:di,selectChildren:vi,filter:bi,data:Ii,enter:yi,exit:Ai,join:Mi,merge:Ni,selection:zr,order:Ci,sort:Ei,call:Pi,nodes:Bi,node:Di,size:zi,empty:Vi,each:qi,attr:Yi,style:Xi,property:$i,classed:ir,text:sr,html:cr,raise:dr,lower:mr,append:gr,insert:br,remove:pr,clone:xr,datum:Ir,on:Cr,dispatch:Pr,[Symbol.iterator]:Br};function Vr(e){return typeof e=="string"?new F([[document.querySelector(e)]],[document.documentElement]):new F([[e]],Dr)}function mt(e,t,n){const i=e.slice();return i[16]=t[n],i[18]=n,i}function gt(e,t,n){const i=e.slice();return i[16]=t[n],i[18]=n,i}function vt(e){let t,n,i,r;return{c(){t=B("g"),n=B("circle"),this.h()},l(a){t=D(a,"g",{transform:!0});var l=I(t);n=D(l,"circle",{r:!0,stroke:!0,fill:!0,opacity:!0}),I(n).forEach(v),l.forEach(v),this.h()},h(){h(n,"r",i=V.background[e[1]===0?"split":"full"]+1),h(n,"stroke","none"),h(n,"fill","white"),h(n,"opacity","1"),h(t,"transform",r="translate("+e[16].x+","+e[2](e[16].y)+")")},m(a,l){P(a,t,l),S(t,n)},p(a,l){l&2&&i!==(i=V.background[a[1]===0?"split":"full"]+1)&&h(n,"r",i),l&12&&r!==(r="translate("+a[16].x+","+a[2](a[16].y)+")")&&h(t,"transform",r)},d(a){a&&v(t)}}}function bt(e){let t,n,i,r,a,l,s;return{c(){t=B("g"),n=B("circle"),this.h()},l(o){t=D(o,"g",{transform:!0});var f=I(t);n=D(f,"circle",{hoverid:!0,r:!0,stroke:!0,fill:!0,opacity:!0}),I(n).forEach(v),f.forEach(v),this.h()},h(){h(n,"hoverid",i=e[16].datum.areacd),h(n,"r",r=V.background[e[1]===0?"split":"full"]),h(n,"stroke","none"),h(n,"fill","#cccccc"),h(n,"opacity","0.5"),h(t,"transform",a="translate("+e[16].x+","+e[2](e[16].y)+")")},m(o,f){P(o,t,f),S(t,n),l||(s=[ce(n,"mouseover",e[4]),ce(n,"mouseleave",e[5]),ce(n,"focus",e[4])],l=!0)},p(o,f){f&8&&i!==(i=o[16].datum.areacd)&&h(n,"hoverid",i),f&2&&r!==(r=V.background[o[1]===0?"split":"full"])&&h(n,"r",r),f&12&&a!==(a="translate("+o[16].x+","+o[2](o[16].y)+")")&&h(t,"transform",a)},d(o){o&&v(t),l=!1,In(s)}}}function qr(e){let t,n,i,r,a=e[3],l=[];for(let f=0;f<a.length;f+=1)l[f]=vt(gt(e,a,f));let s=e[3],o=[];for(let f=0;f<s.length;f+=1)o[f]=bt(mt(e,s,f));return{c(){t=B("g");for(let f=0;f<l.length;f+=1)l[f].c();n=W(),i=B("g");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){t=D(f,"g",{class:!0});var u=I(t);for(let d=0;d<l.length;d+=1)l[d].l(u);u.forEach(v),n=Y(f),i=D(f,"g",{class:!0,opacity:!0});var c=I(i);for(let d=0;d<o.length;d+=1)o[d].l(c);c.forEach(v),this.h()},h(){h(t,"class","backgroundCirclesGroup"),h(i,"class","backgroundCirclesGroup"),h(i,"opacity",r=e[0]===null?1:.3)},m(f,u){P(f,t,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);P(f,n,u),P(f,i,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,null)},p(f,[u]){if(u&14){a=f[3];let c;for(c=0;c<a.length;c+=1){const d=gt(f,a,c);l[c]?l[c].p(d,u):(l[c]=vt(d),l[c].c(),l[c].m(t,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}if(u&62){s=f[3];let c;for(c=0;c<s.length;c+=1){const d=mt(f,s,c);o[c]?o[c].p(d,u):(o[c]=bt(d),o[c].c(),o[c].m(i,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}u&1&&r!==(r=f[0]===null?1:.3)&&h(i,"opacity",r)},i:q,o:q,d(f){f&&v(t),ee(l,f),f&&v(n),f&&v(i),ee(o,f)}}}function Or(e,t,n){let i,r,{chosenId3:a}=t,{visibleAreas:l,backgroundLatestData:s}=t,{x:o,y:f,yDomainGlobal:u}=t,{scaleWidth:c}=t,{medianValue:d,medianAbsoluteDeviation:y}=t,{chartIndex:p,hoverIndex:k,hoverChartIndex:A}=t;function _(g){let z=Vr(this).attr("hoverid");!l.map(L=>L.areacd).includes(k)&a!=0&&(n(0,k=z),n(7,A=p))}function b(g){n(0,k=null),n(7,A=null)}return e.$$set=g=>{"chosenId3"in g&&n(1,a=g.chosenId3),"visibleAreas"in g&&n(8,l=g.visibleAreas),"backgroundLatestData"in g&&n(9,s=g.backgroundLatestData),"x"in g&&n(10,o=g.x),"y"in g&&n(2,f=g.y),"yDomainGlobal"in g&&n(6,u=g.yDomainGlobal),"scaleWidth"in g&&n(11,c=g.scaleWidth),"medianValue"in g&&n(12,d=g.medianValue),"medianAbsoluteDeviation"in g&&n(13,y=g.medianAbsoluteDeviation),"chartIndex"in g&&n(14,p=g.chartIndex),"hoverIndex"in g&&n(0,k=g.hoverIndex),"hoverChartIndex"in g&&n(7,A=g.hoverChartIndex)},e.$$.update=()=>{e.$$.dirty&12800&&n(15,i=s.map(g=>({...g,zScore:(g.value-d)/y}))),e.$$.dirty&35842&&n(3,r=new Ht(i,V.background[a===0?"split":"full"],g=>o(g.zScore)>c?c+T.areaSpaceBeyondXScale/2:o(g.zScore)<0?-T.areaSpaceBeyondXScale/2:o(g.zScore)).calculateYPositions()),e.$$.dirty&72&&n(6,u[0]=r!=null?Math.min(...r.map(g=>g.y),u[0]):u[0],u),e.$$.dirty&72&&n(6,u[1]=r!=null?Math.max(...r.map(g=>g.y),u[1]):u[1],u)},[k,a,f,r,_,b,u,A,l,s,o,c,d,y,p,i]}class $l extends K{constructor(t){super(),Z(this,t,Or,qr,Q,{chosenId3:1,visibleAreas:8,backgroundLatestData:9,x:10,y:2,yDomainGlobal:6,scaleWidth:11,medianValue:12,medianAbsoluteDeviation:13,chartIndex:14,hoverIndex:0,hoverChartIndex:7})}}function yt(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function Rr(e){let t,n,i;return{c(){t=B("circle"),this.h()},l(r){t=D(r,"circle",{"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),I(t).forEach(v),this.h()},h(){h(t,"pointer-events","none"),h(t,"r",n=V.primary[e[0]===0?"split":"full"]),h(t,"stroke","white"),h(t,"stroke-width","1px"),h(t,"fill",i=X[e[20].datum.role]),h(t,"opacity","1")},m(r,a){P(r,t,a)},p(r,a){a&1&&n!==(n=V.primary[r[0]===0?"split":"full"])&&h(t,"r",n),a&8&&i!==(i=X[r[20].datum.role])&&h(t,"fill",i)},d(r){r&&v(t)}}}function Tr(e){let t,n,i,r,a,l,s;return{c(){t=B("rect"),this.h()},l(o){t=D(o,"rect",{"pointer-events":!0,transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0});var f=I(t);f.forEach(v),this.h()},h(){h(t,"pointer-events","none"),h(t,"transform",n=["country","uk"].includes(e[20].datum.role)?"rotate(45)":null),h(t,"x",i=-V.primary[e[0]===0?"split":"full"]),h(t,"y",r=-V.primary[e[0]===0?"split":"full"]),h(t,"width",a=V.primary[e[0]===0?"split":"full"]*2),h(t,"height",l=V.primary[e[0]===0?"split":"full"]*2),h(t,"fill",s=X[e[20].datum.role]),h(t,"stroke","white"),h(t,"stroke-width","1px"),h(t,"opacity","1")},m(o,f){P(o,t,f)},p(o,f){f&8&&n!==(n=["country","uk"].includes(o[20].datum.role)?"rotate(45)":null)&&h(t,"transform",n),f&1&&i!==(i=-V.primary[o[0]===0?"split":"full"])&&h(t,"x",i),f&1&&r!==(r=-V.primary[o[0]===0?"split":"full"])&&h(t,"y",r),f&1&&a!==(a=V.primary[o[0]===0?"split":"full"]*2)&&h(t,"width",a),f&1&&l!==(l=V.primary[o[0]===0?"split":"full"]*2)&&h(t,"height",l),f&8&&s!==(s=X[o[20].datum.role])&&h(t,"fill",s)},d(o){o&&v(t)}}}function pt(e){let t,n,i,r,a;function l(f,u){return u&8&&(i=null),i==null&&(i=!!["parent","country","uk"].includes(f[20].datum.role)),i?Tr:Rr}let s=l(e,-1),o=s(e);return{c(){t=B("g"),n=B("g"),o.c(),this.h()},l(f){t=D(f,"g",{transform:!0});var u=I(t);n=D(u,"g",{transform:!0});var c=I(n);o.l(c),c.forEach(v),u.forEach(v),this.h()},h(){h(n,"transform",r="scale("+(e[0]===0&e[22]===0&e[4].length===2?.75:1)+")"),h(t,"transform",a="translate("+e[20].x+","+(e[20].y+e[5])+")")},m(f,u){P(f,t,u),S(t,n),o.m(n,null)},p(f,u){s===(s=l(f,u))&&o?o.p(f,u):(o.d(1),o=s(f),o&&(o.c(),o.m(n,null))),u&17&&r!==(r="scale("+(f[0]===0&f[22]===0&f[4].length===2?.75:1)+")")&&h(n,"transform",r),u&40&&a!==(a="translate("+f[20].x+","+(f[20].y+f[5])+")")&&h(t,"transform",a)},d(f){f&&v(t),o.d()}}}function Fr(e){let t,n,i,r=e[3].reverse(),a=[];for(let l=0;l<r.length;l+=1)a[l]=pt(yt(e,r,l));return{c(){t=B("g");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){t=D(l,"g",{class:!0,transform:!0,opacity:!0});var s=I(t);for(let o=0;o<a.length;o+=1)a[o].l(s);s.forEach(v),this.h()},h(){h(t,"class","primaryCirclesGroup"),h(t,"transform",n="translate(0,"+e[1](0)+")"),h(t,"opacity",i=e[2]===null?1:.2)},m(l,s){P(l,t,s);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null)},p(l,[s]){if(s&57){r=l[3].reverse();let o;for(o=0;o<r.length;o+=1){const f=yt(l,r,o);a[o]?a[o].p(f,s):(a[o]=pt(f),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=r.length}s&2&&n!==(n="translate(0,"+l[1](0)+")")&&h(t,"transform",n),s&4&&i!==(i=l[2]===null?1:.2)&&h(t,"opacity",i)},i:q,o:q,d(l){l&&v(t),ee(a,l)}}}function Hr(e,t,n){let i,r,a,l,s,{mainLatestValueT:o}=t,{comparisonLatestValueT:f}=t,{baselineComparisonArea:u}=t,{baselineComparisonName:c}=t,{chosenId3:d}=t,{visibleAreas:y,latestData:p}=t,{scaleWidth:k}=t,{y:A,x:_}=t,{medianValue:b,medianAbsoluteDeviation:g}=t,{hoverIndex:z}=t,L=tt("selectedArea"),x=tt("selectedAndRelatedAreas");return e.$$set=w=>{"mainLatestValueT"in w&&n(6,o=w.mainLatestValueT),"comparisonLatestValueT"in w&&n(7,f=w.comparisonLatestValueT),"baselineComparisonArea"in w&&n(8,u=w.baselineComparisonArea),"baselineComparisonName"in w&&n(9,c=w.baselineComparisonName),"chosenId3"in w&&n(0,d=w.chosenId3),"visibleAreas"in w&&n(10,y=w.visibleAreas),"latestData"in w&&n(11,p=w.latestData),"scaleWidth"in w&&n(12,k=w.scaleWidth),"y"in w&&n(1,A=w.y),"x"in w&&n(13,_=w.x),"medianValue"in w&&n(14,b=w.medianValue),"medianAbsoluteDeviation"in w&&n(15,g=w.medianAbsoluteDeviation),"hoverIndex"in w&&n(2,z=w.hoverIndex)},e.$$.update=()=>{e.$$.dirty&960&&n(4,i=[{areacd:L.areacd,areanm:L.areanm,value:o},{areacd:u.areacd,areanm:c,value:f}].filter(w=>w.value!=null)),e.$$.dirty&16&&console.log(i),e.$$.dirty&52241&&n(17,r=(d===0?i:p.filter(w=>y.map(N=>N.areacd).includes(w.areacd))).map(w=>({...w,role:w.areacd==="median"?"median":[...x,...y].find(N=>w.areacd===N.areacd).role,zScore:(w.value-b)/g}))),e.$$.dirty&143361&&n(3,a=new Ht(r,d===0?V.primary.split*.6:V.primary.full+1.5,w=>_(w.zScore)>k?k+T.areaSpaceBeyondXScale/2:_(w.zScore)<0?-T.areaSpaceBeyondXScale/2:_(w.zScore)).calculateYPositions()),e.$$.dirty&8&&n(16,l=[Math.min(...a.map(w=>w.y)),Math.max(...a.map(w=>w.y))]),e.$$.dirty&65536&&n(5,s=-(l[0]+l[1])/2)},[d,A,z,a,i,s,o,f,u,c,y,p,k,_,b,g,l,r]}class ea extends K{constructor(t){super(),Z(this,t,Hr,Fr,Q,{mainLatestValueT:6,comparisonLatestValueT:7,baselineComparisonArea:8,baselineComparisonName:9,chosenId3:0,visibleAreas:10,latestData:11,scaleWidth:12,y:1,x:13,medianValue:14,medianAbsoluteDeviation:15,hoverIndex:2})}}function wt(e,t,n){const i=e.slice();return i[9]=t[n],i[10]=t,i[11]=n,i}function kt(e){let t,n=e[3].sort(It),i=[];for(let r=0;r<n.length;r+=1)i[r]=xt(wt(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=nt()},l(r){for(let a=0;a<i.length;a+=1)i[a].l(r);t=nt()},m(r,a){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,a);P(r,t,a)},p(r,a){if(a&61){n=r[3].sort(It);let l;for(l=0;l<n.length;l+=1){const s=wt(r,n,l);i[l]?i[l].p(s,a):(i[l]=xt(s),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){ee(i,r),r&&v(t)}}}function xt(e){let t,n,i,r,a,l,s=e[2].prefix+lt(at(e[9].datum.value,e[2].decimalPlaces))+e[2].suffix+"",o,f,u,c,d,y,p;function k(){e[8].call(l,e[11])}return{c(){t=B("g"),n=B("rect"),l=B("text"),o=re(s),this.h()},l(A){t=D(A,"g",{class:!0,transform:!0});var _=I(t);n=D(_,"rect",{labelid:!0,transform:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0}),I(n).forEach(v),l=D(_,"text",{labelid:!0,transform:!0,x:!0,y:!0,"text-anchor":!0,"stroke-width":!0,stroke:!0,fill:!0,"font-size":!0});var b=I(l);o=le(b,s),b.forEach(v),_.forEach(v),this.h()},h(){h(n,"labelid",e[11]),h(n,"transform","translate(0,0)"),h(n,"x","0"),h(n,"y","0"),h(n,"width",i=e[5].length>e[11]?e[5][e[11]].width+6:0),h(n,"height",r=e[9].datum.role==="median"?21:24),h(n,"rx","3px"),h(n,"stroke",a=X[e[9].datum.role]),h(n,"fill","white"),h(n,"stroke-width","1.5px"),h(l,"labelid",e[11]),h(l,"transform","translate(0,0)"),h(l,"x","3"),h(l,"y",f=e[9].datum.role==="median"?16:18),h(l,"text-anchor","start"),h(l,"stroke-width","0.25px"),h(l,"stroke",u=X[e[9].datum.role]),h(l,"fill",c=X[e[9].datum.role]),h(l,"font-size",d=e[9].datum.role==="median"?"16px":"18px"),h(t,"class","value-label-group"),h(t,"transform",p="translate("+Math.min(e[0]+T.right+T.areaSpaceBeyondXScale-(e[5][e[11]]==null?0:e[5][e[11]].width+6),Math.max(-T.left-T.areaSpaceBeyondXScale,e[9].x-(e[5][e[11]]==null?0:e[11]===0?e[5][e[11]].width+6:0)))+","+(e[4](0)+12)+")")},m(A,_){P(A,t,_),S(t,n),S(t,l),S(l,o),y=Sn.observe(l,k.bind(l))},p(A,_){e=A,_&32&&i!==(i=e[5].length>e[11]?e[5][e[11]].width+6:0)&&h(n,"width",i),_&8&&r!==(r=e[9].datum.role==="median"?21:24)&&h(n,"height",r),_&8&&a!==(a=X[e[9].datum.role])&&h(n,"stroke",a),_&12&&s!==(s=e[2].prefix+lt(at(e[9].datum.value,e[2].decimalPlaces))+e[2].suffix+"")&&de(o,s),_&8&&f!==(f=e[9].datum.role==="median"?16:18)&&h(l,"y",f),_&8&&u!==(u=X[e[9].datum.role])&&h(l,"stroke",u),_&8&&c!==(c=X[e[9].datum.role])&&h(l,"fill",c),_&8&&d!==(d=e[9].datum.role==="median"?"16px":"18px")&&h(l,"font-size",d),_&57&&p!==(p="translate("+Math.min(e[0]+T.right+T.areaSpaceBeyondXScale-(e[5][e[11]]==null?0:e[5][e[11]].width+6),Math.max(-T.left-T.areaSpaceBeyondXScale,e[9].x-(e[5][e[11]]==null?0:e[11]===0?e[5][e[11]].width+6:0)))+","+(e[4](0)+12)+")")&&h(t,"transform",p)},d(A){A&&v(t),y()}}}function Wr(e){let t,n=e[1]===0&&kt(e);return{c(){t=B("g"),n&&n.c(),this.h()},l(i){t=D(i,"g",{class:!0});var r=I(t);n&&n.l(r),r.forEach(v),this.h()},h(){h(t,"class","labels-group")},m(i,r){P(i,t,r),n&&n.m(t,null)},p(i,[r]){i[1]===0?n?n.p(i,r):(n=kt(i),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:q,o:q,d(i){i&&v(t),n&&n.d()}}}const It=(e,t)=>e.x-t.x;function Yr(e,t,n){let i,{scaleWidth:r}=t,{chosenId3:a}=t,{metadata:l}=t,{primaryCirclesStep2:s}=t,{y:o}=t,{hoverIndex:f,hoverChartIndex:u}=t;function c(d){var y;i[d]=(y=An.entries.get(this))==null?void 0:y.contentRect,n(5,i)}return e.$$set=d=>{"scaleWidth"in d&&n(0,r=d.scaleWidth),"chosenId3"in d&&n(1,a=d.chosenId3),"metadata"in d&&n(2,l=d.metadata),"primaryCirclesStep2"in d&&n(3,s=d.primaryCirclesStep2),"y"in d&&n(4,o=d.y),"hoverIndex"in d&&n(6,f=d.hoverIndex),"hoverChartIndex"in d&&n(7,u=d.hoverChartIndex)},n(5,i=[]),[r,a,l,s,o,i,f,u,c]}class ta extends K{constructor(t){super(),Z(this,t,Yr,Wr,Q,{scaleWidth:0,chosenId3:1,metadata:2,primaryCirclesStep2:3,y:4,hoverIndex:6,hoverChartIndex:7})}}function Kr(e){let t,n,i;return{c(){t=C("div"),n=B("svg"),i=B("path"),this.h()},l(r){t=E(r,"DIV",{class:!0});var a=I(t);n=D(a,"svg",{width:!0,height:!0,class:!0,viewBox:!0,style:!0});var l=I(n);i=D(l,"path",{d:!0}),I(i).forEach(v),l.forEach(v),a.forEach(v),this.h()},h(){h(i,"d","M24.15 34q.65 0 1.075-.425.425-.425.425-1.075v-9.05q0-.6-.45-1.025Q24.75 22 24.15 22q-.65 0-1.075.425-.425.425-.425 1.075v9.05q0 .6.45 1.025.45.425 1.05.425ZM24 18.3q.7 0 1.175-.45.475-.45.475-1.15t-.475-1.2Q24.7 15 24 15q-.7 0-1.175.5-.475.5-.475 1.2t.475 1.15q.475.45 1.175.45ZM24 44q-4.25 0-7.9-1.525-3.65-1.525-6.35-4.225-2.7-2.7-4.225-6.35Q4 28.25 4 24q0-4.2 1.525-7.85Q7.05 12.5 9.75 9.8q2.7-2.7 6.35-4.25Q19.75 4 24 4q4.2 0 7.85 1.55Q35.5 7.1 38.2 9.8q2.7 2.7 4.25 6.35Q44 19.8 44 24q0 4.25-1.55 7.9-1.55 3.65-4.25 6.35-2.7 2.7-6.35 4.225Q28.2 44 24 44Zm0-20Zm0 17q7 0 12-5t5-12q0-7-5-12T24 7q-7 0-12 5T7 24q0 7 5 12t12 5Z"),h(n,"width","20"),h(n,"height","20"),h(n,"class","c h-16 w-16 inline svelte-nloqxl svelte-1fiksfe"),h(n,"viewBox","0 0 48 48"),M(n,"transform","rotate(0deg)"),h(t,"class","infoCell svelte-1fiksfe")},m(r,a){P(r,t,a),S(t,n),S(n,i)},p:q,i:q,o:q,d(r){r&&v(t)}}}class na extends K{constructor(t){super(),Z(this,t,null,Kr,Q,{})}}function St(e,t,n){const i=e.slice();return i[6]=t[n],i[8]=n,i}function At(e){let t,n=e[6]+"",i,r;return{c(){t=C("option"),i=re(n),this.h()},l(a){t=E(a,"OPTION",{});var l=I(t);i=le(l,n),l.forEach(v),this.h()},h(){t.__value=r=e[6],t.value=t.__value},m(a,l){P(a,t,l),S(t,i)},p(a,l){l&4&&n!==(n=a[6]+"")&&de(i,n),l&4&&r!==(r=a[6])&&(t.__value=r,t.value=t.__value)},d(a){a&&v(t)}}}function Zr(e){let t,n,i,r,a,l=e[2],s=[];for(let o=0;o<l.length;o+=1)s[o]=At(St(e,l,o));return{c(){t=C("div"),n=C("select");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=E(o,"DIV",{class:!0,style:!0});var f=I(t);n=E(f,"SELECT",{style:!0,id:!0,name:!0,class:!0});var u=I(n);for(let c=0;c<s.length;c+=1)s[c].l(u);u.forEach(v),f.forEach(v),this.h()},h(){M(n,"text-wrap","balance"),h(n,"id",e[1]),h(n,"name",e[1]),h(n,"class",i=it("ons-input ons-input--select"+(e[4]?" low-height":""))+" svelte-9zngwk"),e[0]===void 0&&Mn(()=>e[5].call(n)),h(t,"class","ons-field"),M(t,"width",e[3])},m(o,f){P(o,t,f),S(t,n);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(n,null);rt(n,e[0],!0),r||(a=ce(n,"change",e[5]),r=!0)},p(o,[f]){if(f&4){l=o[2];let u;for(u=0;u<l.length;u+=1){const c=St(o,l,u);s[u]?s[u].p(c,f):(s[u]=At(c),s[u].c(),s[u].m(n,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=l.length}f&2&&h(n,"id",o[1]),f&2&&h(n,"name",o[1]),f&16&&i!==(i=it("ons-input ons-input--select"+(o[4]?" low-height":""))+" svelte-9zngwk")&&h(n,"class",i),f&5&&rt(n,o[0]),f&8&&M(t,"width",o[3])},i:q,o:q,d(o){o&&v(t),ee(s,o),r=!1,a()}}}function Qr(e,t,n){let{chosenId:i,name:r="",optionsArray:a,width:l=null,lowHeight:s=!1}=t;function o(){i=Nn(this),n(0,i),n(2,a)}return e.$$set=f=>{"chosenId"in f&&n(0,i=f.chosenId),"name"in f&&n(1,r=f.name),"optionsArray"in f&&n(2,a=f.optionsArray),"width"in f&&n(3,l=f.width),"lowHeight"in f&&n(4,s=f.lowHeight)},[i,r,a,l,s,o]}class ia extends K{constructor(t){super(),Z(this,t,Qr,Zr,Q,{chosenId:0,name:1,optionsArray:2,width:3,lowHeight:4})}}function Mt(e,t,n){const i=e.slice();return i[5]=t[n],i[7]=n,i}function Nt(e){let t,n,i,r,a=e[5]+"",l,s,o,f,u;return o=Rt(e[4][0]),{c(){t=C("label"),n=C("input"),i=W(),r=C("p"),l=re(a),s=W(),this.h()},l(c){t=E(c,"LABEL",{class:!0});var d=I(t);n=E(d,"INPUT",{type:!0,name:!0}),i=Y(d),r=E(d,"P",{class:!0});var y=I(r);l=le(y,a),y.forEach(v),s=Y(d),d.forEach(v),this.h()},h(){h(n,"type","checkbox"),n.__value=e[7],n.value=n.__value,h(n,"name",e[2]),h(r,"class","svelte-bjsu5u"),h(t,"class","svelte-bjsu5u"),o.p(n)},m(c,d){P(c,t,d),S(t,n),n.checked=~(e[0]||[]).indexOf(n.__value),S(t,i),S(t,r),S(r,l),S(t,s),f||(u=ce(n,"change",e[3]),f=!0)},p(c,d){d&4&&h(n,"name",c[2]),d&3&&(n.checked=~(c[0]||[]).indexOf(n.__value)),d&2&&a!==(a=c[5]+"")&&de(l,a)},d(c){c&&v(t),o.r(),f=!1,u()}}}function Xr(e){let t,n=e[1],i=[];for(let r=0;r<n.length;r+=1)i[r]=Nt(Mt(e,n,r));return{c(){t=C("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=E(r,"DIV",{class:!0});var a=I(t);for(let l=0;l<i.length;l+=1)i[l].l(a);a.forEach(v),this.h()},h(){h(t,"class","radio-container svelte-bjsu5u")},m(r,a){P(r,t,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null)},p(r,[a]){if(a&7){n=r[1];let l;for(l=0;l<n.length;l+=1){const s=Mt(r,n,l);i[l]?i[l].p(s,a):(i[l]=Nt(s),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:q,o:q,d(r){r&&v(t),ee(i,r)}}}function Ur(e,t,n){let{optionsArray:i,chosenId:r,name:a}=t;const l=[[]];function s(){r=Cn(l[0],this.__value,this.checked),n(0,r)}return e.$$set=o=>{"optionsArray"in o&&n(1,i=o.optionsArray),"chosenId"in o&&n(0,r=o.chosenId),"name"in o&&n(2,a=o.name)},[r,i,a,s,l]}class ra extends K{constructor(t){super(),Z(this,t,Ur,Xr,Q,{optionsArray:1,chosenId:0,name:2})}}function Gr(e){let t,n,i,r,a,l,s,o,f;function u(_){e[39](_)}function c(_){e[40](_)}function d(_){e[41](_)}function y(_){e[42](_)}function p(_){e[43](_)}function k(_){e[44](_)}let A={id:e[2],container:e[3],items:e[4],placeholder:e[5],isMulti:e[10],isSearchable:e[6],groupBy:e[22],loadOptions:e[9],getSelectionLabel:e[12],getOptionLabel:e[21],itemFilter:e[19],ariaValues:e[25],ariaListOpen:e[26],ariaFocused:e[27],noOptionsMessage:e[20],indicatorSvg:e[23],containerStyles:e[24],optionIdentifier:e[8],showIndicator:!0,isClearable:e[7]?!e[10]:!1};return e[15]!==void 0&&(A.isFocused=e[15]),e[0]!==void 0&&(A.value=e[0]),e[16]!==void 0&&(A.listOpen=e[16]),e[1]!==void 0&&(A.filterText=e[1]),e[13]!==void 0&&(A.isWaiting=e[13]),e[17]!==void 0&&(A.handleClear=e[17]),n=new zn({props:A}),$.push(()=>oe(n,"isFocused",u)),$.push(()=>oe(n,"value",c)),$.push(()=>oe(n,"listOpen",d)),$.push(()=>oe(n,"filterText",y)),$.push(()=>oe(n,"isWaiting",p)),$.push(()=>oe(n,"handleClear",k)),n.$on("select",e[28]),n.$on("clear",e[45]),n.$on("loaded",e[46]),n.$on("error",e[47]),{c(){t=C("div"),En(n.$$.fragment),this.h()},l(_){t=E(_,"DIV",{class:!0});var b=I(t);Ln(n.$$.fragment,b),b.forEach(v),this.h()},h(){h(t,"class","selectbox svelte-gskmgd"),j(t,"multi-selected",e[0]&&e[10]),j(t,"focused",e[15]),j(t,"selected",e[0]&&!e[16]&&!e[10]),M(t,"--borderColor",e[11]),M(t,"--firstItem",e[18](0)),M(t,"--secondItem",e[18](1)),M(t,"--thirdItem",e[18](2)),M(t,"--fourthItem",e[18](3)),M(t,"--fifthItem",e[18](4)),M(t,"--sixthItem",e[18](5)),M(t,"--seventhItem",e[18](6)),M(t,"--eighthItem",e[18](7)),M(t,"--ninethItem",e[18](8)),M(t,"--tenthItem",e[18](9))},m(_,b){P(_,t,b),Pn(n,t,null),e[48](t),f=!0},p(_,b){const g={};b[0]&4&&(g.id=_[2]),b[0]&8&&(g.container=_[3]),b[0]&16&&(g.items=_[4]),b[0]&32&&(g.placeholder=_[5]),b[0]&1024&&(g.isMulti=_[10]),b[0]&64&&(g.isSearchable=_[6]),b[0]&512&&(g.loadOptions=_[9]),b[0]&4096&&(g.getSelectionLabel=_[12]),b[0]&524288&&(g.itemFilter=_[19]),b[0]&1048576&&(g.noOptionsMessage=_[20]),b[0]&256&&(g.optionIdentifier=_[8]),b[0]&1152&&(g.isClearable=_[7]?!_[10]:!1),!i&&b[0]&32768&&(i=!0,g.isFocused=_[15],fe(()=>i=!1)),!r&&b[0]&1&&(r=!0,g.value=_[0],fe(()=>r=!1)),!a&&b[0]&65536&&(a=!0,g.listOpen=_[16],fe(()=>a=!1)),!l&&b[0]&2&&(l=!0,g.filterText=_[1],fe(()=>l=!1)),!s&&b[0]&8192&&(s=!0,g.isWaiting=_[13],fe(()=>s=!1)),!o&&b[0]&131072&&(o=!0,g.handleClear=_[17],fe(()=>o=!1)),n.$set(g),(!f||b[0]&1025)&&j(t,"multi-selected",_[0]&&_[10]),(!f||b[0]&32768)&&j(t,"focused",_[15]),(!f||b[0]&66561)&&j(t,"selected",_[0]&&!_[16]&&!_[10]),b[0]&2048&&M(t,"--borderColor",_[11]),b[0]&262144&&M(t,"--firstItem",_[18](0)),b[0]&262144&&M(t,"--secondItem",_[18](1)),b[0]&262144&&M(t,"--thirdItem",_[18](2)),b[0]&262144&&M(t,"--fourthItem",_[18](3)),b[0]&262144&&M(t,"--fifthItem",_[18](4)),b[0]&262144&&M(t,"--sixthItem",_[18](5)),b[0]&262144&&M(t,"--seventhItem",_[18](6)),b[0]&262144&&M(t,"--eighthItem",_[18](7)),b[0]&262144&&M(t,"--ninethItem",_[18](8)),b[0]&262144&&M(t,"--tenthItem",_[18](9))},i(_){f||(ge(n.$$.fragment,_),f=!0)},o(_){ve(n.$$.fragment,_),f=!1},d(_){_&&v(t),Bn(n),e[48](null)}}}function Jr(e,t,n){let i,r,a;const l='<svg viewBox="0 0 20 20" fill-rule="evenodd"><path d="M0,8a8,8,0,1,0,16,0a8,8,0,1,0,-16,0ZM3,8a5,5,0,1,0,10,0a5,5,0,1,0,-10,0Z"/><path d="M18,20L20,18L14,12L12,14Z"/></svg>',s='<svg viewBox="0 0 20 20"><path d="M1,6L19,6L10,15Z"/></svg>',o=Dn();let{id:f=""}=t,{container:u=void 0}=t,{mode:c="default"}=t,{items:d}=t,{placeholder:y="Select one..."}=t,{value:p=null}=t,{filterText:k=""}=t,{isSearchable:A=!0}=t,{isClearable:_=!0}=t,{autoClear:b=!1}=t,{idKey:g="value"}=t,{labelKey:z="label"}=t,{groupKey:L=null}=t,{groupItems:x=!1}=t,{loadOptions:w=void 0}=t,{fontSize:N="1em"}=t,{height:G=42}=t,{isMulti:_e=!1}=t,{maxSelected:J=4}=t,{colors:te=["#206095","#a8bd3a","#871a5b","#27a0cc"]}=t,{darkMode:ae=!1}=t,{borderColor:se=ae?"white":"#206095"}=t;const $e=L&&!x?m=>`${m[z]} <span class="group">${m[L]}</span>`:m=>m[z];let{getSelectionLabel:et=m=>m?$e(m):null}=t;const ln=x&&L?m=>m[L]:void 0,an=c=="search"?l:s,sn=`--inputFontSize: ${N}; --groupTitleFontSize: ${N}; --height: ${G}px; font-size: ${N};`,on=m=>`${m}, selected.`,fn=(m,R)=>`You are currently focused on ${m}. There are ${R} results available.`,un=()=>"Select is focused, type to refine list, press down to open the menu.";let xe,Re,Te,Ie,me;const cn=m=>new Promise(R=>setTimeout(R,m));async function hn(m){if(o("select",m.detail),b)me();else if(_){await cn(10);let R=xe.getElementsByClassName("clearSelect")[0];R&&(R.tabIndex=0,R.onkeypress=Se=>{Se.key=="Enter"&&me()},R.removeAttribute("aria-hidden"),R.setAttribute("aria-label","Clear selection"))}}function dn(m){Re=m,n(15,Re)}function _n(m){p=m,n(0,p)}function mn(m){Te=m,n(16,Te)}function gn(m){k=m,n(1,k)}function vn(m){Ie=m,n(13,Ie)}function bn(m){me=m,n(17,me)}function yn(m){Fe.call(this,e,m)}function pn(m){Fe.call(this,e,m)}function wn(m){Fe.call(this,e,m)}function kn(m){$[m?"unshift":"push"](()=>{xe=m,n(14,xe)})}return e.$$set=m=>{"id"in m&&n(2,f=m.id),"container"in m&&n(3,u=m.container),"mode"in m&&n(29,c=m.mode),"items"in m&&n(4,d=m.items),"placeholder"in m&&n(5,y=m.placeholder),"value"in m&&n(0,p=m.value),"filterText"in m&&n(1,k=m.filterText),"isSearchable"in m&&n(6,A=m.isSearchable),"isClearable"in m&&n(7,_=m.isClearable),"autoClear"in m&&n(30,b=m.autoClear),"idKey"in m&&n(8,g=m.idKey),"labelKey"in m&&n(31,z=m.labelKey),"groupKey"in m&&n(32,L=m.groupKey),"groupItems"in m&&n(33,x=m.groupItems),"loadOptions"in m&&n(9,w=m.loadOptions),"fontSize"in m&&n(34,N=m.fontSize),"height"in m&&n(35,G=m.height),"isMulti"in m&&n(10,_e=m.isMulti),"maxSelected"in m&&n(36,J=m.maxSelected),"colors"in m&&n(37,te=m.colors),"darkMode"in m&&n(38,ae=m.darkMode),"borderColor"in m&&n(11,se=m.borderColor),"getSelectionLabel"in m&&n(12,et=m.getSelectionLabel)},e.$$.update=()=>{e.$$.dirty[0]&536879106&&n(20,i=Ie?"Loading...":c=="search"&&k.length<3?"Enter 3 or more characters for suggestions":`No results match ${k}`),e.$$.dirty[0]&536870915|e.$$.dirty[1]&33&&n(19,r=Array.isArray(p)&&p.length>=J||c=="search"&&k.length<3?(m,R,Se)=>!1:(m,R,Se)=>`${Se[z]}`.match(new RegExp(`\\b${R}`,"i"))),e.$$.dirty[1]&64&&n(18,a=m=>te[m%te.length])},[p,k,f,u,d,y,A,_,g,w,_e,se,et,Ie,xe,Re,Te,me,a,r,i,$e,ln,an,sn,on,fn,un,hn,c,b,z,L,x,N,G,J,te,ae,dn,_n,mn,gn,vn,bn,yn,pn,wn,kn]}class la extends K{constructor(t){super(),Z(this,t,Jr,Gr,Q,{id:2,container:3,mode:29,items:4,placeholder:5,value:0,filterText:1,isSearchable:6,isClearable:7,autoClear:30,idKey:8,labelKey:31,groupKey:32,groupItems:33,loadOptions:9,fontSize:34,height:35,isMulti:10,maxSelected:36,colors:37,darkMode:38,borderColor:11,getSelectionLabel:12},null,[-1,-1])}}function Be(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function en(e){let t,n,i;e.length!==2?(t=Be,n=(s,o)=>Be(e(s),o),i=(s,o)=>e(s)-o):(t=e===Be||e===jr?e:$r,n=e,i=e);function r(s,o,f=0,u=s.length){if(f<u){if(t(o,o)!==0)return u;do{const c=f+u>>>1;n(s[c],o)<0?f=c+1:u=c}while(f<u)}return f}function a(s,o,f=0,u=s.length){if(f<u){if(t(o,o)!==0)return u;do{const c=f+u>>>1;n(s[c],o)<=0?f=c+1:u=c}while(f<u)}return f}function l(s,o,f=0,u=s.length){const c=r(s,o,f,u-1);return c>f&&i(s[c-1],o)>-i(s[c],o)?c-1:c}return{left:r,center:l,right:a}}function $r(){return 0}function el(e){return e===null?NaN:+e}const tl=en(Be),nl=tl.right;en(el).center;const il=nl,rl=Math.sqrt(50),ll=Math.sqrt(10),al=Math.sqrt(2);function ze(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),l=a>=rl?10:a>=ll?5:a>=al?2:1;let s,o,f;return r<0?(f=Math.pow(10,-r)/l,s=Math.round(e*f),o=Math.round(t*f),s/f<e&&++s,o/f>t&&--o,f=-f):(f=Math.pow(10,r)*l,s=Math.round(e/f),o=Math.round(t/f),s*f<e&&++s,o*f>t&&--o),o<s&&.5<=n&&n<2?ze(e,t,n*2):[s,o,f]}function sl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,a,l]=i?ze(t,e,n):ze(e,t,n);if(!(a>=r))return[];const s=a-r+1,o=new Array(s);if(i)if(l<0)for(let f=0;f<s;++f)o[f]=(a-f)/-l;else for(let f=0;f<s;++f)o[f]=(a-f)*l;else if(l<0)for(let f=0;f<s;++f)o[f]=(r+f)/-l;else for(let f=0;f<s;++f)o[f]=(r+f)*l;return o}function Ke(e,t,n){return t=+t,e=+e,n=+n,ze(e,t,n)[2]}function ol(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?Ke(t,e,n):Ke(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function fl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ge(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tn(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function ke(){}var ye=.7,Ve=1/ye,he="\\s*([+-]?\\d+)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",U="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ul=/^#([0-9a-f]{3,8})$/,cl=new RegExp(`^rgb\\(${he},${he},${he}\\)$`),hl=new RegExp(`^rgb\\(${U},${U},${U}\\)$`),dl=new RegExp(`^rgba\\(${he},${he},${he},${pe}\\)$`),_l=new RegExp(`^rgba\\(${U},${U},${U},${pe}\\)$`),ml=new RegExp(`^hsl\\(${pe},${U},${U}\\)$`),gl=new RegExp(`^hsla\\(${pe},${U},${U},${pe}\\)$`),Ct={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ge(ke,we,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHex8:vl,formatHsl:bl,formatRgb:Lt,toString:Lt});function Et(){return this.rgb().formatHex()}function vl(){return this.rgb().formatHex8()}function bl(){return nn(this).formatHsl()}function Lt(){return this.rgb().formatRgb()}function we(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ul.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pt(t):n===3?new O(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Me(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Me(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cl.exec(e))?new O(t[1],t[2],t[3],1):(t=hl.exec(e))?new O(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dl.exec(e))?Me(t[1],t[2],t[3],t[4]):(t=_l.exec(e))?Me(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ml.exec(e))?zt(t[1],t[2]/100,t[3]/100,1):(t=gl.exec(e))?zt(t[1],t[2]/100,t[3]/100,t[4]):Ct.hasOwnProperty(e)?Pt(Ct[e]):e==="transparent"?new O(NaN,NaN,NaN,0):null}function Pt(e){return new O(e>>16&255,e>>8&255,e&255,1)}function Me(e,t,n,i){return i<=0&&(e=t=n=NaN),new O(e,t,n,i)}function yl(e){return e instanceof ke||(e=we(e)),e?(e=e.rgb(),new O(e.r,e.g,e.b,e.opacity)):new O}function Ze(e,t,n,i){return arguments.length===1?yl(e):new O(e,t,n,i??1)}function O(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Ge(O,Ze,tn(ke,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ye:Math.pow(ye,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new O(ie(this.r),ie(this.g),ie(this.b),qe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bt,formatHex:Bt,formatHex8:pl,formatRgb:Dt,toString:Dt}));function Bt(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}`}function pl(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}${ne((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dt(){const e=qe(this.opacity);return`${e===1?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${e===1?")":`, ${e})`}`}function qe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ie(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ne(e){return e=ie(e),(e<16?"0":"")+e.toString(16)}function zt(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new H(e,t,n,i)}function nn(e){if(e instanceof H)return new H(e.h,e.s,e.l,e.opacity);if(e instanceof ke||(e=we(e)),!e)return new H;if(e instanceof H)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),l=NaN,s=a-r,o=(a+r)/2;return s?(t===a?l=(n-i)/s+(n<i)*6:n===a?l=(i-t)/s+2:l=(t-n)/s+4,s/=o<.5?a+r:2-a-r,l*=60):s=o>0&&o<1?0:l,new H(l,s,o,e.opacity)}function wl(e,t,n,i){return arguments.length===1?nn(e):new H(e,t,n,i??1)}function H(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Ge(H,wl,tn(ke,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new H(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ye:Math.pow(ye,e),new H(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new O(He(e>=240?e-240:e+120,r,i),He(e,r,i),He(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new H(Vt(this.h),Ne(this.s),Ne(this.l),qe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qe(this.opacity);return`${e===1?"hsl(":"hsla("}${Vt(this.h)}, ${Ne(this.s)*100}%, ${Ne(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vt(e){return e=(e||0)%360,e<0?e+360:e}function Ne(e){return Math.max(0,Math.min(1,e||0))}function He(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Je=e=>()=>e;function kl(e,t){return function(n){return e+n*t}}function xl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Il(e){return(e=+e)==1?rn:function(t,n){return n-t?xl(t,n,e):Je(isNaN(t)?n:t)}}function rn(e,t){var n=t-e;return n?kl(e,n):Je(isNaN(e)?t:e)}const qt=function e(t){var n=Il(t);function i(r,a){var l=n((r=Ze(r)).r,(a=Ze(a)).r),s=n(r.g,a.g),o=n(r.b,a.b),f=rn(r.opacity,a.opacity);return function(u){return r.r=l(u),r.g=s(u),r.b=o(u),r.opacity=f(u),r+""}}return i.gamma=e,i}(1);function Sl(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function Al(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ml(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),a=new Array(n),l;for(l=0;l<i;++l)r[l]=je(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(s){for(l=0;l<i;++l)a[l]=r[l](s);return a}}function Nl(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Oe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cl(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=je(e[r],t[r]):i[r]=t[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var Qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,We=new RegExp(Qe.source,"g");function El(e){return function(){return e}}function Ll(e){return function(t){return e(t)+""}}function Pl(e,t){var n=Qe.lastIndex=We.lastIndex=0,i,r,a,l=-1,s=[],o=[];for(e=e+"",t=t+"";(i=Qe.exec(e))&&(r=We.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),s[l]?s[l]+=a:s[++l]=a),(i=i[0])===(r=r[0])?s[l]?s[l]+=r:s[++l]=r:(s[++l]=null,o.push({i:l,x:Oe(i,r)})),n=We.lastIndex;return n<t.length&&(a=t.slice(n),s[l]?s[l]+=a:s[++l]=a),s.length<2?o[0]?Ll(o[0].x):El(t):(t=o.length,function(f){for(var u=0,c;u<t;++u)s[(c=o[u]).i]=c.x(f);return s.join("")})}function je(e,t){var n=typeof t,i;return t==null||n==="boolean"?Je(t):(n==="number"?Oe:n==="string"?(i=we(t))?(t=i,qt):Pl:t instanceof we?qt:t instanceof Date?Nl:Al(t)?Sl:Array.isArray(t)?Ml:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cl:Oe)(e,t)}function Bl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Dl(e){return function(){return e}}function zl(e){return+e}var Ot=[0,1];function ue(e){return e}function Xe(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Dl(isNaN(t)?NaN:.5)}function Vl(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function ql(e,t,n){var i=e[0],r=e[1],a=t[0],l=t[1];return r<i?(i=Xe(r,i),a=n(l,a)):(i=Xe(i,r),a=n(a,l)),function(s){return a(i(s))}}function Ol(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=Xe(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(s){var o=il(e,s,1,i)-1;return a[o](r[o](s))}}function Rl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tl(){var e=Ot,t=Ot,n=je,i,r,a,l=ue,s,o,f;function u(){var d=Math.min(e.length,t.length);return l!==ue&&(l=Vl(e[0],e[d-1])),s=d>2?Ol:ql,o=f=null,c}function c(d){return d==null||isNaN(d=+d)?a:(o||(o=s(e.map(i),t,n)))(i(l(d)))}return c.invert=function(d){return l(r((f||(f=s(t,e.map(i),Oe)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,zl),u()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),n=Bl,u()},c.clamp=function(d){return arguments.length?(l=d?!0:ue,u()):l!==ue},c.interpolate=function(d){return arguments.length?(n=d,u()):n},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,y){return i=d,r=y,u()}}function Fl(){return Tl()(ue,ue)}function Hl(e,t,n,i){var r=ol(e,t,n),a;switch(i=qn(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=Tn(r,l))&&(i.precision=a),Ft(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Fn(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Rn(r))&&(i.precision=a-(i.type==="%")*2);break}}return Tt(i)}function Wl(e){var t=e.domain;return e.ticks=function(n){var i=t();return sl(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return Hl(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,a=i.length-1,l=i[r],s=i[a],o,f,u=10;for(s<l&&(f=l,l=s,s=f,f=r,r=a,a=f);u-- >0;){if(f=Ke(l,s,n),f===o)return i[r]=l,i[a]=s,t(i);if(f>0)l=Math.floor(l/f)*f,s=Math.ceil(s/f)*f;else if(f<0)l=Math.ceil(l*f)/f,s=Math.floor(s*f)/f;else break;o=f}return e},e}function Yl(){var e=Fl();return e.copy=function(){return Rl(e,Yl())},fl.apply(e,arguments),Wl(e)}export{Ht as A,$l as B,ta as C,ia as D,na as I,ea as P,jl as R,la as S,ra as a,Gl as b,Jl as c,Yl as l};
