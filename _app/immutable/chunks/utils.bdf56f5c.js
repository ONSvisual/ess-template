import{f as fr}from"./locale.a357df68.js";import{g as rr,a as dr}from"./config.b800103c.js";var er={},F={},W=34,x=10,Z=13;function sr(e){return new Function("d","return {"+e.map(function(a,t){return JSON.stringify(a)+": d["+t+'] || ""'}).join(",")+"}")}function gr(e,a){var t=sr(e);return function(o,n){return a(t(o),n,e)}}function tr(e){var a=Object.create(null),t=[];return e.forEach(function(o){for(var n in o)n in a||t.push(a[n]=n)}),t}function m(e,a){var t=e+"",o=t.length;return o<a?new Array(a-o+1).join(0)+t:t}function yr(e){return e<0?"-"+m(-e,6):e>9999?"+"+m(e,6):m(e,4)}function br(e){var a=e.getUTCHours(),t=e.getUTCMinutes(),o=e.getUTCSeconds(),n=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":yr(e.getUTCFullYear())+"-"+m(e.getUTCMonth()+1,2)+"-"+m(e.getUTCDate(),2)+(n?"T"+m(a,2)+":"+m(t,2)+":"+m(o,2)+"."+m(n,3)+"Z":o?"T"+m(a,2)+":"+m(t,2)+":"+m(o,2)+"Z":t||a?"T"+m(a,2)+":"+m(t,2)+"Z":"")}function mr(e){var a=new RegExp('["'+e+`
\r]`),t=e.charCodeAt(0);function o(c,h){var w,y,f=n(c,function(k,p){if(w)return w(k,p-1);y=k,w=h?gr(k,h):sr(k)});return f.columns=y||[],f}function n(c,h){var w=[],y=c.length,f=0,k=0,p,K=y<=0,M=!1;c.charCodeAt(y-1)===x&&--y,c.charCodeAt(y-1)===Z&&--y;function _(){if(K)return F;if(M)return M=!1,er;var D,L=f,N;if(c.charCodeAt(L)===W){for(;f++<y&&c.charCodeAt(f)!==W||c.charCodeAt(++f)===W;);return(D=f)>=y?K=!0:(N=c.charCodeAt(f++))===x?M=!0:N===Z&&(M=!0,c.charCodeAt(f)===x&&++f),c.slice(L+1,D-1).replace(/""/g,'"')}for(;f<y;){if((N=c.charCodeAt(D=f++))===x)M=!0;else if(N===Z)M=!0,c.charCodeAt(f)===x&&++f;else if(N!==t)continue;return c.slice(L,D)}return K=!0,c.slice(L,y)}for(;(p=_())!==F;){for(var U=[];p!==er&&p!==F;)U.push(p),p=_();h&&(U=h(U,k++))==null||w.push(U)}return w}function i(c,h){return c.map(function(w){return h.map(function(y){return S(w[y])}).join(e)})}function s(c,h){return h==null&&(h=tr(c)),[h.map(S).join(e)].concat(i(c,h)).join(`
`)}function l(c,h){return h==null&&(h=tr(c)),i(c,h).join(`
`)}function u(c){return c.map(d).join(`
`)}function d(c){return c.map(S).join(e)}function S(c){return c==null?"":c instanceof Date?br(c):a.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:o,parseRows:n,format:s,formatBody:l,formatRows:u,formatRow:d,formatValue:S}}var wr=mr(","),pr=wr.parse;function vr(e){for(var a in e){var t=e[a].trim(),o,n;if(!t)t=null;else if(t==="true")t=!0;else if(t==="false")t=!1;else if(t==="NaN")t=NaN;else if(!isNaN(o=+t))t=o;else if(n=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))kr&&n[4]&&!n[7]&&(t=t.replace(/-/g,"/").replace(/T/," ")),t=new Date(t);else continue;e[a]=t}return e}const kr=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();fr({decimal:".",thousands:",",grouping:[3],currency:["Â£",""]}).format;function Mr(e,a=null){e==="East"&&(e="East of England"),e=e.replace("&","and").replace(", City of","").replace(", County of","");let t=e.toLowerCase(),o=t.startsWith("isle"),n=["north east","north west","east midlands","west midlands","east of england","south east","south west","derbyshire dales"].includes(t)||t.startsWith("city of")||t.startsWith("vale of");return["in","the"].includes(a)&&(o||n)&&(e="the "+e),a==="in"&&(o?e="on "+e:e="in "+e),e}function Cr(e){const a=Object.keys(e),t=a.map(n=>n.toLowerCase());for(let n of["areanm","name","label"]){let i=t.indexOf(n);if(i>-1)return a[i]}let o=t.find(n=>n.toLowerCase().slice(-2)==="nm");return o||a[0]}function te(e,a=null){const t=Cr(e);return Mr(e[t],a)}function nr(e){return e[0].toUpperCase()+e.slice(1)}var Nr={rgb2hsl:z,rgb2hsv:I,rgb2hwb:E,rgb2cmyk:A,rgb2keyword:j,rgb2xyz:P,rgb2lab:Y,rgb2lch:xr,hsl2rgb:J,hsl2hsv:Tr,hsl2hwb:zr,hsl2cmyk:Er,hsl2keyword:Ar,hsv2rgb:V,hsv2hsl:jr,hsv2hwb:Or,hsv2cmyk:qr,hsv2keyword:Rr,hwb2rgb:O,hwb2hsl:Sr,hwb2hsv:Ur,hwb2cmyk:Dr,hwb2keyword:Lr,cmyk2rgb:q,cmyk2hsl:Ir,cmyk2hsv:Jr,cmyk2hwb:Vr,cmyk2keyword:Kr,keyword2rgb:v,keyword2hsl:$r,keyword2hsv:Br,keyword2hwb:Hr,keyword2cmyk:Pr,keyword2lab:Yr,keyword2xyz:Qr,xyz2rgb:lr,xyz2lab:ur,xyz2lch:Fr,lab2xyz:Q,lab2rgb:cr,lab2lch:G,lch2lab:X,lch2xyz:Wr,lch2rgb:Zr};function z(e){var a=e[0]/255,t=e[1]/255,o=e[2]/255,n=Math.min(a,t,o),i=Math.max(a,t,o),s=i-n,l,u,d;return i==n?l=0:a==i?l=(t-o)/s:t==i?l=2+(o-a)/s:o==i&&(l=4+(a-t)/s),l=Math.min(l*60,360),l<0&&(l+=360),d=(n+i)/2,i==n?u=0:d<=.5?u=s/(i+n):u=s/(2-i-n),[l,u*100,d*100]}function I(e){var a=e[0],t=e[1],o=e[2],n=Math.min(a,t,o),i=Math.max(a,t,o),s=i-n,l,u,d;return i==0?u=0:u=s/i*1e3/10,i==n?l=0:a==i?l=(t-o)/s:t==i?l=2+(o-a)/s:o==i&&(l=4+(a-t)/s),l=Math.min(l*60,360),l<0&&(l+=360),d=i/255*1e3/10,[l,u,d]}function E(e){var a=e[0],t=e[1],i=e[2],o=z(e)[0],n=1/255*Math.min(a,Math.min(t,i)),i=1-1/255*Math.max(a,Math.max(t,i));return[o,n*100,i*100]}function A(e){var a=e[0]/255,t=e[1]/255,o=e[2]/255,n,i,s,l;return l=Math.min(1-a,1-t,1-o),n=(1-a-l)/(1-l)||0,i=(1-t-l)/(1-l)||0,s=(1-o-l)/(1-l)||0,[n*100,i*100,s*100,l*100]}function j(e){return hr[JSON.stringify(e)]}function P(e){var a=e[0]/255,t=e[1]/255,o=e[2]/255;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var n=a*.4124+t*.3576+o*.1805,i=a*.2126+t*.7152+o*.0722,s=a*.0193+t*.1192+o*.9505;return[n*100,i*100,s*100]}function Y(e){var a=P(e),t=a[0],o=a[1],n=a[2],i,s,l;return t/=95.047,o/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*o-16,s=500*(t-o),l=200*(o-n),[i,s,l]}function xr(e){return G(Y(e))}function J(e){var a=e[0]/360,t=e[1]/100,o=e[2]/100,n,i,s,l,u;if(t==0)return u=o*255,[u,u,u];o<.5?i=o*(1+t):i=o+t-o*t,n=2*o-i,l=[0,0,0];for(var d=0;d<3;d++)s=a+1/3*-(d-1),s<0&&s++,s>1&&s--,6*s<1?u=n+(i-n)*6*s:2*s<1?u=i:3*s<2?u=n+(i-n)*(2/3-s)*6:u=n,l[d]=u*255;return l}function Tr(e){var a=e[0],t=e[1]/100,o=e[2]/100,n,i;return o===0?[0,0,0]:(o*=2,t*=o<=1?o:2-o,i=(o+t)/2,n=2*t/(o+t),[a,n*100,i*100])}function zr(e){return E(J(e))}function Er(e){return A(J(e))}function Ar(e){return j(J(e))}function V(e){var a=e[0]/60,t=e[1]/100,u=e[2]/100,o=Math.floor(a)%6,n=a-Math.floor(a),i=255*u*(1-t),s=255*u*(1-t*n),l=255*u*(1-t*(1-n)),u=255*u;switch(o){case 0:return[u,l,i];case 1:return[s,u,i];case 2:return[i,u,l];case 3:return[i,s,u];case 4:return[l,i,u];case 5:return[u,i,s]}}function jr(e){var a=e[0],t=e[1]/100,o=e[2]/100,n,i;return i=(2-t)*o,n=t*o,n/=i<=1?i:2-i,n=n||0,i/=2,[a,n*100,i*100]}function Or(e){return E(V(e))}function qr(e){return A(V(e))}function Rr(e){return j(V(e))}function O(e){var a=e[0]/360,t=e[1]/100,o=e[2]/100,n=t+o,i,s,l,u;switch(n>1&&(t/=n,o/=n),i=Math.floor(6*a),s=1-o,l=6*a-i,i&1&&(l=1-l),u=t+l*(s-t),i){default:case 6:case 0:r=s,g=u,b=t;break;case 1:r=u,g=s,b=t;break;case 2:r=t,g=s,b=u;break;case 3:r=t,g=u,b=s;break;case 4:r=u,g=t,b=s;break;case 5:r=s,g=t,b=u;break}return[r*255,g*255,b*255]}function Sr(e){return z(O(e))}function Ur(e){return I(O(e))}function Dr(e){return A(O(e))}function Lr(e){return j(O(e))}function q(e){var a=e[0]/100,t=e[1]/100,o=e[2]/100,n=e[3]/100,i,s,l;return i=1-Math.min(1,a*(1-n)+n),s=1-Math.min(1,t*(1-n)+n),l=1-Math.min(1,o*(1-n)+n),[i*255,s*255,l*255]}function Ir(e){return z(q(e))}function Jr(e){return I(q(e))}function Vr(e){return E(q(e))}function Kr(e){return j(q(e))}function lr(e){var a=e[0]/100,t=e[1]/100,o=e[2]/100,n,i,s;return n=a*3.2406+t*-1.5372+o*-.4986,i=a*-.9689+t*1.8758+o*.0415,s=a*.0557+t*-.204+o*1.057,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=n*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),[n*255,i*255,s*255]}function ur(e){var a=e[0],t=e[1],o=e[2],n,i,s;return a/=95.047,t/=100,o/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,n=116*t-16,i=500*(a-t),s=200*(t-o),[n,i,s]}function Fr(e){return G(ur(e))}function Q(e){var a=e[0],t=e[1],o=e[2],n,i,s,l;return a<=8?(i=a*100/903.3,l=7.787*(i/100)+16/116):(i=100*Math.pow((a+16)/116,3),l=Math.pow(i/100,1/3)),n=n/95.047<=.008856?n=95.047*(t/500+l-16/116)/7.787:95.047*Math.pow(t/500+l,3),s=s/108.883<=.008859?s=108.883*(l-o/200-16/116)/7.787:108.883*Math.pow(l-o/200,3),[n,i,s]}function G(e){var a=e[0],t=e[1],o=e[2],n,i,s;return n=Math.atan2(o,t),i=n*360/2/Math.PI,i<0&&(i+=360),s=Math.sqrt(t*t+o*o),[a,s,i]}function cr(e){return lr(Q(e))}function X(e){var a=e[0],t=e[1],o=e[2],n,i,s;return s=o/360*2*Math.PI,n=t*Math.cos(s),i=t*Math.sin(s),[a,n,i]}function Wr(e){return Q(X(e))}function Zr(e){return cr(X(e))}function v(e){return H[e]}function $r(e){return z(v(e))}function Br(e){return I(v(e))}function Hr(e){return E(v(e))}function Pr(e){return A(v(e))}function Yr(e){return Y(v(e))}function Qr(e){return P(v(e))}var H={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hr={};for(var ar in H)hr[JSON.stringify(H[ar])]=ar;var $=Nr,C=function(){return new R};for(var T in $){C[T+"Raw"]=function(e){return function(a){return typeof a=="number"&&(a=Array.prototype.slice.call(arguments)),$[e](a)}}(T);var or=/(\w+)2(\w+)/.exec(T),B=or[1],Gr=or[2];C[B]=C[B]||{},C[B][Gr]=C[T]=function(e){return function(a){typeof a=="number"&&(a=Array.prototype.slice.call(arguments));var t=$[e](a);if(typeof t=="string"||t===void 0)return t;for(var o=0;o<t.length;o++)t[o]=Math.round(t[o]);return t}}(T)}var R=function(){this.convs={}};R.prototype.routeSpace=function(e,a){var t=a[0];return t===void 0?this.getValues(e):(typeof t=="number"&&(t=Array.prototype.slice.call(a)),this.setValues(e,t))};R.prototype.setValues=function(e,a){return this.space=e,this.convs={},this.convs[e]=a,this};R.prototype.getValues=function(e){var a=this.convs[e];if(!a){var t=this.space,o=this.convs[t];a=C[t][e](o),this.convs[e]=a}return a};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){R.prototype[e]=function(a){return this.routeSpace(e,arguments)}});async function Xr(e,a=window.fetch){let o=await(await a(e)).text(),n;if(_r(o))n=JSON.parse(o);else{n=pr(o,vr);let i=n.columns.filter(s=>n[0][s]&&n[0][s].includes("|"));n.forEach((s,l)=>{i.forEach(u=>{s[u]=s[u].split("|")})})}return n}const ir=e=>rr[e]?rr[e].label:dr[e].label;async function ne(e,a=window.fetch){let t=await Xr(e,a);t.sort((n,i)=>n.areanm.localeCompare(i.areanm));let o={};return t.forEach(n=>o[n.areacd]=n),t.forEach(n=>{let i=n.areacd.slice(0,3);n.group=i==="K04"?"":n.parent?`${nr(ir(i))} in ${o[n.parent].areanm}`:nr(ir(i))}),t}function _r(e){if(typeof e!="string")return!1;try{const a=JSON.parse(e),t=Object.prototype.toString.call(a);return t==="[object Object]"||t==="[object Array]"}catch{return!1}}export{Xr as a,te as b,ne as g};
