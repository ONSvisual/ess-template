//js
import{S as te,i as re,s as ne,k as V,F,a as le,q as T,l as H,m as w,G as P,h as m,c as ae,r as G,n as s,b as B,C as N,D as W,I as Se,K as Ce,L as Ie,M as Re,g as oe,d as se,V as X,o as $t,u as ue,H as ot,w as er,p as Z,_ as vr,X as We,Y as yr,Z as br,U as Ue,a4 as xr,a5 as Ye,e as Pe,a6 as Ke,Q as wr,y as xe,z as we,W as st,A as ke,R as kr,B as Ee}from"./index.e4100830.js";import{b as U}from"./config.4120aca4.js";import{f as Er,e as ge,a as Ar}from"./index.34b8e95a.js";import{d as ut,a as Le,r as ze,c as Mr}from"./utils.7b40fe5c.js";var Ae,tr,rr;Nr({thousands:",",grouping:[3],currency:["$",""]});function Nr(e){return Ae=Er(e),tr=Ae.format,rr=Ae.formatPrefix,Ae}function Sr(e){return Math.max(0,-ge(Math.abs(e)))}function Cr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ge(t)/3)))*3-ge(Math.abs(e)))}function Ir(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ge(t)-ge(e))+1}function Rr(e){let t,r,n,i,a,l,o,u,f;return{c(){t=V("div"),r=V("div"),n=V("a"),i=V("span"),a=F("svg"),l=F("path"),o=le(),u=T("Back to contents"),this.h()},l(h){t=H(h,"DIV",{class:!0});var c=w(t);r=H(c,"DIV",{class:!0});var d=w(r);n=H(d,"A",{href:!0,class:!0});var g=w(n);i=H(g,"SPAN",{class:!0});var p=w(i);a=P(p,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,focusable:!0,"aria-hidden":!0,role:!0});var E=w(a);l=P(E,"path",{d:!0,fill:!0}),w(l).forEach(m),E.forEach(m),o=ae(p),p.forEach(m),u=G(g,"Back to contents"),g.forEach(m),d.forEach(m),c.forEach(m),this.h()},h(){s(l,"d","M0 8.07275L1.41 9.48275L7 3.90275V16.0728H9V3.90275L14.58 9.49275L16 8.07275L8 0.0727539L0 8.07275Z"),s(l,"fill","currentColor"),s(a,"class","ons-svg-icon ons-u-mr-xs"),s(a,"width","16"),s(a,"height","17"),s(a,"viewBox","0 0 16 17"),s(a,"fill","none"),s(a,"xmlns","http://www.w3.org/2000/svg"),s(a,"focusable","false"),s(a,"aria-hidden","true"),s(a,"role","presentation"),s(i,"class","ons-back-to__icon"),s(n,"href",f="#"+e[0]),s(n,"class","ons-back-to__link"),s(r,"class","ons-back-to"),s(t,"class","ons-u-mt-l ons-u-d-no@m")},m(h,c){B(h,t,c),N(t,r),N(r,n),N(n,i),N(i,a),N(a,l),N(i,o),N(n,u)},p(h,[c]){c&1&&f!==(f="#"+h[0])&&s(n,"href",f)},i:W,o:W,d(h){h&&m(t)}}}function Fr(e,t,r){let{tocId:n="toc"}=t;return e.$$set=i=>{"tocId"in i&&r(0,n=i.tocId)},[n]}class Pr extends te{constructor(t){super(),re(this,t,Fr,Rr,ne,{tocId:0})}}const Lr=e=>({}),ft=e=>({});function ct(e,t,r){const n=e.slice();return n[11]=t[r],n}const zr=e=>({}),ht=e=>({});function dt(e){let t,r;return{c(){t=V("h2"),r=T(e[0]),this.h()},l(n){t=H(n,"H2",{class:!0});var i=w(t);r=G(i,e[0]),i.forEach(m),this.h()},h(){s(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s")},m(n,i){B(n,t,i),N(t,r)},p(n,i){i&1&&ue(r,n[0])},d(n){n&&m(t)}}}function mt(e){let t,r,n=e[11].label+"",i,a,l;return{c(){t=V("li"),r=V("a"),i=T(n),l=le(),this.h()},l(o){t=H(o,"LI",{class:!0});var u=w(t);r=H(u,"A",{href:!0,class:!0});var f=w(r);i=G(f,n),f.forEach(m),l=ae(u),u.forEach(m),this.h()},h(){s(r,"href",a="#"+e[11].slug),s(r,"class","ons-list__link"),ot(r,"ons-toc__link-active",e[11].slug===e[2]),s(t,"class","ons-list__item")},m(o,u){B(o,t,u),N(t,r),N(r,i),N(t,l)},p(o,u){u&8&&n!==(n=o[11].label+"")&&ue(i,n),u&8&&a!==(a="#"+o[11].slug)&&s(r,"href",a),u&12&&ot(r,"ons-toc__link-active",o[11].slug===o[2])},d(o){o&&m(t)}}}function Br(e){let t,r,n,i,a,l,o,u,f,h,c,d;const g=e[6].header,p=Se(g,e,e[5],ht);let E=e[0]&&dt(e),z=e[3],x=[];for(let y=0;y<z.length;y+=1)x[y]=mt(ct(e,z,y));const v=e[6].default,A=Se(v,e,e[5],null),L=e[6].footer,R=Se(L,e,e[5],ft);return{c(){t=V("div"),r=V("div"),p&&p.c(),n=le(),i=V("div"),a=V("aside"),l=V("nav"),E&&E.c(),o=le(),u=V("ol");for(let y=0;y<x.length;y+=1)x[y].c();f=le(),h=V("div"),A&&A.c(),c=le(),R&&R.c(),this.h()},l(y){t=H(y,"DIV",{class:!0});var k=w(t);r=H(k,"DIV",{class:!0});var I=w(r);p&&p.l(I),n=ae(I),i=H(I,"DIV",{class:!0,id:!0});var S=w(i);a=H(S,"ASIDE",{class:!0,role:!0});var C=w(a);l=H(C,"NAV",{class:!0,"aria-label":!0});var q=w(l);E&&E.l(q),o=ae(q),u=H(q,"OL",{class:!0});var D=w(u);for(let _=0;_<x.length;_+=1)x[_].l(D);D.forEach(m),q.forEach(m),C.forEach(m),S.forEach(m),f=ae(I),h=H(I,"DIV",{class:!0});var M=w(h);A&&A.l(M),M.forEach(m),c=ae(I),R&&R.l(I),I.forEach(m),k.forEach(m),this.h()},h(){s(u,"class","ons-list ons-u-mb-m ons-list--dashed"),s(l,"class","ons-toc"),s(l,"aria-label","Pages in this guide"),s(a,"class","ons-toc-container"),s(a,"role","complementary"),s(i,"class","ons-grid__col ons-col-4@m ons-u-pl-no ons-grid__col--sticky@m"),s(i,"id",e[4]),s(h,"class","ons-grid__col ons-col-8@m ons-u-pl-no"),s(r,"class","ons-grid ons-js-toc-container ons-u-ml-no"),s(t,"class","ons-page__container ons-container")},m(y,k){B(y,t,k),N(t,r),p&&p.m(r,null),N(r,n),N(r,i),N(i,a),N(a,l),E&&E.m(l,null),N(l,o),N(l,u);for(let I=0;I<x.length;I+=1)x[I]&&x[I].m(u,null);N(r,f),N(r,h),A&&A.m(h,null),e[7](h),N(r,c),R&&R.m(r,null),d=!0},p(y,[k]){if(p&&p.p&&(!d||k&32)&&Ce(p,g,y,y[5],d?Re(g,y[5],k,zr):Ie(y[5]),ht),y[0]?E?E.p(y,k):(E=dt(y),E.c(),E.m(l,o)):E&&(E.d(1),E=null),k&12){z=y[3];let I;for(I=0;I<z.length;I+=1){const S=ct(y,z,I);x[I]?x[I].p(S,k):(x[I]=mt(S),x[I].c(),x[I].m(u,null))}for(;I<x.length;I+=1)x[I].d(1);x.length=z.length}(!d||k&16)&&s(i,"id",y[4]),A&&A.p&&(!d||k&32)&&Ce(A,v,y,y[5],d?Re(v,y[5],k,null):Ie(y[5]),null),R&&R.p&&(!d||k&32)&&Ce(R,L,y,y[5],d?Re(L,y[5],k,Lr):Ie(y[5]),ft)},i(y){d||(oe(p,y),oe(A,y),oe(R,y),d=!0)},o(y){se(p,y),se(A,y),se(R,y),d=!1},d(y){y&&m(t),p&&p.d(y),E&&E.d(),X(x,y),A&&A.d(y),e[7](null),R&&R.d(y)}}}function Dr(e,t,r){let{$$slots:n={},$$scope:i}=t,{contentsLabel:a="Page contents"}=t,l,o,u,f=[],h=[],c;function d(){r(4,c=`toc-${Math.floor(Math.random()*1e5)}`),l.clientHeight/2;const p=new IntersectionObserver((E,z)=>{for(let x=0;x<E.length;x++)if(E[x].isIntersecting){r(2,u=E[x].target.id);break}},{root:null,rootMargin:"0% 0% -70% 0%",threshold:0});return o=l.querySelectorAll("section"),o.forEach((E,z)=>{const x=E.title,v=x.toLowerCase().replaceAll(" ","-");E.id=v,z===0&&r(2,u=v),h=[...h,new Pr({props:{tocId:c},target:E})],r(3,f=[...f,{label:x,slug:v}]),p.observe(E)}),{destroy(){h.forEach(E=>E.$destroy()),r(3,f=[]),h=[]}}}$t(d);function g(p){er[p?"unshift":"push"](()=>{l=p,r(1,l)})}return e.$$set=p=>{"contentsLabel"in p&&r(0,a=p.contentsLabel),"$$scope"in p&&r(5,i=p.$$scope)},[a,l,u,f,c,i,n,g]}class Ql extends te{constructor(t){super(),re(this,t,Dr,Br,ne,{contentsLabel:0})}}function Vr(e){let t,r=`${e[0]}px`,n=`${e[1]}px`,i;const a=e[3].default,l=Se(a,e,e[2],null);return{c(){t=V("div"),l&&l.c(),this.h()},l(o){t=H(o,"DIV",{class:!0});var u=w(t);l&&l.l(u),u.forEach(m),this.h()},h(){s(t,"class","placeholder-container svelte-1mhohmc"),Z(t,"height",r),Z(t,"margin-bottom",n)},m(o,u){B(o,t,u),l&&l.m(t,null),i=!0},p(o,[u]){l&&l.p&&(!i||u&4)&&Ce(l,a,o,o[2],i?Re(a,o[2],u,null):Ie(o[2]),null),u&1&&r!==(r=`${o[0]}px`)&&Z(t,"height",r),u&2&&n!==(n=`${o[1]}px`)&&Z(t,"margin-bottom",n)},i(o){i||(oe(l,o),i=!0)},o(o){se(l,o),i=!1},d(o){o&&m(t),l&&l.d(o)}}}function Hr(e,t,r){let{$$slots:n={},$$scope:i}=t,{height:a=400}=t,{margin:l=40}=t;return e.$$set=o=>{"height"in o&&r(0,a=o.height),"margin"in o&&r(1,l=o.margin),"$$scope"in o&&r(2,i=o.$$scope)},[a,l,i,n]}class Xl extends te{constructor(t){super(),re(this,t,Hr,Vr,ne,{height:0,margin:1})}}function gt(e,t,r){const n=e.slice();return n[8]=t[r],n[10]=r,n}function qr(e){let t,r=e[8]+"",n;return{c(){t=V("p"),n=T(r),this.h()},l(i){t=H(i,"P",{style:!0,class:!0});var a=w(t);n=G(a,r),a.forEach(m),this.h()},h(){Z(t,"font-size",e[4]),s(t,"class","svelte-1ib2ryh")},m(i,a){B(i,t,a),N(t,n)},p(i,a){a&2&&r!==(r=i[8]+"")&&ue(n,r),a&16&&Z(t,"font-size",i[4])},d(i){i&&m(t)}}}function Or(e){let t,r,n=e[8]+"",i,a;return{c(){t=V("div"),r=V("p"),i=T(n),this.h()},l(l){t=H(l,"DIV",{class:!0,style:!0});var o=w(t);r=H(o,"P",{style:!0,class:!0});var u=w(r);i=G(u,n),u.forEach(m),o.forEach(m),this.h()},h(){Z(r,"font-size",e[4]),s(r,"class","svelte-1ib2ryh"),s(t,"class","optionLabel svelte-1ib2ryh"),s(t,"style",a="background-color: "+(e[0]===e[10]?"white":"#e3e3e3"))},m(l,o){B(l,t,o),N(t,r),N(r,i)},p(l,o){o&2&&n!==(n=l[8]+"")&&ue(i,n),o&16&&Z(r,"font-size",l[4]),o&1&&a!==(a="background-color: "+(l[0]===l[10]?"white":"#e3e3e3"))&&s(t,"style",a)},d(l){l&&m(t)}}}function _t(e){let t,r,n,i,a,l,o,u;function f(d,g){return d[5]?Or:qr}let h=f(e),c=h(e);return l=vr(e[7][0]),{c(){t=V("label"),r=V("input"),i=le(),c.c(),a=le(),this.h()},l(d){t=H(d,"LABEL",{style:!0,class:!0});var g=w(t);r=H(g,"INPUT",{style:!0,type:!0,name:!0}),i=ae(g),c.l(g),a=ae(g),g.forEach(m),this.h()},h(){s(r,"style",n="display: "+(e[5]?"none":null)),s(r,"type","radio"),r.__value=e[10],r.value=r.__value,s(r,"name",e[2]),Z(t,"margin-bottom",e[3]),s(t,"class","svelte-1ib2ryh"),l.p(r)},m(d,g){B(d,t,g),N(t,r),r.checked=r.__value===e[0],N(t,i),c.m(t,null),N(t,a),o||(u=We(r,"change",e[6]),o=!0)},p(d,g){g&32&&n!==(n="display: "+(d[5]?"none":null))&&s(r,"style",n),g&4&&s(r,"name",d[2]),g&3&&(r.checked=r.__value===d[0]),h===(h=f(d))&&c?c.p(d,g):(c.d(1),c=h(d),c&&(c.c(),c.m(t,a))),g&8&&Z(t,"margin-bottom",d[3])},d(d){d&&m(t),c.d(),l.r(),o=!1,u()}}}function Yr(e){let t,r=e[1],n=[];for(let i=0;i<r.length;i+=1)n[i]=_t(gt(e,r,i));return{c(){t=V("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){t=H(i,"DIV",{class:!0,style:!0});var a=w(t);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(m),this.h()},h(){s(t,"class","radio-container svelte-1ib2ryh"),Z(t,"flex-direction",e[5]?"row":"column")},m(i,a){B(i,t,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null)},p(i,[a]){if(a&63){r=i[1];let l;for(l=0;l<r.length;l+=1){const o=gt(i,r,l);n[l]?n[l].p(o,a):(n[l]=_t(o),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}a&32&&Z(t,"flex-direction",i[5]?"row":"column")},i:W,o:W,d(i){i&&m(t),X(n,i)}}}function Tr(e,t,r){let{optionsArray:n,chosenId:i,name:a,marginBottom:l=null,fontSize:o=null,asButtons:u=!1}=t;const f=[[]];function h(){i=this.__value,r(0,i)}return e.$$set=c=>{"optionsArray"in c&&r(1,n=c.optionsArray),"chosenId"in c&&r(0,i=c.chosenId),"name"in c&&r(2,a=c.name),"marginBottom"in c&&r(3,l=c.marginBottom),"fontSize"in c&&r(4,o=c.fontSize),"asButtons"in c&&r(5,u=c.asButtons)},[i,n,a,l,o,u,h,f]}class Zl extends te{constructor(t){super(),re(this,t,Tr,Yr,ne,{optionsArray:1,chosenId:0,name:2,marginBottom:3,fontSize:4,asButtons:5})}}class Be{constructor(t,r,n){this.items=t,this.diameter=r*2,this.diameterSq=this.diameter*this.diameter,this.xFun=n,this.tieBreakFn=i=>i,this._oneSided=!1}withTiesBrokenRandomly(){return this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this}oneSided(){return this._oneSided=!0,this}calculateYPositions(){let t=this.items.map((i,a)=>({datum:i,originalIndex:a,x:this.xFun(i),y:null,placed:!1,minPositiveY:0,maxNegativeY:0,score:0,bestPosition:0,heapPos:-1})).sort((i,a)=>i.x-a.x);t.forEach(function(i,a){i.index=a});let r=this.tieBreakFn;t.forEach(function(i){i.tieBreaker=r(i.x)});let n=new Gr;for(n.push(...t);!n.isEmpty();){let i=n.pop();i.placed=!0,i.y=i.bestPosition,this._updateYBounds(i,t,n)}return t.sort((i,a)=>i.originalIndex-a.originalIndex),t.map(i=>({datum:i.datum,x:i.x,y:i.y}))}_sfc32(t,r,n,i){let a=function(){t>>>=0,r>>>=0,n>>>=0,i>>>=0;var l=t+r|0;return t=r^r>>>9,r=n+(n<<3)|0,n=n<<21|n>>>11,i=i+1|0,l=l+i|0,n=n+l|0,(l>>>0)/4294967296};for(let l=0;l<10;l++)a();return a}_updateYBounds(t,r,n){for(let i of[-1,1]){let a;for(let l=t.index+i;l>=0&&l<r.length&&(a=Math.abs(t.x-r[l].x))<this.diameter;l+=i){let o=r[l];if(o.placed)continue;let u=Math.sqrt(this.diameterSq-a*a);o.minPositiveY=Math.max(o.minPositiveY,t.y+u);let f=o.score;o.score=o.minPositiveY,o.bestPosition=o.minPositiveY,this._oneSided||(o.maxNegativeY=Math.min(o.maxNegativeY,t.y-u),-o.maxNegativeY<o.score&&(o.score=-o.maxNegativeY,o.bestPosition=o.maxNegativeY)),o.score>f&&n.deprioritise(o)}}}}class Gr{parent(t){return(t+1>>>1)-1}left(t){return(t<<1)+1}right(t){return t+1<<1}constructor(){this.TOP=0,this._heap=[]}size(){return this._heap.length}isEmpty(){return this.size()==0}peek(){return this._heap[this.TOP]}push(...t){return t.forEach(r=>{r.heapPos=this.size(),this._heap.push(r),this._siftUp()}),this.size()}pop(){const t=this.peek(),r=this.size()-1;return r>this.TOP&&this._swap(this.TOP,r),this._heap.pop(),this._siftDown(),t}deprioritise(t){this._siftDown(t.heapPos)}_greater(t,r){let n=this._heap[t],i=this._heap[r];return n.score<i.score?!0:n.score>i.score?!1:n.tieBreaker<i.tieBreaker}_swap(t,r){let n=this._heap[t];this._heap[t]=this._heap[r],this._heap[r]=n,this._heap[t].heapPos=t,this._heap[r].heapPos=r}_siftUp(){let t=this.size()-1;for(;t>this.TOP&&this._greater(t,this.parent(t));)this._swap(t,this.parent(t)),t=this.parent(t)}_siftDown(t=this.TOP){let r,n,i=this.size();for(;r=this.left(t),n=this.right(t),r<i&&this._greater(r,t)||n<i&&this._greater(n,t);){let a=n<i&&this._greater(n,r)?n:r;this._swap(t,a),t=a}}}function Fe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nr(e){let t,r,n;e.length!==2?(t=Fe,r=(o,u)=>Fe(e(o),u),n=(o,u)=>e(o)-u):(t=e===Fe||e===Wr?e:Ur,r=e,n=e);function i(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const c=f+h>>>1;r(o[c],u)<0?f=c+1:h=c}while(f<h)}return f}function a(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const c=f+h>>>1;r(o[c],u)<=0?f=c+1:h=c}while(f<h)}return f}function l(o,u,f=0,h=o.length){const c=i(o,u,f,h-1);return c>f&&n(o[c-1],u)>-n(o[c],u)?c-1:c}return{left:i,center:l,right:a}}function Ur(){return 0}function Kr(e){return e===null?NaN:+e}const Qr=nr(Fe),Xr=Qr.right;nr(Kr).center;const Zr=Xr,Jr=Math.sqrt(50),jr=Math.sqrt(10),$r=Math.sqrt(2);function De(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=Jr?10:a>=jr?5:a>=$r?2:1;let o,u,f;return i<0?(f=Math.pow(10,-i)/l,o=Math.round(e*f),u=Math.round(t*f),o/f<e&&++o,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*l,o=Math.round(e/f),u=Math.round(t/f),o*f<e&&++o,u*f>t&&--u),u<o&&.5<=r&&r<2?De(e,t,r*2):[o,u,f]}function en(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,l]=n?De(t,e,r):De(e,t,r);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(n)if(l<0)for(let f=0;f<o;++f)u[f]=(a-f)/-l;else for(let f=0;f<o;++f)u[f]=(a-f)*l;else if(l<0)for(let f=0;f<o;++f)u[f]=(i+f)/-l;else for(let f=0;f<o;++f)u[f]=(i+f)*l;return u}function Qe(e,t,r){return t=+t,e=+e,r=+r,De(e,t,r)[2]}function tn(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Qe(t,e,r):Qe(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function et(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ir(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ye(){}var _e=.7,Ve=1/_e,me="\\s*([+-]?\\d+)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nn=/^#([0-9a-f]{3,8})$/,ln=new RegExp(`^rgb\\(${me},${me},${me}\\)$`),an=new RegExp(`^rgb\\(${ee},${ee},${ee}\\)$`),on=new RegExp(`^rgba\\(${me},${me},${me},${pe}\\)$`),sn=new RegExp(`^rgba\\(${ee},${ee},${ee},${pe}\\)$`),un=new RegExp(`^hsl\\(${pe},${ee},${ee}\\)$`),fn=new RegExp(`^hsla\\(${pe},${ee},${ee},${pe}\\)$`),pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};et(ye,ve,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vt,formatHex:vt,formatHex8:cn,formatHsl:hn,formatRgb:yt,toString:yt});function vt(){return this.rgb().formatHex()}function cn(){return this.rgb().formatHex8()}function hn(){return lr(this).formatHsl()}function yt(){return this.rgb().formatRgb()}function ve(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nn.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bt(t):r===3?new K(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Me(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Me(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ln.exec(e))?new K(t[1],t[2],t[3],1):(t=an.exec(e))?new K(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=on.exec(e))?Me(t[1],t[2],t[3],t[4]):(t=sn.exec(e))?Me(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=un.exec(e))?kt(t[1],t[2]/100,t[3]/100,1):(t=fn.exec(e))?kt(t[1],t[2]/100,t[3]/100,t[4]):pt.hasOwnProperty(e)?bt(pt[e]):e==="transparent"?new K(NaN,NaN,NaN,0):null}function bt(e){return new K(e>>16&255,e>>8&255,e&255,1)}function Me(e,t,r,n){return n<=0&&(e=t=r=NaN),new K(e,t,r,n)}function dn(e){return e instanceof ye||(e=ve(e)),e?(e=e.rgb(),new K(e.r,e.g,e.b,e.opacity)):new K}function Xe(e,t,r,n){return arguments.length===1?dn(e):new K(e,t,r,n??1)}function K(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}et(K,Xe,ir(ye,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new K(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_e:Math.pow(_e,e),new K(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new K(he(this.r),he(this.g),he(this.b),He(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xt,formatHex:xt,formatHex8:mn,formatRgb:wt,toString:wt}));function xt(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}`}function mn(){return`#${ce(this.r)}${ce(this.g)}${ce(this.b)}${ce((isNaN(this.opacity)?1:this.opacity)*255)}`}function wt(){const e=He(this.opacity);return`${e===1?"rgb(":"rgba("}${he(this.r)}, ${he(this.g)}, ${he(this.b)}${e===1?")":`, ${e})`}`}function He(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function he(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ce(e){return e=he(e),(e<16?"0":"")+e.toString(16)}function kt(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new j(e,t,r,n)}function lr(e){if(e instanceof j)return new j(e.h,e.s,e.l,e.opacity);if(e instanceof ye||(e=ve(e)),!e)return new j;if(e instanceof j)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),l=NaN,o=a-i,u=(a+i)/2;return o?(t===a?l=(r-n)/o+(r<n)*6:r===a?l=(n-t)/o+2:l=(t-r)/o+4,o/=u<.5?a+i:2-a-i,l*=60):o=u>0&&u<1?0:l,new j(l,o,u,e.opacity)}function gn(e,t,r,n){return arguments.length===1?lr(e):new j(e,t,r,n??1)}function j(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}et(j,gn,ir(ye,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new j(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_e:Math.pow(_e,e),new j(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new K(Te(e>=240?e-240:e+120,i,n),Te(e,i,n),Te(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new j(Et(this.h),Ne(this.s),Ne(this.l),He(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=He(this.opacity);return`${e===1?"hsl(":"hsla("}${Et(this.h)}, ${Ne(this.s)*100}%, ${Ne(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Et(e){return e=(e||0)%360,e<0?e+360:e}function Ne(e){return Math.max(0,Math.min(1,e||0))}function Te(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tt=e=>()=>e;function _n(e,t){return function(r){return e+r*t}}function pn(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vn(e){return(e=+e)==1?ar:function(t,r){return r-t?pn(t,r,e):tt(isNaN(t)?r:t)}}function ar(e,t){var r=t-e;return r?_n(e,r):tt(isNaN(e)?t:e)}const At=function e(t){var r=vn(t);function n(i,a){var l=r((i=Xe(i)).r,(a=Xe(a)).r),o=r(i.g,a.g),u=r(i.b,a.b),f=ar(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=o(h),i.b=u(h),i.opacity=f(h),i+""}}return n.gamma=e,n}(1);function yn(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function bn(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xn(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)i[l]=rt(e[l],t[l]);for(;l<r;++l)a[l]=t[l];return function(o){for(l=0;l<n;++l)a[l]=i[l](o);return a}}function wn(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qe(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kn(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=rt(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ge=new RegExp(Ze.source,"g");function En(e){return function(){return e}}function An(e){return function(t){return e(t)+""}}function Mn(e,t){var r=Ze.lastIndex=Ge.lastIndex=0,n,i,a,l=-1,o=[],u=[];for(e=e+"",t=t+"";(n=Ze.exec(e))&&(i=Ge.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[l]?o[l]+=a:o[++l]=a),(n=n[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,u.push({i:l,x:qe(n,i)})),r=Ge.lastIndex;return r<t.length&&(a=t.slice(r),o[l]?o[l]+=a:o[++l]=a),o.length<2?u[0]?An(u[0].x):En(t):(t=u.length,function(f){for(var h=0,c;h<t;++h)o[(c=u[h]).i]=c.x(f);return o.join("")})}function rt(e,t){var r=typeof t,n;return t==null||r==="boolean"?tt(t):(r==="number"?qe:r==="string"?(n=ve(t))?(t=n,At):Mn:t instanceof ve?At:t instanceof Date?wn:bn(t)?yn:Array.isArray(t)?xn:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kn:qe)(e,t)}function Nn(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Sn(e){return function(){return e}}function Cn(e){return+e}var Mt=[0,1];function de(e){return e}function Je(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Sn(isNaN(t)?NaN:.5)}function In(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Rn(e,t,r){var n=e[0],i=e[1],a=t[0],l=t[1];return i<n?(n=Je(i,n),a=r(l,a)):(n=Je(n,i),a=r(a,l)),function(o){return a(n(o))}}function Fn(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=Je(e[l],e[l+1]),a[l]=r(t[l],t[l+1]);return function(o){var u=Zr(e,o,1,n)-1;return a[u](i[u](o))}}function Pn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ln(){var e=Mt,t=Mt,r=rt,n,i,a,l=de,o,u,f;function h(){var d=Math.min(e.length,t.length);return l!==de&&(l=In(e[0],e[d-1])),o=d>2?Fn:Rn,u=f=null,c}function c(d){return d==null||isNaN(d=+d)?a:(u||(u=o(e.map(n),t,r)))(n(l(d)))}return c.invert=function(d){return l(i((f||(f=o(t,e.map(n),qe)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Cn),h()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),h()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),r=Nn,h()},c.clamp=function(d){return arguments.length?(l=d?!0:de,h()):l!==de},c.interpolate=function(d){return arguments.length?(r=d,h()):r},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,g){return n=d,i=g,h()}}function zn(){return Ln()(de,de)}function Bn(e,t,r,n){var i=tn(e,t,r),a;switch(n=Ar(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Cr(i,l))&&(n.precision=a),rr(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ir(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Sr(i))&&(n.precision=a-(n.type==="%")*2);break}}return tr(n)}function Dn(e){var t=e.domain;return e.ticks=function(r){var n=t();return en(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Bn(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,l=n[i],o=n[a],u,f,h=10;for(o<l&&(f=l,l=o,o=f,f=i,i=a,a=f);h-- >0;){if(f=Qe(l,o,r),f===u)return n[i]=l,n[a]=o,t(n);if(f>0)l=Math.floor(l/f)*f,o=Math.ceil(o/f)*f;else if(f<0)l=Math.ceil(l*f)/f,o=Math.floor(o*f)/f;else break;u=f}return e},e}function je(){var e=zn();return e.copy=function(){return Pn(e,je())},rn.apply(e,arguments),Dn(e)}var $e="http://www.w3.org/1999/xhtml";const Nt={svg:"http://www.w3.org/2000/svg",xhtml:$e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function or(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Nt.hasOwnProperty(t)?{space:Nt[t],local:e}:e}function Vn(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===$e&&t.documentElement.namespaceURI===$e?t.createElement(e):t.createElementNS(r,e)}}function Hn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sr(e){var t=or(e);return(t.local?Hn:Vn)(t)}function qn(){}function ur(e){return e==null?qn:function(){return this.querySelector(e)}}function On(e){typeof e!="function"&&(e=ur(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],l=a.length,o=n[i]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=e.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),o[h]=f);return new J(n,this._parents)}function Yn(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Tn(){return[]}function Gn(e){return e==null?Tn:function(){return this.querySelectorAll(e)}}function Wn(e){return function(){return Yn(e.apply(this,arguments))}}function Un(e){typeof e=="function"?e=Wn(e):e=Gn(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var l=t[a],o=l.length,u,f=0;f<o;++f)(u=l[f])&&(n.push(e.call(u,u.__data__,f,l)),i.push(u));return new J(n,i)}function Kn(e){return function(){return this.matches(e)}}function fr(e){return function(t){return t.matches(e)}}var Qn=Array.prototype.find;function Xn(e){return function(){return Qn.call(this.children,e)}}function Zn(){return this.firstElementChild}function Jn(e){return this.select(e==null?Zn:Xn(typeof e=="function"?e:fr(e)))}var jn=Array.prototype.filter;function $n(){return Array.from(this.children)}function ei(e){return function(){return jn.call(this.children,e)}}function ti(e){return this.selectAll(e==null?$n:ei(typeof e=="function"?e:fr(e)))}function ri(e){typeof e!="function"&&(e=Kn(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],l=a.length,o=n[i]=[],u,f=0;f<l;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&o.push(u);return new J(n,this._parents)}function cr(e){return new Array(e.length)}function ni(){return new J(this._enter||this._groups.map(cr),this._parents)}function Oe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Oe.prototype={constructor:Oe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ii(e){return function(){return e}}function li(e,t,r,n,i,a){for(var l=0,o,u=t.length,f=a.length;l<f;++l)(o=t[l])?(o.__data__=a[l],n[l]=o):r[l]=new Oe(e,a[l]);for(;l<u;++l)(o=t[l])&&(i[l]=o)}function ai(e,t,r,n,i,a,l){var o,u,f=new Map,h=t.length,c=a.length,d=new Array(h),g;for(o=0;o<h;++o)(u=t[o])&&(d[o]=g=l.call(u,u.__data__,o,t)+"",f.has(g)?i[o]=u:f.set(g,u));for(o=0;o<c;++o)g=l.call(e,a[o],o,a)+"",(u=f.get(g))?(n[o]=u,u.__data__=a[o],f.delete(g)):r[o]=new Oe(e,a[o]);for(o=0;o<h;++o)(u=t[o])&&f.get(d[o])===u&&(i[o]=u)}function oi(e){return e.__data__}function si(e,t){if(!arguments.length)return Array.from(this,oi);var r=t?ai:li,n=this._parents,i=this._groups;typeof e!="function"&&(e=ii(e));for(var a=i.length,l=new Array(a),o=new Array(a),u=new Array(a),f=0;f<a;++f){var h=n[f],c=i[f],d=c.length,g=ui(e.call(h,h&&h.__data__,f,n)),p=g.length,E=o[f]=new Array(p),z=l[f]=new Array(p),x=u[f]=new Array(d);r(h,c,E,z,x,g,t);for(var v=0,A=0,L,R;v<p;++v)if(L=E[v]){for(v>=A&&(A=v+1);!(R=z[A])&&++A<p;);L._next=R||null}}return l=new J(l,n),l._enter=o,l._exit=u,l}function ui(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fi(){return new J(this._exit||this._groups.map(cr),this._parents)}function ci(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function hi(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,l=Math.min(i,a),o=new Array(i),u=0;u<l;++u)for(var f=r[u],h=n[u],c=f.length,d=o[u]=new Array(c),g,p=0;p<c;++p)(g=f[p]||h[p])&&(d[p]=g);for(;u<i;++u)o[u]=r[u];return new J(o,this._parents)}function di(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],l;--i>=0;)(l=n[i])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function mi(e){e||(e=gi);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var l=r[a],o=l.length,u=i[a]=new Array(o),f,h=0;h<o;++h)(f=l[h])&&(u[h]=f);u.sort(t)}return new J(i,this._parents).order()}function gi(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _i(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function pi(){return Array.from(this)}function vi(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var l=n[i];if(l)return l}return null}function yi(){let e=0;for(const t of this)++e;return e}function bi(){return!this.node()}function xi(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,l=i.length,o;a<l;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function wi(e){return function(){this.removeAttribute(e)}}function ki(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ei(e,t){return function(){this.setAttribute(e,t)}}function Ai(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mi(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Ni(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Si(e,t){var r=or(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?ki:wi:typeof t=="function"?r.local?Ni:Mi:r.local?Ai:Ei)(r,t))}function hr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ci(e){return function(){this.style.removeProperty(e)}}function Ii(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Ri(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Fi(e,t,r){return arguments.length>1?this.each((t==null?Ci:typeof t=="function"?Ri:Ii)(e,t,r??"")):Pi(this.node(),e)}function Pi(e,t){return e.style.getPropertyValue(t)||hr(e).getComputedStyle(e,null).getPropertyValue(t)}function Li(e){return function(){delete this[e]}}function zi(e,t){return function(){this[e]=t}}function Bi(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Di(e,t){return arguments.length>1?this.each((t==null?Li:typeof t=="function"?Bi:zi)(e,t)):this.node()[e]}function dr(e){return e.trim().split(/^|\s+/)}function nt(e){return e.classList||new mr(e)}function mr(e){this._node=e,this._names=dr(e.getAttribute("class")||"")}mr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gr(e,t){for(var r=nt(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function _r(e,t){for(var r=nt(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Vi(e){return function(){gr(this,e)}}function Hi(e){return function(){_r(this,e)}}function qi(e,t){return function(){(t.apply(this,arguments)?gr:_r)(this,e)}}function Oi(e,t){var r=dr(e+"");if(arguments.length<2){for(var n=nt(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?qi:t?Vi:Hi)(r,t))}function Yi(){this.textContent=""}function Ti(e){return function(){this.textContent=e}}function Gi(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Wi(e){return arguments.length?this.each(e==null?Yi:(typeof e=="function"?Gi:Ti)(e)):this.node().textContent}function Ui(){this.innerHTML=""}function Ki(e){return function(){this.innerHTML=e}}function Qi(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Xi(e){return arguments.length?this.each(e==null?Ui:(typeof e=="function"?Qi:Ki)(e)):this.node().innerHTML}function Zi(){this.nextSibling&&this.parentNode.appendChild(this)}function Ji(){return this.each(Zi)}function ji(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $i(){return this.each(ji)}function el(e){var t=typeof e=="function"?e:sr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function tl(){return null}function rl(e,t){var r=typeof e=="function"?e:sr(e),n=t==null?tl:typeof t=="function"?t:ur(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function nl(){var e=this.parentNode;e&&e.removeChild(this)}function il(){return this.each(nl)}function ll(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function al(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ol(e){return this.select(e?al:ll)}function sl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ul(e){return function(t){e.call(this,t,this.__data__)}}function fl(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function cl(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function hl(e,t,r){return function(){var n=this.__on,i,a=ul(t);if(n){for(var l=0,o=n.length;l<o;++l)if((i=n[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function dl(e,t,r){var n=fl(e+""),i,a=n.length,l;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,f=o.length,h;u<f;++u)for(i=0,h=o[u];i<a;++i)if((l=n[i]).type===h.type&&l.name===h.name)return h.value}return}for(o=t?hl:cl,i=0;i<a;++i)this.each(o(n[i],t,r));return this}function pr(e,t,r){var n=hr(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ml(e,t){return function(){return pr(this,e,t)}}function gl(e,t){return function(){return pr(this,e,t.apply(this,arguments))}}function _l(e,t){return this.each((typeof t=="function"?gl:ml)(e,t))}function*pl(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,l;i<a;++i)(l=n[i])&&(yield l)}var vl=[null];function J(e,t){this._groups=e,this._parents=t}function yl(){return this}J.prototype={constructor:J,select:On,selectAll:Un,selectChild:Jn,selectChildren:ti,filter:ri,data:si,enter:ni,exit:fi,join:ci,merge:hi,selection:yl,order:di,sort:mi,call:_i,nodes:pi,node:vi,size:yi,empty:bi,each:xi,attr:Si,style:Fi,property:Di,classed:Oi,text:Wi,html:Xi,raise:Ji,lower:$i,append:el,insert:rl,remove:il,clone:ol,datum:sl,on:dl,dispatch:_l,[Symbol.iterator]:pl};function fe(e){return typeof e=="string"?new J([[document.querySelector(e)]],[document.documentElement]):new J([[e]],vl)}function St(e,t,r){const n=e.slice();return n[24]=t[r],n[26]=r,n}function Ct(e,t,r){const n=e.slice();return n[27]=t[r],n[26]=r,n}function bl(e,t,r){const n=e.slice();return n[29]=t[r],n[26]=r,n}function It(e,t,r){const n=e.slice();return n[27]=t[r],n[26]=r,n}function Rt(e){let t,r,n,i;return{c(){t=F("g"),r=F("circle"),this.h()},l(a){t=P(a,"g",{transform:!0});var l=w(t);r=P(l,"circle",{"pointer-events":!0,r:!0,stroke:!0,fill:!0,"fill-opacity":!0}),w(r).forEach(m),l.forEach(m),this.h()},h(){s(r,"pointer-events","none"),s(r,"r","4"),s(r,"stroke",n=e[27].datum.areacd===e[6].datum.areacd?"black":"none"),s(r,"fill","#6e6e6e"),s(r,"fill-opacity","0.15"),s(t,"transform",i="translate("+e[27].x+","+e[8](e[27].y)+")")},m(a,l){B(a,t,l),N(t,r)},p(a,l){l[0]&66&&n!==(n=a[27].datum.areacd===a[6].datum.areacd?"black":"none")&&s(r,"stroke",n),l[0]&258&&i!==(i="translate("+a[27].x+","+a[8](a[27].y)+")")&&s(t,"transform",i)},d(a){a&&m(t)}}}function xl(e){let t,r,n,i,a,l,o;return{c(){t=F("path"),r=F("path"),n=F("text"),i=T(e[29]),a=T(" than"),l=F("text"),o=T("average"),this.h()},l(u){t=P(u,"path",{transform:!0,d:!0,"stroke-width":!0,stroke:!0}),w(t).forEach(m),r=P(u,"path",{transform:!0,d:!0,stroke:!0,fill:!0}),w(r).forEach(m),n=P(u,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var f=w(n);i=G(f,e[29]),a=G(f," than"),f.forEach(m),l=P(u,"text",{transform:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var h=w(l);o=G(h,"average"),h.forEach(m),this.h()},h(){s(t,"transform","translate(0,-40)"),s(t,"d","M "+-90*[-1,1][e[26]]+" 0 l"+-50*[-1,1][e[26]]+" 0"),s(t,"stroke-width","1px"),s(t,"stroke","black"),s(r,"transform","translate(0,-40)"),s(r,"d","M "+-148*[-1,1][e[26]]+" 0 l"+6*[-1,1][e[26]]+" -6 l0 12 z"),s(r,"stroke","none"),s(r,"fill","black"),s(n,"transform","translate(0,-40)"),s(n,"x",-145*[-1,1][e[26]]),s(n,"y","15"),s(n,"text-anchor","middle"),s(n,"fill","black"),s(n,"font-size","14px"),s(l,"transform","translate(0,-40)"),s(l,"x",-145*[-1,1][e[26]]),s(l,"y","27"),s(l,"text-anchor","middle"),s(l,"fill","black"),s(l,"font-size","14px")},m(u,f){B(u,t,f),B(u,r,f),B(u,n,f),N(n,i),N(n,a),B(u,l,f),N(l,o)},p:W,d(u){u&&m(t),u&&m(r),u&&m(n),u&&m(l)}}}function Ft(e){let t,r,n,i,a,l,o,u="49%",f,h,c;return{c(){t=F("g"),r=F("circle"),i=F("g"),a=F("rect"),o=F("text"),f=T(u),this.h()},l(d){t=P(d,"g",{transform:!0});var g=w(t);r=P(g,"circle",{"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),w(r).forEach(m),i=P(g,"g",{class:!0});var p=w(i);a=P(p,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0}),w(a).forEach(m),o=P(p,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var E=w(o);f=G(E,u),E.forEach(m),p.forEach(m),g.forEach(m),this.h()},h(){s(r,"pointer-events","none"),s(r,"r","6"),s(r,"stroke","white"),s(r,"stroke-width","1px"),s(r,"fill",n=U[e[27].datum.role]),s(r,"opacity","1"),s(a,"x","3"),s(a,"y","-20"),s(a,"width","35"),s(a,"height","18.5"),s(a,"rx","3px"),s(a,"stroke",l=U[e[27].datum.role]),s(a,"fill","white"),s(a,"stroke-width","1px"),s(o,"x","6"),s(o,"y","-6"),s(o,"text-anchor","start"),s(o,"fill",h=U[e[27].datum.role]),s(o,"font-size","14px"),s(i,"class","labelGroup"),s(t,"transform",c="translate("+e[2](.4)+","+e[8](e[27].y)+")")},m(d,g){B(d,t,g),N(t,r),N(t,i),N(i,a),N(i,o),N(o,f)},p(d,g){g[0]&128&&n!==(n=U[d[27].datum.role])&&s(r,"fill",n),g[0]&128&&l!==(l=U[d[27].datum.role])&&s(a,"stroke",l),g[0]&128&&h!==(h=U[d[27].datum.role])&&s(o,"fill",h),g[0]&388&&c!==(c="translate("+d[2](.4)+","+d[8](d[27].y)+")")&&s(t,"transform",c)},d(d){d&&m(t)}}}function Pt(e){let t,r=e[24]+"",n;return{c(){t=F("text"),n=T(r),this.h()},l(i){t=P(i,"text",{transform:!0,"text-anchor":!0,x:!0,y:!0,fill:!0,"font-size":!0});var a=w(t);n=G(a,r),a.forEach(m),this.h()},h(){s(t,"transform","translate(-22,42)"),s(t,"text-anchor","end"),s(t,"x","0"),s(t,"y",e[26]*14),s(t,"fill","black"),s(t,"font-size","14px")},m(i,a){B(i,t,a),N(t,n)},p(i,a){a[0]&32&&r!==(r=i[24]+"")&&ue(n,r)},d(i){i&&m(t)}}}function wl(e){let t,r,n,i,a,l,o,u,f,h,c,d,g,p,E,z,x,v,A,L,R=e[1],y=[];for(let M=0;M<R.length;M+=1)y[M]=Rt(It(e,R,M));let k=["better","worse"],I=[];for(let M=0;M<2;M+=1)I[M]=xl(bl(e,k,M));let S=e[7],C=[];for(let M=0;M<S.length;M+=1)C[M]=Ft(Ct(e,S,M));let q=e[5],D=[];for(let M=0;M<q.length;M+=1)D[M]=Pt(St(e,q,M));return{c(){t=V("div"),r=V("div"),n=F("svg"),i=F("g"),a=F("g");for(let M=0;M<y.length;M+=1)y[M].c();l=F("g"),o=F("line"),f=F("text"),h=T("Half of areas have a value"),c=F("text"),d=T("higher/lower than this line");for(let M=0;M<2;M+=1)I[M].c();p=F("g");for(let M=0;M<C.length;M+=1)C[M].c();E=F("g"),z=F("path"),x=F("path");for(let M=0;M<D.length;M+=1)D[M].c();this.h()},l(M){t=H(M,"DIV",{class:!0});var _=w(t);r=H(_,"DIV",{class:!0});var b=w(r);n=P(b,"svg",{height:!0,width:!0});var O=w(n);i=P(O,"g",{class:!0,transform:!0});var ie=w(i);a=P(ie,"g",{class:!0});var Q=w(a);for(let Y=0;Y<y.length;Y+=1)y[Y].l(Q);Q.forEach(m),l=P(ie,"g",{class:!0,transform:!0});var $=w(l);o=P($,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),w(o).forEach(m),f=P($,"text",{y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var it=w(f);h=G(it,"Half of areas have a value"),it.forEach(m),c=P($,"text",{y:!0,"text-anchor":!0,fill:!0,"font-size":!0});var lt=w(c);d=G(lt,"higher/lower than this line"),lt.forEach(m);for(let Y=0;Y<2;Y+=1)I[Y].l($);$.forEach(m),p=P(ie,"g",{class:!0});var at=w(p);for(let Y=0;Y<C.length;Y+=1)C[Y].l(at);at.forEach(m),E=P(ie,"g",{class:!0,transform:!0});var be=w(E);z=P(be,"path",{transform:!0,d:!0,"stroke-width":!0,stroke:!0,fill:!0}),w(z).forEach(m),x=P(be,"path",{transform:!0,d:!0,stroke:!0,fill:!0}),w(x).forEach(m);for(let Y=0;Y<D.length;Y+=1)D[Y].l(be);be.forEach(m),ie.forEach(m),O.forEach(m),b.forEach(m),_.forEach(m),this.h()},h(){s(a,"class","backgroundCirclesGroup"),s(o,"x1","0"),s(o,"x2","0"),s(o,"y1","-18"),s(o,"y2",u=e[3]+10),s(o,"stroke","#871A5B"),s(o,"stroke-width","1.5px"),s(f,"y","-36"),s(f,"text-anchor","middle"),s(f,"fill","#871A5B"),s(f,"font-size","14px"),s(c,"y","-22"),s(c,"text-anchor","middle"),s(c,"fill","#871A5B"),s(c,"font-size","14px"),s(l,"class","medianLineGroup"),s(l,"transform",g="translate("+e[2](0)+",0)"),s(p,"class","primaryCirclesGroup"),s(z,"transform","translate(0,18)"),s(z,"d","M 0 0 l 0 20 l-20 0"),s(z,"stroke-width","1px"),s(z,"stroke","black"),s(z,"fill","none"),s(x,"transform","translate(0,10)"),s(x,"d","M 0 0 l6 6 l-12 0 z"),s(x,"stroke","none"),s(x,"fill","black"),s(E,"class","explanationGroup"),s(E,"transform",v="translate("+e[6].x+","+e[8](e[6].y)+")"),s(i,"class","chart-container"),s(i,"transform",A="translate("+e[4].left+","+e[4].top+")"),s(n,"height",e[9]),s(n,"width",e[0]),s(r,"class","svg-container svelte-13otsug"),yr(()=>e[18].call(r)),s(t,"class","keyContainer svelte-13otsug")},m(M,_){B(M,t,_),N(t,r),N(r,n),N(n,i),N(i,a);for(let b=0;b<y.length;b+=1)y[b]&&y[b].m(a,null);N(i,l),N(l,o),N(l,f),N(f,h),N(l,c),N(c,d);for(let b=0;b<2;b+=1)I[b]&&I[b].m(l,null);N(i,p);for(let b=0;b<C.length;b+=1)C[b]&&C[b].m(p,null);N(i,E),N(E,z),N(E,x);for(let b=0;b<D.length;b+=1)D[b]&&D[b].m(E,null);L=br(r,e[18].bind(r))},p(M,_){if(_[0]&322){R=M[1];let b;for(b=0;b<R.length;b+=1){const O=It(M,R,b);y[b]?y[b].p(O,_):(y[b]=Rt(O),y[b].c(),y[b].m(a,null))}for(;b<y.length;b+=1)y[b].d(1);y.length=R.length}if(_[0]&8&&u!==(u=M[3]+10)&&s(o,"y2",u),_[0]&4&&g!==(g="translate("+M[2](0)+",0)")&&s(l,"transform",g),_[0]&388){S=M[7];let b;for(b=0;b<S.length;b+=1){const O=Ct(M,S,b);C[b]?C[b].p(O,_):(C[b]=Ft(O),C[b].c(),C[b].m(p,null))}for(;b<C.length;b+=1)C[b].d(1);C.length=S.length}if(_[0]&32){q=M[5];let b;for(b=0;b<q.length;b+=1){const O=St(M,q,b);D[b]?D[b].p(O,_):(D[b]=Pt(O),D[b].c(),D[b].m(E,null))}for(;b<D.length;b+=1)D[b].d(1);D.length=q.length}_[0]&320&&v!==(v="translate("+M[6].x+","+M[8](M[6].y)+")")&&s(E,"transform",v),_[0]&16&&A!==(A="translate("+M[4].left+","+M[4].top+")")&&s(i,"transform",A),_[0]&1&&s(n,"width",M[0])},i:W,o:W,d(M){M&&m(t),X(y,M),X(I,M),X(C,M),X(D,M),L()}}}function kl(e,t){const r=e.map(i=>i[t]);r.sort((i,a)=>i-a);const n=r.length;if(n%2===0){const i=r[n/2-1],a=r[n/2];return(i+a)/2}else return r[Math.floor(n/2)]}function El(e,t){const r=e.split(" "),n=Math.ceil(r.length/t),i=[];let a=[];return r.forEach(l=>{a.length<n?a.push(l):(i.push(a.join(" ")),a=[l])}),a.length>0&&i.push(a.join(" ")),i}function Al(e,t,r){let n,i,a,l,o,u,f,h,c,d,g,p,E,z,x;Ue("areas");let{siblingAreas:v}=t,A=[{role:"main",areacd:"E06000002"}],L=Ue("beeswarmKeyData"),R=[{data:{areacd:"E06000002",areanm:"Middlesbrough"},role:"main"}],y=100,k=130;function I(){y=this.clientWidth,r(0,y)}return e.$$set=S=>{"siblingAreas"in S&&r(10,v=S.siblingAreas)},e.$$.update=()=>{e.$$.dirty[0]&17&&r(13,i=y-n.left-n.right),e.$$.dirty[0]&16&&r(3,a=k-n.top-n.bottom),e.$$.dirty[0]&1024&&r(17,l=L.filter(S=>v.includes(S.areacd)||S.areacd===R.find(C=>C.role==="main").data.areacd)),e.$$.dirty[0]&131072&&r(16,o=kl(l,"value")),e.$$.dirty[0]&196608&&r(15,u=Math.max(Math.abs(o-Math.min(...l.map(S=>S.value))),Math.abs(o-Math.max(...l.map(S=>S.value))))),e.$$.dirty[0]&98304,e.$$.dirty[0]&229376&&r(12,f=l.map(S=>({...S,calcYValue:(o-S.value)/u}))),e.$$.dirty[0]&98304&&r(11,h=A.filter(S=>S.role==="main").map(S=>({...S,value:L.filter(C=>C.areacd===S.areacd).length>0?L.find(C=>C.areacd===S.areacd).value:null,calcYValue:L.filter(C=>C.areacd===S.areacd).length>0?(o-L.find(C=>C.areacd===S.areacd).value)/u:null})).filter(S=>S.yValue!==null)),e.$$.dirty[0]&24576&&r(2,d=je().domain(c).range([0,i])),e.$$.dirty[0]&4100&&r(1,g=new Be(f,6,S=>d(Math.pow(S.calcYValue,1))).calculateYPositions()),e.$$.dirty[0]&10&&r(8,p=je().domain([Math.min(...g.map(S=>S.y)),Math.max(...g.map(S=>S.y))]).range([0,a])),e.$$.dirty[0]&2052&&r(7,E=new Be(h,8,S=>d(Math.pow(S.calcYValue,1))).calculateYPositions()),e.$$.dirty[0]&2&&r(6,z=g.reduce((S,C)=>S.x>C.x?S:C))},r(4,n={top:55,left:40,right:40,bottom:45}),r(14,c=[-1,1]),r(5,x=El("Each circle represents a local authority. This is the highest ranking area.",2)),[y,g,d,a,n,x,z,E,p,k,v,h,f,i,c,u,o,l,I]}class Jl extends te{constructor(t){super(),re(this,t,Al,wl,ne,{siblingAreas:10},null,[-1,-1])}}function Lt(e,t,r){const n=e.slice();return n[6]=t[r],n[8]=r,n}function zt(e){let t,r,n,i,a,l;return{c(){t=F("g"),r=F("circle"),this.h()},l(o){t=P(o,"g",{transform:!0});var u=w(t);r=P(u,"circle",{hoverid:!0,r:!0,stroke:!0,fill:!0,opacity:!0}),w(r).forEach(m),u.forEach(m),this.h()},h(){s(r,"hoverid",n=e[6].datum.areacd),s(r,"r","5"),s(r,"stroke","none"),s(r,"fill","#6e6e6e"),s(r,"opacity","0.25"),s(t,"transform",i="translate("+e[6].x+","+e[2](e[6].y)+")")},m(o,u){B(o,t,u),N(t,r),a||(l=[We(r,"mouseover",e[3]),We(r,"mouseleave",e[4])],a=!0)},p(o,u){u&2&&n!==(n=o[6].datum.areacd)&&s(r,"hoverid",n),u&6&&i!==(i="translate("+o[6].x+","+o[2](o[6].y)+")")&&s(t,"transform",i)},d(o){o&&m(t),a=!1,xr(l)}}}function Ml(e){let t,r,n=e[1],i=[];for(let a=0;a<n.length;a+=1)i[a]=zt(Lt(e,n,a));return{c(){t=F("g");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){t=P(a,"g",{class:!0,opacity:!0});var l=w(t);for(let o=0;o<i.length;o+=1)i[o].l(l);l.forEach(m),this.h()},h(){s(t,"class","backgroundCirclesGroup"),s(t,"opacity",r=e[0]===null?1:.3)},m(a,l){B(a,t,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(a,[l]){if(l&30){n=a[1];let o;for(o=0;o<n.length;o+=1){const u=Lt(a,n,o);i[o]?i[o].p(u,l):(i[o]=zt(u),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}l&1&&r!==(r=a[0]===null?1:.3)&&s(t,"opacity",r)},i:W,o:W,d(a){a&&m(t),X(i,a)}}}function Nl(e,t,r){let{backgroundCirclesStep2:n,x:i,y:a,hoverIndex:l}=t;function o(f){r(0,l=fe(this).attr("hoverid"))}function u(f){r(0,l=null)}return e.$$set=f=>{"backgroundCirclesStep2"in f&&r(1,n=f.backgroundCirclesStep2),"x"in f&&r(2,i=f.x),"y"in f&&r(5,a=f.y),"hoverIndex"in f&&r(0,l=f.hoverIndex)},[l,n,i,o,u,a]}class Sl extends te{constructor(t){super(),re(this,t,Nl,Ml,ne,{backgroundCirclesStep2:1,x:2,y:5,hoverIndex:0})}}function Bt(e,t,r){const n=e.slice();return n[4]=t[r],n[6]=r,n}function Dt(e){let t,r,n;return{c(){t=F("g"),r=F("circle"),this.h()},l(i){t=P(i,"g",{transform:!0});var a=w(t);r=P(a,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0,"pointer-events":!0}),w(r).forEach(m),a.forEach(m),this.h()},h(){s(r,"r","7"),s(r,"stroke","white"),s(r,"stroke-width","2px"),s(r,"fill","#F39431"),s(r,"opacity","1"),s(r,"pointer-events","none"),s(t,"transform",n="translate("+e[4].x+","+e[1](e[4].y)+")")},m(i,a){B(i,t,a),N(t,r)},p(i,a){a&3&&n!==(n="translate("+i[4].x+","+i[1](i[4].y)+")")&&s(t,"transform",n)},d(i){i&&m(t)}}}function Cl(e){let t,r=e[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Dt(Bt(e,r,i));return{c(){t=F("g");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){t=P(i,"g",{class:!0});var a=w(t);for(let l=0;l<n.length;l+=1)n[l].l(a);a.forEach(m),this.h()},h(){s(t,"class","hoverCirclesGroup")},m(i,a){B(i,t,a);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null)},p(i,[a]){if(a&3){r=i[0];let l;for(l=0;l<r.length;l+=1){const o=Bt(i,r,l);n[l]?n[l].p(o,a):(n[l]=Dt(o),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},i:W,o:W,d(i){i&&m(t),X(n,i)}}}function Il(e,t,r){let{backgroundCirclesStep2:n,x:i,y:a,hoverIndex:l}=t;return e.$$set=o=>{"backgroundCirclesStep2"in o&&r(0,n=o.backgroundCirclesStep2),"x"in o&&r(1,i=o.x),"y"in o&&r(2,a=o.y),"hoverIndex"in o&&r(3,l=o.hoverIndex)},[n,i,a,l]}class Rl extends te{constructor(t){super(),re(this,t,Il,Cl,ne,{backgroundCirclesStep2:0,x:1,y:2,hoverIndex:3})}}function Vt(e,t,r){const n=e.slice();return n[4]=t[r],n[6]=r,n}function Ht(e,t,r){const n=e.slice();return n[4]=t[r],n[6]=r,n}function Fl(e){let t,r;return{c(){t=F("circle"),this.h()},l(n){t=P(n,"circle",{"pointer-events":!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),w(t).forEach(m),this.h()},h(){s(t,"pointer-events","none"),s(t,"r","7"),s(t,"stroke","white"),s(t,"stroke-width","1px"),s(t,"fill",r=U[e[4].datum.role==="custom"?"custom"+(1+e[2].custom.map(Tt).indexOf(e[4].datum.areacd)):e[4].datum.role]),s(t,"opacity","1")},m(n,i){B(n,t,i)},p(n,i){i&5&&r!==(r=U[n[4].datum.role==="custom"?"custom"+(1+n[2].custom.map(Tt).indexOf(n[4].datum.areacd)):n[4].datum.role])&&s(t,"fill",r)},d(n){n&&m(t)}}}function Pl(e){let t,r,n;return{c(){t=F("rect"),this.h()},l(i){t=P(i,"rect",{"pointer-events":!0,transform:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0});var a=w(t);a.forEach(m),this.h()},h(){s(t,"pointer-events","none"),s(t,"transform",r=["country","uk"].includes(e[4].datum.role)?"rotate(45)":null),s(t,"x",-6),s(t,"y",-6),s(t,"width",12),s(t,"height",12),s(t,"fill",n=U[e[4].datum.role==="custom"?"custom"+(1+e[2].custom.map(Yt).indexOf(e[4].datum.areacd)):e[4].datum.role]),s(t,"stroke","white"),s(t,"stroke-width","1px"),s(t,"opacity","1")},m(i,a){B(i,t,a)},p(i,a){a&1&&r!==(r=["country","uk"].includes(i[4].datum.role)?"rotate(45)":null)&&s(t,"transform",r),a&5&&n!==(n=U[i[4].datum.role==="custom"?"custom"+(1+i[2].custom.map(Yt).indexOf(i[4].datum.areacd)):i[4].datum.role])&&s(t,"fill",n)},d(i){i&&m(t)}}}function qt(e){let t,r,n;function i(o,u){return u&1&&(r=null),r==null&&(r=!!["parent","country","uk"].includes(o[4].datum.role)),r?Pl:Fl}let a=i(e,-1),l=a(e);return{c(){t=F("g"),l.c(),this.h()},l(o){t=P(o,"g",{transform:!0});var u=w(t);l.l(u),u.forEach(m),this.h()},h(){s(t,"transform",n="translate("+e[4].x+","+e[4].y+")")},m(o,u){B(o,t,u),l.m(t,null)},p(o,u){a===(a=i(o,u))&&l?l.p(o,u):(l.d(1),l=a(o),l&&(l.c(),l.m(t,null))),u&1&&n!==(n="translate("+o[4].x+","+o[4].y+")")&&s(t,"transform",n)},d(o){o&&m(t),l.d()}}}function Ot(e){let t,r;return{c(){t=F("circle"),this.h()},l(n){t=P(n,"circle",{labelid:!0,transform:!0,"pointer-events":!0,r:!0,fill:!0,opacity:!0}),w(t).forEach(m),this.h()},h(){s(t,"labelid",e[6]),s(t,"transform",r="translate("+e[4].x+","+e[4].y+")"),s(t,"pointer-events","none"),s(t,"r","7"),s(t,"fill","white"),s(t,"opacity","0")},m(n,i){B(n,t,i)},p(n,i){i&1&&r!==(r="translate("+n[4].x+","+n[4].y+")")&&s(t,"transform",r)},d(n){n&&m(t)}}}function Ll(e){let t,r,n,i,a=e[0],l=[];for(let f=0;f<a.length;f+=1)l[f]=qt(Ht(e,a,f));let o=e[0].sort(Gt),u=[];for(let f=0;f<o.length;f+=1)u[f]=Ot(Vt(e,o,f));return{c(){t=F("g");for(let f=0;f<l.length;f+=1)l[f].c();r=F("g");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){t=P(f,"g",{class:!0,transform:!0,opacity:!0});var h=w(t);for(let d=0;d<l.length;d+=1)l[d].l(h);r=P(h,"g",{class:!0});var c=w(r);for(let d=0;d<u.length;d+=1)u[d].l(c);c.forEach(m),h.forEach(m),this.h()},h(){s(r,"class","circleIdentifierForLabelsGroup"),s(t,"class","primaryCirclesGroup"),s(t,"transform",n="translate(0,"+e[3]/2+")"),s(t,"opacity",i=e[1]===null?1:.2)},m(f,h){B(f,t,h);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);N(t,r);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(r,null)},p(f,[h]){if(h&5){a=f[0];let c;for(c=0;c<a.length;c+=1){const d=Ht(f,a,c);l[c]?l[c].p(d,h):(l[c]=qt(d),l[c].c(),l[c].m(t,r))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}if(h&1){o=f[0].sort(Gt);let c;for(c=0;c<o.length;c+=1){const d=Vt(f,o,c);u[c]?u[c].p(d,h):(u[c]=Ot(d),u[c].c(),u[c].m(r,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=o.length}h&8&&n!==(n="translate(0,"+f[3]/2+")")&&s(t,"transform",n),h&2&&i!==(i=f[1]===null?1:.2)&&s(t,"opacity",i)},i:W,o:W,d(f){f&&m(t),X(l,f),X(u,f)}}}const Yt=e=>e.areacd,Tt=e=>e.areacd,Gt=(e,t)=>e.x-t.x;function zl(e,t,r){let{primaryCirclesStep2:n,hoverIndex:i,checkboxedRoles:a,chartHeight:l}=t;return e.$$set=o=>{"primaryCirclesStep2"in o&&r(0,n=o.primaryCirclesStep2),"hoverIndex"in o&&r(1,i=o.hoverIndex),"checkboxedRoles"in o&&r(2,a=o.checkboxedRoles),"chartHeight"in o&&r(3,l=o.chartHeight)},[n,i,a,l]}class Bl extends te{constructor(t){super(),re(this,t,zl,Ll,ne,{primaryCirclesStep2:0,hoverIndex:1,checkboxedRoles:2,chartHeight:3})}}function Wt(e,t,r){const n=e.slice();return n[20]=t[r],n[22]=r,n}function Ut(e,t,r){const n=e.slice();return n[20]=t[r],n[21]=t,n[22]=r,n}function Dl(e){let t,r=e[1],n=[];for(let i=0;i<r.length;i+=1)n[i]=Kt(Wt(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=Pe()},l(i){for(let a=0;a<n.length;a+=1)n[a].l(i);t=Pe()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);B(i,t,a)},p(i,a){if(a&3826){r=i[1];let l;for(l=0;l<r.length;l+=1){const o=Wt(i,r,l);n[l]?n[l].p(o,a):(n[l]=Kt(o),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(i){X(n,i),i&&m(t)}}}function Vl(e){let t,r=e[0].sort(Xt),n=[];for(let i=0;i<r.length;i+=1)n[i]=Qt(Ut(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=Pe()},l(i){for(let a=0;a<n.length;a+=1)n[a].l(i);t=Pe()},m(i,a){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,a);B(i,t,a)},p(i,a){if(a&5913){r=i[0].sort(Xt);let l;for(l=0;l<r.length;l+=1){const o=Ut(i,r,l);n[l]?n[l].p(o,a):(n[l]=Qt(o),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(i){X(n,i),i&&m(t)}}}function Kt(e){let t,r,n,i,a,l=e[10]+Le(ze(e[20].datum.value,e[4].decimalPlaces))+e[9]+"",o,u,f,h,c,d,g,p=e[11].find(A).areanm+"",E,z,x,v;function A(...L){return e[16](e[20],...L)}return{c(){t=F("g"),r=F("g"),n=F("rect"),a=F("text"),o=T(l),f=F("g"),h=F("rect"),g=F("text"),E=T(p),this.h()},l(L){t=P(L,"g",{transform:!0});var R=w(t);r=P(R,"g",{class:!0});var y=w(r);n=P(y,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),w(n).forEach(m),a=P(y,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"pointer-events":!0});var k=w(a);o=G(k,l),k.forEach(m),y.forEach(m),f=P(R,"g",{class:!0});var I=w(f);h=P(I,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),w(h).forEach(m),g=P(I,"text",{x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"pointer-events":!0});var S=w(g);E=G(S,p),S.forEach(m),I.forEach(m),R.forEach(m),this.h()},h(){s(n,"x","8"),s(n,"y","-22"),s(n,"width",i=parseFloat(e[6]===void 0?100:e[6].width)+6),s(n,"height","18.5"),s(n,"rx","3px"),s(n,"stroke","#F39431"),s(n,"fill","white"),s(n,"stroke-width","1px"),s(n,"pointer-events","none"),s(a,"x","11"),s(a,"y","-8"),s(a,"text-anchor","start"),s(a,"fill","#F39431"),s(a,"font-size","14px"),s(a,"pointer-events","none"),s(r,"class","hoverLabelGroup1"),s(h,"x",c=-(parseFloat(e[7]===void 0?100:e[7].width)+12)),s(h,"y","5"),s(h,"width",d=parseFloat(e[7]===void 0?100:e[7].width)+6),s(h,"height","18.5"),s(h,"rx","3px"),s(h,"stroke","#F39431"),s(h,"fill","white"),s(h,"stroke-width","1px"),s(h,"pointer-events","none"),s(g,"x",z=-(parseFloat(e[7]===void 0?100:e[7].width)+9)),s(g,"y","19"),s(g,"text-anchor","start"),s(g,"fill","#F39431"),s(g,"font-size","14px"),s(g,"pointer-events","none"),s(f,"class","hoverLabelGroup2"),s(t,"transform",v="translate("+e[20].x+","+e[5](e[20].y)+")")},m(L,R){B(L,t,R),N(t,r),N(r,n),N(r,a),N(a,o),u=Ke.observe(a,e[15].bind(a)),N(t,f),N(f,h),N(f,g),N(g,E),x=Ke.observe(g,e[17].bind(g))},p(L,R){e=L,R&64&&i!==(i=parseFloat(e[6]===void 0?100:e[6].width)+6)&&s(n,"width",i),R&1554&&l!==(l=e[10]+Le(ze(e[20].datum.value,e[4].decimalPlaces))+e[9]+"")&&ue(o,l),R&128&&c!==(c=-(parseFloat(e[7]===void 0?100:e[7].width)+12))&&s(h,"x",c),R&128&&d!==(d=parseFloat(e[7]===void 0?100:e[7].width)+6)&&s(h,"width",d),R&2&&p!==(p=e[11].find(A).areanm+"")&&ue(E,p),R&128&&z!==(z=-(parseFloat(e[7]===void 0?100:e[7].width)+9))&&s(g,"x",z),R&34&&v!==(v="translate("+e[20].x+","+e[5](e[20].y)+")")&&s(t,"transform",v)},d(L){L&&m(t),u(),x()}}}function Qt(e){let t,r,n,i,a,l,o=e[10]+Le(ze(e[20].datum.value,e[4].decimalPlaces))+e[9]+"",u,f,h,c;function d(){e[14].call(l,e[22])}return{c(){t=F("g"),r=F("rect"),l=F("text"),u=T(o),this.h()},l(g){t=P(g,"g",{class:!0});var p=w(t);r=P(p,"rect",{labelid:!0,transform:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,stroke:!0,fill:!0,"stroke-width":!0,"pointer-events":!0}),w(r).forEach(m),l=P(p,"text",{labelid:!0,transform:!0,x:!0,y:!0,"text-anchor":!0,fill:!0,"font-size":!0,"pointer-events":!0});var E=w(l);u=G(E,o),E.forEach(m),p.forEach(m),this.h()},h(){s(r,"labelid",e[22]),s(r,"transform",n=e[12](e[8][e[22]],e[22])),s(r,"x","0"),s(r,"y","0"),s(r,"width",i=e[8].length>e[22]?e[8][e[22]].width+6:0),s(r,"height","18.5"),s(r,"rx","3px"),s(r,"stroke",a=U[e[20].datum.role==="custom"?"custom"+(1+e[3].custom.map(Zt).indexOf(e[20].datum.areacd)):e[20].datum.role]),s(r,"fill","white"),s(r,"stroke-width","1px"),s(r,"pointer-events","none"),s(l,"labelid",e[22]),s(l,"transform",f=e[12](e[8][e[22]],e[22])),s(l,"x","3"),s(l,"y","14"),s(l,"text-anchor","start"),s(l,"fill",h=U[e[20].datum.role==="custom"?"custom"+(1+e[3].custom.map(Jt).indexOf(e[20].datum.areacd)):e[20].datum.role]),s(l,"font-size","14px"),s(l,"pointer-events","none"),s(t,"class","valueLabel")},m(g,p){B(g,t,p),N(t,r),N(t,l),N(l,u),c=Ke.observe(l,d.bind(l))},p(g,p){e=g,p&256&&n!==(n=e[12](e[8][e[22]],e[22]))&&s(r,"transform",n),p&256&&i!==(i=e[8].length>e[22]?e[8][e[22]].width+6:0)&&s(r,"width",i),p&9&&a!==(a=U[e[20].datum.role==="custom"?"custom"+(1+e[3].custom.map(Zt).indexOf(e[20].datum.areacd)):e[20].datum.role])&&s(r,"stroke",a),p&1553&&o!==(o=e[10]+Le(ze(e[20].datum.value,e[4].decimalPlaces))+e[9]+"")&&ue(u,o),p&256&&f!==(f=e[12](e[8][e[22]],e[22]))&&s(l,"transform",f),p&9&&h!==(h=U[e[20].datum.role==="custom"?"custom"+(1+e[3].custom.map(Jt).indexOf(e[20].datum.areacd)):e[20].datum.role])&&s(l,"fill",h)},d(g){g&&m(t),c()}}}function Hl(e){let t;function r(a,l){return a[2]===null?Vl:Dl}let n=r(e),i=n(e);return{c(){t=F("g"),i.c(),this.h()},l(a){t=P(a,"g",{class:!0});var l=w(t);i.l(l),l.forEach(m),this.h()},h(){s(t,"class","labelsGroup")},m(a,l){B(a,t,l),i.m(t,null)},p(a,[l]){n===(n=r(a))&&i?i.p(a,l):(i.d(1),i=n(a),i&&(i.c(),i.m(t,null)))},i:W,o:W,d(a){a&&m(t),i.d()}}}const Xt=(e,t)=>e.x-t.x,Zt=e=>e.areacd,Jt=e=>e.areacd;function ql(e,t,r){let n,i,a,l,{primaryCirclesStep2:o,backgroundCirclesStep2:u,hoverIndex:f,checkboxedRoles:h,metadata:c,index:d,x:g}=t,p=Ue("areas");const E=(k,I)=>{if(v){let C=k?parseFloat(k.width):0,q=[{x:-C-10,y:0,name:"topLeft"},{x:-C-10,y:20,name:"bottomLeft"},{x:-C-10,y:10,name:"left"},{x:2,y:0,name:"topRight"},{x:2,y:20,name:"bottomRight"},{x:-C/2,y:-3,name:"top"},{x:-C/2,y:24,name:"bottom"},{x:8,y:10,name:"right"},{x:-C-2,y:-10,name:"furtherTopLeft"},{x:-C-2,y:30,name:"furtherBottomLeft"},{x:-C-18,y:10,name:"furtherLeft"},{x:-C-12,y:0,name:"bottomFurtherLeft"},{x:-C-12,y:0,name:"topFurtherLeft"},{x:0,y:-10,name:"furtherTopRight"},{x:0,y:30,name:"furtherBottomRight"},{x:10,y:0,name:"topFurtherRight"},{x:10,y:20,name:"bottomFurtherRight"},{x:10,y:-10,name:"furtherTopFurtherRight"},{x:-C-12,y:-10,name:"furtherTopFurtherLeft"},{x:10,y:30,name:"furtherBottomFurtherRight"},{x:-C-12,y:30,name:"furtherBottomFurtherLeft"},{x:-C/2,y:-13,name:"furtherTop"},{x:-C/2,y:34,name:"furtherBottom"},{x:28,y:10,name:"furtherRight"},{x:-C/2,y:-23,name:"furtherFurtherTop"},{x:-C/2,y:44,name:"furtherFurtherBottom"},{x:-C-28,y:10,name:"furtherFurtherLeft"},{x:28,y:10,name:"furtherFurtherRight"}],D=fe(".beeswarm-row-svg-"+d).selectAll(".labelsGroup").selectAll("rect"),M=fe(".beeswarm-row-svg-"+d).select(".primaryCirclesGroup").select(".circleIdentifierForLabelsGroup").selectAll("circle");for(var S=0;S<q.length;S++){let _={x1:o[I].x+q[S].x,x2:o[I].x+q[S].x+C,y1:o[I].y-l+q[S].y,y2:o[I].y-l+q[S].y+18.5},b=!0;if(D.each(function(){let O=fe(this);const ie=/translate\(([\d.-]+),\s*([\d.-]+)\)/;let Q=fe(this).attr("transform").match(ie);ut(_.x1,_.x2,_.y1,_.y2,parseFloat(Q[1]),parseFloat(Q[1])+parseFloat(O.attr("width")),parseFloat(Q[2]),parseFloat(Q[2])+18.5)&O.attr("labelid")!=I&&(b=!1)}),M.each(function(){let O=fe(this);const ie=/translate\(([\d.-]+),\s*([\d.-]+)\)/;let Q=fe(this).attr("transform").match(ie),$=parseFloat(O.attr("r"));ut(_.x1,_.x2,_.y1,_.y2,parseFloat(Q[1])-$,parseFloat(Q[1])+$,parseFloat(Q[2])-$,parseFloat(Q[2])+$)&O.attr("labelid")!=I&&(b=!1)}),b)return"translate("+_.x1+","+_.y1+")"}return"translate(200,0)"}else return"translate(0,0)"};let z,x,v=!1;$t(()=>{v=!0});function A(k){var I;a[k]=(I=Ye.entries.get(this))==null?void 0:I.contentRect,r(8,a)}function L(){var k;z=(k=Ye.entries.get(this))==null?void 0:k.contentRect,r(6,z)}const R=(k,I)=>I.areacd===k.datum.areacd;function y(){var k;x=(k=Ye.entries.get(this))==null?void 0:k.contentRect,r(7,x)}return e.$$set=k=>{"primaryCirclesStep2"in k&&r(0,o=k.primaryCirclesStep2),"backgroundCirclesStep2"in k&&r(1,u=k.backgroundCirclesStep2),"hoverIndex"in k&&r(2,f=k.hoverIndex),"checkboxedRoles"in k&&r(3,h=k.checkboxedRoles),"metadata"in k&&r(4,c=k.metadata),"index"in k&&r(13,d=k.index),"x"in k&&r(5,g=k.x)},e.$$.update=()=>{e.$$.dirty&16&&r(10,n=c.prefix===null?"":c.prefix),e.$$.dirty&16&&r(9,i=c.suffix===null?"":c.suffix),e.$$.dirty&1&&(l=Math.min(...o.map(k=>k.y))+(Math.max(...o.map(k=>k.y))-Math.min(...o.map(k=>k.y)))/2)},r(8,a=[]),[o,u,f,h,c,g,z,x,a,i,n,p,E,d,A,L,R,y]}class Ol extends te{constructor(t){super(),re(this,t,ql,Hl,ne,{primaryCirclesStep2:0,backgroundCirclesStep2:1,hoverIndex:2,checkboxedRoles:3,metadata:4,index:13,x:5})}}function jt(e){let t,r;return{c(){t=F("line"),this.h()},l(n){t=P(n,"line",{opacity:!0,class:!0,x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),w(t).forEach(m),this.h()},h(){s(t,"opacity",r=e[0]==null?1:.2),s(t,"class","medianLineForGroup"),s(t,"x1",e[14]),s(t,"x2",e[14]),s(t,"y1",0),s(t,"y2",e[9]),s(t,"stroke","#000099"),s(t,"stroke-width","2px"),s(t,"pointer-events","none")},m(n,i){B(n,t,i)},p(n,i){i&1&&r!==(r=n[0]==null?1:.2)&&s(t,"opacity",r),i&16384&&s(t,"x1",n[14]),i&16384&&s(t,"x2",n[14]),i&512&&s(t,"y2",n[9])},d(n){n&&m(t)}}}function Yl(e){let t,r,n,i,a,l,o,u,f,h,c,d,g,p;function E(v){e[24](v)}let z={backgroundCirclesStep2:e[13],x:e[6],y:e[5]};e[0]!==void 0&&(z.hoverIndex=e[0]),n=new Sl({props:z}),er.push(()=>wr(n,"hoverIndex",E));let x=e[12]&&jt(e);return f=new Bl({props:{primaryCirclesStep2:e[15],hoverIndex:e[0],checkboxedRoles:e[8],chartHeight:e[9]}}),h=new Rl({props:{backgroundCirclesStep2:e[13].filter(e[25]),x:e[6],y:e[5],hoverIndex:e[0]}}),c=new Ol({props:{index:e[1],primaryCirclesStep2:e[15],backgroundCirclesStep2:e[13].filter(e[26]),hoverIndex:e[0],checkboxedRoles:e[8],metadata:e[4],x:e[6]}}),{c(){t=F("svg"),r=F("g"),xe(n.$$.fragment),x&&x.c(),a=F("line"),xe(f.$$.fragment),xe(h.$$.fragment),xe(c.$$.fragment),this.h()},l(v){t=P(v,"svg",{class:!0,height:!0,width:!0});var A=w(t);r=P(A,"g",{class:!0,transform:!0});var L=w(r);we(n.$$.fragment,L),x&&x.l(L),a=P(L,"line",{opacity:!0,class:!0,x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,"pointer-events":!0}),w(a).forEach(m),we(f.$$.fragment,L),we(h.$$.fragment,L),we(c.$$.fragment,L),L.forEach(m),A.forEach(m),this.h()},h(){s(a,"opacity",l=e[0]==null?1:.2),s(a,"class","medianLine"),s(a,"x1",o=e[10]/2),s(a,"x2",u=e[10]/2),s(a,"y1",0),s(a,"y2",e[9]),s(a,"stroke","#871A5B"),s(a,"stroke-width","2px"),s(a,"pointer-events","none"),s(r,"class","chart-container"),s(r,"transform",d="translate("+(e[3].left+e[11])+","+e[3].top+")"),s(t,"class",g=st("beeswarm-row-svg-"+e[1])+" svelte-eq4eax"),s(t,"height",e[7]),s(t,"width",e[2])},m(v,A){B(v,t,A),N(t,r),ke(n,r,null),x&&x.m(r,null),N(r,a),ke(f,r,null),ke(h,r,null),ke(c,r,null),p=!0},p(v,[A]){const L={};A&8192&&(L.backgroundCirclesStep2=v[13]),A&64&&(L.x=v[6]),A&32&&(L.y=v[5]),!i&&A&1&&(i=!0,L.hoverIndex=v[0],kr(()=>i=!1)),n.$set(L),v[12]?x?x.p(v,A):(x=jt(v),x.c(),x.m(r,a)):x&&(x.d(1),x=null),(!p||A&1&&l!==(l=v[0]==null?1:.2))&&s(a,"opacity",l),(!p||A&1024&&o!==(o=v[10]/2))&&s(a,"x1",o),(!p||A&1024&&u!==(u=v[10]/2))&&s(a,"x2",u),(!p||A&512)&&s(a,"y2",v[9]);const R={};A&32768&&(R.primaryCirclesStep2=v[15]),A&1&&(R.hoverIndex=v[0]),A&256&&(R.checkboxedRoles=v[8]),A&512&&(R.chartHeight=v[9]),f.$set(R);const y={};A&8193&&(y.backgroundCirclesStep2=v[13].filter(v[25])),A&64&&(y.x=v[6]),A&32&&(y.y=v[5]),A&1&&(y.hoverIndex=v[0]),h.$set(y);const k={};A&2&&(k.index=v[1]),A&32768&&(k.primaryCirclesStep2=v[15]),A&8193&&(k.backgroundCirclesStep2=v[13].filter(v[26])),A&1&&(k.hoverIndex=v[0]),A&256&&(k.checkboxedRoles=v[8]),A&16&&(k.metadata=v[4]),A&64&&(k.x=v[6]),c.$set(k),(!p||A&2056&&d!==(d="translate("+(v[3].left+v[11])+","+v[3].top+")"))&&s(r,"transform",d),(!p||A&2&&g!==(g=st("beeswarm-row-svg-"+v[1])+" svelte-eq4eax"))&&s(t,"class",g),(!p||A&128)&&s(t,"height",v[7]),(!p||A&4)&&s(t,"width",v[2])},i(v){p||(oe(n.$$.fragment,v),oe(f.$$.fragment,v),oe(h.$$.fragment,v),oe(c.$$.fragment,v),p=!0)},o(v){se(n.$$.fragment,v),se(f.$$.fragment,v),se(h.$$.fragment,v),se(c.$$.fragment,v),p=!1},d(v){v&&m(t),Ee(n),x&&x.d(),Ee(f),Ee(h),Ee(c)}}}function Tl(e,t,r){let n,i,a,l,o,u,{index:f,width:h,outerPadding:c,data:d,medianValue:g,medianAbsoluteDeviation:p,metadata:E,y:z,xDomainGlobal:x,x:v,height:A,checkboxedRoles:L,hoverIndex:R,chartHeight:y,chartWidth:k,spaceForAreasBeyondScale:I,showGroupMedianLine:S,selectedAreas:C=[]}=t;function q(_){R=_,r(0,R)}const D=(_,b)=>_.datum.areacd===R,M=(_,b)=>_.datum.areacd===R;return e.$$set=_=>{"index"in _&&r(1,f=_.index),"width"in _&&r(2,h=_.width),"outerPadding"in _&&r(3,c=_.outerPadding),"data"in _&&r(17,d=_.data),"medianValue"in _&&r(18,g=_.medianValue),"medianAbsoluteDeviation"in _&&r(19,p=_.medianAbsoluteDeviation),"metadata"in _&&r(4,E=_.metadata),"y"in _&&r(5,z=_.y),"xDomainGlobal"in _&&r(16,x=_.xDomainGlobal),"x"in _&&r(6,v=_.x),"height"in _&&r(7,A=_.height),"checkboxedRoles"in _&&r(8,L=_.checkboxedRoles),"hoverIndex"in _&&r(0,R=_.hoverIndex),"chartHeight"in _&&r(9,y=_.chartHeight),"chartWidth"in _&&r(10,k=_.chartWidth),"spaceForAreasBeyondScale"in _&&r(11,I=_.spaceForAreasBeyondScale),"showGroupMedianLine"in _&&r(12,S=_.showGroupMedianLine),"selectedAreas"in _&&r(20,C=_.selectedAreas)},e.$$.update=()=>{e.$$.dirty&917520&&r(23,n=d.map(_=>({..._,calcYValue:E.polarity*(_.value-g)/p}))),e.$$.dirty&8391712&&r(13,i=new Be(n,4,_=>z(_.calcYValue)>k?k+I/2:z(_.calcYValue)<0?-I/2:z(_.calcYValue)).calculateYPositions()),e.$$.dirty&73728&&r(16,x[0]=i!=null?Math.min(...i.map(_=>_.y),x[0]):x[0],x),e.$$.dirty&73728&&r(16,x[1]=i!=null?Math.max(...i.map(_=>_.y),x[1]):x[1],x),e.$$.dirty&1179904&&r(22,a=d.filter(_=>(L.custom!=null?L.custom:[]).map(b=>b.areacd).includes(_.areacd)||C.filter(b=>L[b.role]).map(b=>b.data.areacd).includes(_.areacd))),e.$$.dirty&6029328&&r(21,l=a.map(_=>({..._,role:C.filter(b=>b.data.areacd===_.areacd).length>0?C.find(b=>b.data.areacd===_.areacd).role:"custom",calcYValue:E.polarity*(_.value-g)/p}))),e.$$.dirty&2097184&&r(15,o=new Be(l,8.5,_=>z(_.calcYValue)).calculateYPositions()),e.$$.dirty&917536&&r(14,u=z((Mr(d,"value")-g)/p))},[R,f,h,c,E,z,v,A,L,y,k,I,S,i,u,o,x,d,g,p,C,l,a,n,q,D,M]}class jl extends te{constructor(t){super(),re(this,t,Tl,Yl,ne,{index:1,width:2,outerPadding:3,data:17,medianValue:18,medianAbsoluteDeviation:19,metadata:4,y:5,xDomainGlobal:16,x:6,height:7,checkboxedRoles:8,hoverIndex:0,chartHeight:9,chartWidth:10,spaceForAreasBeyondScale:11,showGroupMedianLine:12,selectedAreas:20})}}export{jl as H,Xl as P,Zl as R,Ql as S,Jl as a,je as l};
